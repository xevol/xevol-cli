{"version":3,"file":"backend.js","mappings":"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","sources":["webpack://ReactDevToolsBackend/webpack/universalModuleDefinition","webpack://ReactDevToolsBackend/../../build/oss-experimental/react-debug-tools/cjs/react-debug-tools.production.js","webpack://ReactDevToolsBackend/../../build/oss-experimental/react-debug-tools/index.js","webpack://ReactDevToolsBackend/../../build/oss-experimental/react/cjs/react.production.js","webpack://ReactDevToolsBackend/../../build/oss-experimental/react/index.js","webpack://ReactDevToolsBackend/../../node_modules/error-stack-parser/error-stack-parser.js","webpack://ReactDevToolsBackend/../../node_modules/lru-cache/index.js","webpack://ReactDevToolsBackend/../../node_modules/process/browser.js","webpack://ReactDevToolsBackend/../../node_modules/stackframe/stackframe.js","webpack://ReactDevToolsBackend/../../node_modules/yallist/iterator.js","webpack://ReactDevToolsBackend/../../node_modules/yallist/yallist.js","webpack://ReactDevToolsBackend/webpack/bootstrap","webpack://ReactDevToolsBackend/webpack/runtime/compat get default export","webpack://ReactDevToolsBackend/webpack/runtime/define property getters","webpack://ReactDevToolsBackend/webpack/runtime/hasOwnProperty shorthand","webpack://ReactDevToolsBackend/webpack/runtime/make namespace object","webpack://ReactDevToolsBackend/../react-devtools-shared/src/events.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/constants.js","webpack://ReactDevToolsBackend/../../node_modules/compare-versions/lib/esm/index.js","webpack://ReactDevToolsBackend/../shared/ReactFeatureFlags.js","webpack://ReactDevToolsBackend/../shared/ReactSymbols.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/frontend/types.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/isArray.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/utils.js","webpack://ReactDevToolsBackend/../shared/noop.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/hydration.js","webpack://ReactDevToolsBackend/../shared/isArray.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/utils/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/Highlighter/Overlay.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/Highlighter/Highlighter.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/Highlighter/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/TraceUpdates/canvas.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/TraceUpdates/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/bridge.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/storage.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/agent.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/shared/DevToolsConsolePatching.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/shared/DevToolsComponentStackFrame.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/shared/DevToolsOwnerStack.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/flight/DevToolsComponentInfoStack.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/shared/DevToolsServerComponentLogs.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/flight/renderer.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/utils/parseStackTrace.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/shared/ReactSymbols.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/config/DevToolsFeatureFlags.core-oss.js","webpack://ReactDevToolsBackend/../shared/objectIs.js","webpack://ReactDevToolsBackend/../shared/hasOwnProperty.js","webpack://ReactDevToolsBackend/../shared/ReactIODescription.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/fiber/DevToolsFiberComponentStack.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/StyleX/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/devtools/constants.js","webpack://ReactDevToolsBackend/../react-devtools-timeline/src/constants.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/profilingHooks.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/fiber/renderer.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/legacy/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/legacy/renderer.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/attachRenderer.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/utils/formatConsoleArguments.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/hook.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/NativeStyleEditor/resolveBoxStyle.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor.js","webpack://ReactDevToolsBackend/./src/backend.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactDevToolsBackend\"] = factory();\n\telse\n\t\troot[\"ReactDevToolsBackend\"] = factory();\n})(self, () => {\nreturn ","/**\n * @license React\n * react-debug-tools.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar ErrorStackParser = require(\"error-stack-parser\"),\n  React = require(\"react\"),\n  assign = Object.assign,\n  ReactSharedInternals =\n    React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_MEMO_CACHE_SENTINEL = Symbol.for(\"react.memo_cache_sentinel\"),\n  hasOwnProperty = Object.prototype.hasOwnProperty,\n  hookLog = [],\n  primitiveStackCache = null;\nfunction getPrimitiveStackCache() {\n  if (null === primitiveStackCache) {\n    var cache = new Map();\n    try {\n      Dispatcher.useContext({ _currentValue: null });\n      Dispatcher.useState(null);\n      Dispatcher.useReducer(function (s) {\n        return s;\n      }, null);\n      Dispatcher.useRef(null);\n      \"function\" === typeof Dispatcher.useCacheRefresh &&\n        Dispatcher.useCacheRefresh();\n      Dispatcher.useLayoutEffect(function () {});\n      Dispatcher.useInsertionEffect(function () {});\n      Dispatcher.useEffect(function () {});\n      Dispatcher.useImperativeHandle(void 0, function () {\n        return null;\n      });\n      Dispatcher.useDebugValue(null);\n      Dispatcher.useCallback(function () {});\n      Dispatcher.useTransition();\n      Dispatcher.useSyncExternalStore(\n        function () {\n          return function () {};\n        },\n        function () {\n          return null;\n        },\n        function () {\n          return null;\n        }\n      );\n      Dispatcher.useDeferredValue(null);\n      Dispatcher.useMemo(function () {\n        return null;\n      });\n      Dispatcher.useOptimistic(null, function (s) {\n        return s;\n      });\n      Dispatcher.useFormState(function (s) {\n        return s;\n      }, null);\n      Dispatcher.useActionState(function (s) {\n        return s;\n      }, null);\n      Dispatcher.useHostTransitionStatus();\n      \"function\" === typeof Dispatcher.useMemoCache &&\n        Dispatcher.useMemoCache(0);\n      if (\"function\" === typeof Dispatcher.use) {\n        Dispatcher.use({ $$typeof: REACT_CONTEXT_TYPE, _currentValue: null });\n        Dispatcher.use({\n          then: function () {},\n          status: \"fulfilled\",\n          value: null\n        });\n        try {\n          Dispatcher.use({ then: function () {} });\n        } catch (x) {}\n      }\n      Dispatcher.useId();\n      \"function\" === typeof Dispatcher.useEffectEvent &&\n        Dispatcher.useEffectEvent(function () {});\n    } finally {\n      var readHookLog = hookLog;\n      hookLog = [];\n    }\n    for (var i = 0; i < readHookLog.length; i++) {\n      var hook = readHookLog[i];\n      cache.set(hook.primitive, ErrorStackParser.parse(hook.stackError));\n    }\n    primitiveStackCache = cache;\n  }\n  return primitiveStackCache;\n}\nvar currentFiber = null,\n  currentHook = null,\n  currentContextDependency = null,\n  currentThenableIndex = 0,\n  currentThenableState = null;\nfunction nextHook() {\n  var hook = currentHook;\n  null !== hook && (currentHook = hook.next);\n  return hook;\n}\nfunction readContext(context) {\n  if (null === currentFiber) return context._currentValue;\n  if (null === currentContextDependency)\n    throw Error(\n      \"Context reads do not line up with context dependencies. This is a bug in React Debug Tools.\"\n    );\n  hasOwnProperty.call(currentContextDependency, \"memoizedValue\")\n    ? ((context = currentContextDependency.memoizedValue),\n      (currentContextDependency = currentContextDependency.next))\n    : (context = context._currentValue);\n  return context;\n}\nvar SuspenseException = Error(\n    \"Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\\n\\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`.\"\n  ),\n  Dispatcher = {\n    readContext: readContext,\n    use: function (usable) {\n      if (null !== usable && \"object\" === typeof usable) {\n        if (\"function\" === typeof usable.then) {\n          usable =\n            null !== currentThenableState &&\n            currentThenableIndex < currentThenableState.length\n              ? currentThenableState[currentThenableIndex++]\n              : usable;\n          switch (usable.status) {\n            case \"fulfilled\":\n              var fulfilledValue = usable.value;\n              hookLog.push({\n                displayName: null,\n                primitive: \"Promise\",\n                stackError: Error(),\n                value: fulfilledValue,\n                debugInfo:\n                  void 0 === usable._debugInfo ? null : usable._debugInfo,\n                dispatcherHookName: \"Use\"\n              });\n              return fulfilledValue;\n            case \"rejected\":\n              throw usable.reason;\n          }\n          hookLog.push({\n            displayName: null,\n            primitive: \"Unresolved\",\n            stackError: Error(),\n            value: usable,\n            debugInfo: void 0 === usable._debugInfo ? null : usable._debugInfo,\n            dispatcherHookName: \"Use\"\n          });\n          throw SuspenseException;\n        }\n        if (usable.$$typeof === REACT_CONTEXT_TYPE)\n          return (\n            (fulfilledValue = readContext(usable)),\n            hookLog.push({\n              displayName: usable.displayName || \"Context\",\n              primitive: \"Context (use)\",\n              stackError: Error(),\n              value: fulfilledValue,\n              debugInfo: null,\n              dispatcherHookName: \"Use\"\n            }),\n            fulfilledValue\n          );\n      }\n      throw Error(\"An unsupported type was passed to use(): \" + String(usable));\n    },\n    useCallback: function (callback) {\n      var hook = nextHook();\n      hookLog.push({\n        displayName: null,\n        primitive: \"Callback\",\n        stackError: Error(),\n        value: null !== hook ? hook.memoizedState[0] : callback,\n        debugInfo: null,\n        dispatcherHookName: \"Callback\"\n      });\n      return callback;\n    },\n    useContext: function (context) {\n      var value = readContext(context);\n      hookLog.push({\n        displayName: context.displayName || null,\n        primitive: \"Context\",\n        stackError: Error(),\n        value: value,\n        debugInfo: null,\n        dispatcherHookName: \"Context\"\n      });\n      return value;\n    },\n    useEffect: function (create) {\n      nextHook();\n      hookLog.push({\n        displayName: null,\n        primitive: \"Effect\",\n        stackError: Error(),\n        value: create,\n        debugInfo: null,\n        dispatcherHookName: \"Effect\"\n      });\n    },\n    useImperativeHandle: function (ref) {\n      nextHook();\n      var instance = void 0;\n      null !== ref && \"object\" === typeof ref && (instance = ref.current);\n      hookLog.push({\n        displayName: null,\n        primitive: \"ImperativeHandle\",\n        stackError: Error(),\n        value: instance,\n        debugInfo: null,\n        dispatcherHookName: \"ImperativeHandle\"\n      });\n    },\n    useLayoutEffect: function (create) {\n      nextHook();\n      hookLog.push({\n        displayName: null,\n        primitive: \"LayoutEffect\",\n        stackError: Error(),\n        value: create,\n        debugInfo: null,\n        dispatcherHookName: \"LayoutEffect\"\n      });\n    },\n    useInsertionEffect: function (create) {\n      nextHook();\n      hookLog.push({\n        displayName: null,\n        primitive: \"InsertionEffect\",\n        stackError: Error(),\n        value: create,\n        debugInfo: null,\n        dispatcherHookName: \"InsertionEffect\"\n      });\n    },\n    useMemo: function (nextCreate) {\n      var hook = nextHook();\n      nextCreate = null !== hook ? hook.memoizedState[0] : nextCreate();\n      hookLog.push({\n        displayName: null,\n        primitive: \"Memo\",\n        stackError: Error(),\n        value: nextCreate,\n        debugInfo: null,\n        dispatcherHookName: \"Memo\"\n      });\n      return nextCreate;\n    },\n    useReducer: function (reducer, initialArg, init) {\n      reducer = nextHook();\n      initialArg =\n        null !== reducer\n          ? reducer.memoizedState\n          : void 0 !== init\n            ? init(initialArg)\n            : initialArg;\n      hookLog.push({\n        displayName: null,\n        primitive: \"Reducer\",\n        stackError: Error(),\n        value: initialArg,\n        debugInfo: null,\n        dispatcherHookName: \"Reducer\"\n      });\n      return [initialArg, function () {}];\n    },\n    useRef: function (initialValue) {\n      var hook = nextHook();\n      initialValue =\n        null !== hook ? hook.memoizedState : { current: initialValue };\n      hookLog.push({\n        displayName: null,\n        primitive: \"Ref\",\n        stackError: Error(),\n        value: initialValue.current,\n        debugInfo: null,\n        dispatcherHookName: \"Ref\"\n      });\n      return initialValue;\n    },\n    useState: function (initialState) {\n      var hook = nextHook();\n      initialState =\n        null !== hook\n          ? hook.memoizedState\n          : \"function\" === typeof initialState\n            ? initialState()\n            : initialState;\n      hookLog.push({\n        displayName: null,\n        primitive: \"State\",\n        stackError: Error(),\n        value: initialState,\n        debugInfo: null,\n        dispatcherHookName: \"State\"\n      });\n      return [initialState, function () {}];\n    },\n    useDebugValue: function (value, formatterFn) {\n      hookLog.push({\n        displayName: null,\n        primitive: \"DebugValue\",\n        stackError: Error(),\n        value: \"function\" === typeof formatterFn ? formatterFn(value) : value,\n        debugInfo: null,\n        dispatcherHookName: \"DebugValue\"\n      });\n    },\n    useDeferredValue: function (value) {\n      var hook = nextHook();\n      value = null !== hook ? hook.memoizedState : value;\n      hookLog.push({\n        displayName: null,\n        primitive: \"DeferredValue\",\n        stackError: Error(),\n        value: value,\n        debugInfo: null,\n        dispatcherHookName: \"DeferredValue\"\n      });\n      return value;\n    },\n    useTransition: function () {\n      var stateHook = nextHook();\n      nextHook();\n      stateHook = null !== stateHook ? stateHook.memoizedState : !1;\n      hookLog.push({\n        displayName: null,\n        primitive: \"Transition\",\n        stackError: Error(),\n        value: stateHook,\n        debugInfo: null,\n        dispatcherHookName: \"Transition\"\n      });\n      return [stateHook, function () {}];\n    },\n    useSyncExternalStore: function (subscribe, getSnapshot) {\n      nextHook();\n      nextHook();\n      subscribe = getSnapshot();\n      hookLog.push({\n        displayName: null,\n        primitive: \"SyncExternalStore\",\n        stackError: Error(),\n        value: subscribe,\n        debugInfo: null,\n        dispatcherHookName: \"SyncExternalStore\"\n      });\n      return subscribe;\n    },\n    useId: function () {\n      var hook = nextHook();\n      hook = null !== hook ? hook.memoizedState : \"\";\n      hookLog.push({\n        displayName: null,\n        primitive: \"Id\",\n        stackError: Error(),\n        value: hook,\n        debugInfo: null,\n        dispatcherHookName: \"Id\"\n      });\n      return hook;\n    },\n    useHostTransitionStatus: function () {\n      var status = readContext({ _currentValue: null });\n      hookLog.push({\n        displayName: null,\n        primitive: \"HostTransitionStatus\",\n        stackError: Error(),\n        value: status,\n        debugInfo: null,\n        dispatcherHookName: \"HostTransitionStatus\"\n      });\n      return status;\n    },\n    useFormState: function (action, initialState) {\n      var hook = nextHook();\n      nextHook();\n      nextHook();\n      action = Error();\n      var debugInfo = null,\n        error = null;\n      if (null !== hook)\n        if (\n          ((initialState = hook.memoizedState),\n          \"object\" === typeof initialState &&\n            null !== initialState &&\n            \"function\" === typeof initialState.then)\n        )\n          switch (initialState.status) {\n            case \"fulfilled\":\n              var value = initialState.value;\n              debugInfo =\n                void 0 === initialState._debugInfo\n                  ? null\n                  : initialState._debugInfo;\n              break;\n            case \"rejected\":\n              error = initialState.reason;\n              break;\n            default:\n              (error = SuspenseException),\n                (debugInfo =\n                  void 0 === initialState._debugInfo\n                    ? null\n                    : initialState._debugInfo),\n                (value = initialState);\n          }\n        else value = initialState;\n      else value = initialState;\n      hookLog.push({\n        displayName: null,\n        primitive: \"FormState\",\n        stackError: action,\n        value: value,\n        debugInfo: debugInfo,\n        dispatcherHookName: \"FormState\"\n      });\n      if (null !== error) throw error;\n      return [value, function () {}, !1];\n    },\n    useActionState: function (action, initialState) {\n      var hook = nextHook();\n      nextHook();\n      nextHook();\n      action = Error();\n      var debugInfo = null,\n        error = null;\n      if (null !== hook)\n        if (\n          ((initialState = hook.memoizedState),\n          \"object\" === typeof initialState &&\n            null !== initialState &&\n            \"function\" === typeof initialState.then)\n        )\n          switch (initialState.status) {\n            case \"fulfilled\":\n              var value = initialState.value;\n              debugInfo =\n                void 0 === initialState._debugInfo\n                  ? null\n                  : initialState._debugInfo;\n              break;\n            case \"rejected\":\n              error = initialState.reason;\n              break;\n            default:\n              (error = SuspenseException),\n                (debugInfo =\n                  void 0 === initialState._debugInfo\n                    ? null\n                    : initialState._debugInfo),\n                (value = initialState);\n          }\n        else value = initialState;\n      else value = initialState;\n      hookLog.push({\n        displayName: null,\n        primitive: \"ActionState\",\n        stackError: action,\n        value: value,\n        debugInfo: debugInfo,\n        dispatcherHookName: \"ActionState\"\n      });\n      if (null !== error) throw error;\n      return [value, function () {}, !1];\n    },\n    useOptimistic: function (passthrough) {\n      var hook = nextHook();\n      passthrough = null !== hook ? hook.memoizedState : passthrough;\n      hookLog.push({\n        displayName: null,\n        primitive: \"Optimistic\",\n        stackError: Error(),\n        value: passthrough,\n        debugInfo: null,\n        dispatcherHookName: \"Optimistic\"\n      });\n      return [passthrough, function () {}];\n    },\n    useMemoCache: function (size) {\n      var fiber = currentFiber;\n      if (null == fiber) return [];\n      fiber = null != fiber.updateQueue ? fiber.updateQueue.memoCache : null;\n      if (null == fiber) return [];\n      var data = fiber.data[fiber.index];\n      if (void 0 === data) {\n        data = fiber.data[fiber.index] = Array(size);\n        for (var i = 0; i < size; i++) data[i] = REACT_MEMO_CACHE_SENTINEL;\n      }\n      fiber.index++;\n      return data;\n    },\n    useCacheRefresh: function () {\n      var hook = nextHook();\n      hookLog.push({\n        displayName: null,\n        primitive: \"CacheRefresh\",\n        stackError: Error(),\n        value: null !== hook ? hook.memoizedState : function () {},\n        debugInfo: null,\n        dispatcherHookName: \"CacheRefresh\"\n      });\n      return function () {};\n    },\n    useEffectEvent: function (callback) {\n      nextHook();\n      hookLog.push({\n        displayName: null,\n        primitive: \"EffectEvent\",\n        stackError: Error(),\n        value: callback,\n        debugInfo: null,\n        dispatcherHookName: \"EffectEvent\"\n      });\n      return callback;\n    }\n  },\n  DispatcherProxyHandler = {\n    get: function (target, prop) {\n      if (target.hasOwnProperty(prop)) return target[prop];\n      target = Error(\"Missing method in Dispatcher: \" + prop);\n      target.name = \"ReactDebugToolsUnsupportedHookError\";\n      throw target;\n    }\n  },\n  DispatcherProxy =\n    \"undefined\" === typeof Proxy\n      ? Dispatcher\n      : new Proxy(Dispatcher, DispatcherProxyHandler),\n  mostLikelyAncestorIndex = 0;\nfunction findSharedIndex(hookStack, rootStack, rootIndex) {\n  var source = rootStack[rootIndex].source,\n    i = 0;\n  a: for (; i < hookStack.length; i++)\n    if (hookStack[i].source === source) {\n      for (\n        var a = rootIndex + 1, b = i + 1;\n        a < rootStack.length && b < hookStack.length;\n        a++, b++\n      )\n        if (hookStack[b].source !== rootStack[a].source) continue a;\n      return i;\n    }\n  return -1;\n}\nfunction isReactWrapper(functionName, wrapperName) {\n  functionName = parseHookName(functionName);\n  return \"HostTransitionStatus\" === wrapperName\n    ? functionName === wrapperName || \"FormStatus\" === functionName\n    : functionName === wrapperName;\n}\nfunction parseHookName(functionName) {\n  if (!functionName) return \"\";\n  var startIndex = functionName.lastIndexOf(\"[as \");\n  if (-1 !== startIndex)\n    return parseHookName(functionName.slice(startIndex + 4, -1));\n  startIndex = functionName.lastIndexOf(\".\");\n  startIndex = -1 === startIndex ? 0 : startIndex + 1;\n  functionName.slice(startIndex).startsWith(\"unstable_\") && (startIndex += 9);\n  functionName.slice(startIndex).startsWith(\"experimental_\") &&\n    (startIndex += 13);\n  if (\"use\" === functionName.slice(startIndex, startIndex + 3)) {\n    if (3 === functionName.length - startIndex) return \"Use\";\n    startIndex += 3;\n  }\n  return functionName.slice(startIndex);\n}\nfunction buildTree(rootStack$jscomp$0, readHookLog) {\n  for (\n    var rootChildren = [],\n      prevStack = null,\n      levelChildren = rootChildren,\n      nativeHookID = 0,\n      stackOfChildren = [],\n      i = 0;\n    i < readHookLog.length;\n    i++\n  ) {\n    var hook = readHookLog[i];\n    var rootStack = rootStack$jscomp$0;\n    var JSCompiler_inline_result = ErrorStackParser.parse(hook.stackError);\n    b: {\n      var hookStack = JSCompiler_inline_result,\n        rootIndex = findSharedIndex(\n          hookStack,\n          rootStack,\n          mostLikelyAncestorIndex\n        );\n      if (-1 !== rootIndex) rootStack = rootIndex;\n      else {\n        for (\n          var i$jscomp$0 = 0;\n          i$jscomp$0 < rootStack.length && 5 > i$jscomp$0;\n          i$jscomp$0++\n        )\n          if (\n            ((rootIndex = findSharedIndex(hookStack, rootStack, i$jscomp$0)),\n            -1 !== rootIndex)\n          ) {\n            mostLikelyAncestorIndex = i$jscomp$0;\n            rootStack = rootIndex;\n            break b;\n          }\n        rootStack = -1;\n      }\n    }\n    b: {\n      hookStack = JSCompiler_inline_result;\n      rootIndex = getPrimitiveStackCache().get(hook.primitive);\n      if (void 0 !== rootIndex)\n        for (\n          i$jscomp$0 = 0;\n          i$jscomp$0 < rootIndex.length && i$jscomp$0 < hookStack.length;\n          i$jscomp$0++\n        )\n          if (rootIndex[i$jscomp$0].source !== hookStack[i$jscomp$0].source) {\n            i$jscomp$0 < hookStack.length - 1 &&\n              isReactWrapper(\n                hookStack[i$jscomp$0].functionName,\n                hook.dispatcherHookName\n              ) &&\n              i$jscomp$0++;\n            i$jscomp$0 < hookStack.length - 1 &&\n              isReactWrapper(\n                hookStack[i$jscomp$0].functionName,\n                hook.dispatcherHookName\n              ) &&\n              i$jscomp$0++;\n            hookStack = i$jscomp$0;\n            break b;\n          }\n      hookStack = -1;\n    }\n    JSCompiler_inline_result =\n      -1 === rootStack || -1 === hookStack || 2 > rootStack - hookStack\n        ? -1 === hookStack\n          ? [null, null]\n          : [JSCompiler_inline_result[hookStack - 1], null]\n        : [\n            JSCompiler_inline_result[hookStack - 1],\n            JSCompiler_inline_result.slice(hookStack, rootStack - 1)\n          ];\n    hookStack = JSCompiler_inline_result[0];\n    JSCompiler_inline_result = JSCompiler_inline_result[1];\n    rootStack = hook.displayName;\n    null === rootStack &&\n      null !== hookStack &&\n      (rootStack =\n        parseHookName(hookStack.functionName) ||\n        parseHookName(hook.dispatcherHookName));\n    if (null !== JSCompiler_inline_result) {\n      hookStack = 0;\n      if (null !== prevStack) {\n        for (\n          ;\n          hookStack < JSCompiler_inline_result.length &&\n          hookStack < prevStack.length &&\n          JSCompiler_inline_result[\n            JSCompiler_inline_result.length - hookStack - 1\n          ].source === prevStack[prevStack.length - hookStack - 1].source;\n\n        )\n          hookStack++;\n        for (\n          prevStack = prevStack.length - 1;\n          prevStack > hookStack;\n          prevStack--\n        )\n          levelChildren = stackOfChildren.pop();\n      }\n      for (\n        prevStack = JSCompiler_inline_result.length - hookStack - 1;\n        1 <= prevStack;\n        prevStack--\n      )\n        (hookStack = []),\n          (rootIndex = JSCompiler_inline_result[prevStack]),\n          (rootIndex = {\n            id: null,\n            isStateEditable: !1,\n            name: parseHookName(\n              JSCompiler_inline_result[prevStack - 1].functionName\n            ),\n            value: void 0,\n            subHooks: hookStack,\n            debugInfo: null,\n            hookSource: {\n              lineNumber:\n                void 0 === rootIndex.lineNumber ? null : rootIndex.lineNumber,\n              columnNumber:\n                void 0 === rootIndex.columnNumber\n                  ? null\n                  : rootIndex.columnNumber,\n              functionName:\n                void 0 === rootIndex.functionName\n                  ? null\n                  : rootIndex.functionName,\n              fileName:\n                void 0 === rootIndex.fileName ? null : rootIndex.fileName\n            }\n          }),\n          levelChildren.push(rootIndex),\n          stackOfChildren.push(levelChildren),\n          (levelChildren = hookStack);\n      prevStack = JSCompiler_inline_result;\n    }\n    hookStack = hook.primitive;\n    rootIndex = hook.debugInfo;\n    hook = {\n      id:\n        \"Context\" === hookStack ||\n        \"Context (use)\" === hookStack ||\n        \"DebugValue\" === hookStack ||\n        \"Promise\" === hookStack ||\n        \"Unresolved\" === hookStack ||\n        \"HostTransitionStatus\" === hookStack\n          ? null\n          : nativeHookID++,\n      isStateEditable: \"Reducer\" === hookStack || \"State\" === hookStack,\n      name: rootStack || hookStack,\n      value: hook.value,\n      subHooks: [],\n      debugInfo: rootIndex,\n      hookSource: null\n    };\n    rootStack = {\n      lineNumber: null,\n      functionName: null,\n      fileName: null,\n      columnNumber: null\n    };\n    JSCompiler_inline_result &&\n      1 <= JSCompiler_inline_result.length &&\n      ((JSCompiler_inline_result = JSCompiler_inline_result[0]),\n      (rootStack.lineNumber =\n        void 0 === JSCompiler_inline_result.lineNumber\n          ? null\n          : JSCompiler_inline_result.lineNumber),\n      (rootStack.functionName =\n        void 0 === JSCompiler_inline_result.functionName\n          ? null\n          : JSCompiler_inline_result.functionName),\n      (rootStack.fileName =\n        void 0 === JSCompiler_inline_result.fileName\n          ? null\n          : JSCompiler_inline_result.fileName),\n      (rootStack.columnNumber =\n        void 0 === JSCompiler_inline_result.columnNumber\n          ? null\n          : JSCompiler_inline_result.columnNumber));\n    hook.hookSource = rootStack;\n    levelChildren.push(hook);\n  }\n  processDebugValues(rootChildren, null);\n  return rootChildren;\n}\nfunction processDebugValues(hooksTree, parentHooksNode) {\n  for (var debugValueHooksNodes = [], i = 0; i < hooksTree.length; i++) {\n    var hooksNode = hooksTree[i];\n    \"DebugValue\" === hooksNode.name && 0 === hooksNode.subHooks.length\n      ? (hooksTree.splice(i, 1), i--, debugValueHooksNodes.push(hooksNode))\n      : processDebugValues(hooksNode.subHooks, hooksNode);\n  }\n  null !== parentHooksNode &&\n    (1 === debugValueHooksNodes.length\n      ? (parentHooksNode.value = debugValueHooksNodes[0].value)\n      : 1 < debugValueHooksNodes.length &&\n        (parentHooksNode.value = debugValueHooksNodes.map(function (_ref) {\n          return _ref.value;\n        })));\n}\nfunction handleRenderFunctionError(error) {\n  if (error !== SuspenseException) {\n    if (\n      error instanceof Error &&\n      \"ReactDebugToolsUnsupportedHookError\" === error.name\n    )\n      throw error;\n    var wrapperError = Error(\"Error rendering inspected component\", {\n      cause: error\n    });\n    wrapperError.name = \"ReactDebugToolsRenderError\";\n    wrapperError.cause = error;\n    throw wrapperError;\n  }\n}\nfunction inspectHooks(renderFunction, props, currentDispatcher) {\n  null == currentDispatcher && (currentDispatcher = ReactSharedInternals);\n  var previousDispatcher = currentDispatcher.H;\n  currentDispatcher.H = DispatcherProxy;\n  try {\n    var ancestorStackError = Error();\n    renderFunction(props);\n  } catch (error) {\n    handleRenderFunctionError(error);\n  } finally {\n    (renderFunction = hookLog),\n      (hookLog = []),\n      (currentDispatcher.H = previousDispatcher);\n  }\n  currentDispatcher =\n    void 0 === ancestorStackError\n      ? []\n      : ErrorStackParser.parse(ancestorStackError);\n  return buildTree(currentDispatcher, renderFunction);\n}\nfunction restoreContexts(contextMap) {\n  contextMap.forEach(function (value, context) {\n    return (context._currentValue = value);\n  });\n}\nexports.inspectHooks = inspectHooks;\nexports.inspectHooksOfFiber = function (fiber, currentDispatcher) {\n  null == currentDispatcher && (currentDispatcher = ReactSharedInternals);\n  if (0 !== fiber.tag && 15 !== fiber.tag && 11 !== fiber.tag)\n    throw Error(\n      \"Unknown Fiber. Needs to be a function component to inspect hooks.\"\n    );\n  getPrimitiveStackCache();\n  currentHook = fiber.memoizedState;\n  currentFiber = fiber;\n  var thenableState =\n    fiber.dependencies && fiber.dependencies._debugThenableState;\n  thenableState = thenableState\n    ? thenableState.thenables || thenableState\n    : null;\n  currentThenableState = Array.isArray(thenableState) ? thenableState : null;\n  currentThenableIndex = 0;\n  if (hasOwnProperty.call(currentFiber, \"dependencies\"))\n    (thenableState = currentFiber.dependencies),\n      (currentContextDependency =\n        null !== thenableState ? thenableState.firstContext : null);\n  else if (hasOwnProperty.call(currentFiber, \"dependencies_old\"))\n    (thenableState = currentFiber.dependencies_old),\n      (currentContextDependency =\n        null !== thenableState ? thenableState.firstContext : null);\n  else if (hasOwnProperty.call(currentFiber, \"dependencies_new\"))\n    (thenableState = currentFiber.dependencies_new),\n      (currentContextDependency =\n        null !== thenableState ? thenableState.firstContext : null);\n  else if (hasOwnProperty.call(currentFiber, \"contextDependencies\"))\n    (thenableState = currentFiber.contextDependencies),\n      (currentContextDependency =\n        null !== thenableState ? thenableState.first : null);\n  else\n    throw Error(\n      \"Unsupported React version. This is a bug in React Debug Tools.\"\n    );\n  thenableState = fiber.type;\n  var props = fiber.memoizedProps;\n  if (\n    thenableState !== fiber.elementType &&\n    thenableState &&\n    thenableState.defaultProps\n  ) {\n    props = assign({}, props);\n    var defaultProps = thenableState.defaultProps;\n    for (propName in defaultProps)\n      void 0 === props[propName] && (props[propName] = defaultProps[propName]);\n  }\n  var propName = new Map();\n  try {\n    if (\n      null !== currentContextDependency &&\n      !hasOwnProperty.call(currentContextDependency, \"memoizedValue\")\n    )\n      for (defaultProps = fiber; defaultProps; ) {\n        if (10 === defaultProps.tag) {\n          var context = defaultProps.type;\n          void 0 !== context._context && (context = context._context);\n          propName.has(context) ||\n            (propName.set(context, context._currentValue),\n            (context._currentValue = defaultProps.memoizedProps.value));\n        }\n        defaultProps = defaultProps.return;\n      }\n    if (11 === fiber.tag) {\n      var renderFunction = thenableState.render;\n      context = props;\n      var ref = fiber.ref;\n      fiber = currentDispatcher;\n      var previousDispatcher = fiber.H;\n      fiber.H = DispatcherProxy;\n      try {\n        var ancestorStackError = Error();\n        renderFunction(context, ref);\n      } catch (error) {\n        handleRenderFunctionError(error);\n      } finally {\n        var readHookLog = hookLog;\n        hookLog = [];\n        fiber.H = previousDispatcher;\n      }\n      var rootStack =\n        void 0 === ancestorStackError\n          ? []\n          : ErrorStackParser.parse(ancestorStackError);\n      return buildTree(rootStack, readHookLog);\n    }\n    return inspectHooks(thenableState, props, currentDispatcher);\n  } finally {\n    (currentThenableState =\n      currentContextDependency =\n      currentHook =\n      currentFiber =\n        null),\n      (currentThenableIndex = 0),\n      restoreContexts(propName);\n  }\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-debug-tools.production.js');\n} else {\n  module.exports = require('./cjs/react-debug-tools.development.js');\n}\n","/**\n * @license React\n * react.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\"),\n  REACT_POSTPONE_TYPE = Symbol.for(\"react.postpone\"),\n  REACT_VIEW_TRANSITION_TYPE = Symbol.for(\"react.view_transition\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar ReactNoopUpdateQueue = {\n    isMounted: function () {\n      return !1;\n    },\n    enqueueForceUpdate: function () {},\n    enqueueReplaceState: function () {},\n    enqueueSetState: function () {}\n  },\n  assign = Object.assign,\n  emptyObject = {};\nfunction Component(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nComponent.prototype.isReactComponent = {};\nComponent.prototype.setState = function (partialState, callback) {\n  if (\n    \"object\" !== typeof partialState &&\n    \"function\" !== typeof partialState &&\n    null != partialState\n  )\n    throw Error(\n      \"takes an object of state variables to update or a function which returns an object of state variables.\"\n    );\n  this.updater.enqueueSetState(this, partialState, callback, \"setState\");\n};\nComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, \"forceUpdate\");\n};\nfunction ComponentDummy() {}\nComponentDummy.prototype = Component.prototype;\nfunction PureComponent(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nvar pureComponentPrototype = (PureComponent.prototype = new ComponentDummy());\npureComponentPrototype.constructor = PureComponent;\nassign(pureComponentPrototype, Component.prototype);\npureComponentPrototype.isPureReactComponent = !0;\nvar isArrayImpl = Array.isArray;\nfunction noop() {}\nvar ReactSharedInternals = { H: null, A: null, T: null, S: null, G: null },\n  hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction ReactElement(type, key, props) {\n  var refProp = props.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== refProp ? refProp : null,\n    props: props\n  };\n}\nfunction cloneAndReplaceKey(oldElement, newKey) {\n  return ReactElement(oldElement.type, newKey, oldElement.props);\n}\nfunction isValidElement(object) {\n  return (\n    \"object\" === typeof object &&\n    null !== object &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n}\nfunction escape(key) {\n  var escaperLookup = { \"=\": \"=0\", \":\": \"=2\" };\n  return (\n    \"$\" +\n    key.replace(/[=:]/g, function (match) {\n      return escaperLookup[match];\n    })\n  );\n}\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction getElementKey(element, index) {\n  return \"object\" === typeof element && null !== element && null != element.key\n    ? escape(\"\" + element.key)\n    : index.toString(36);\n}\nfunction resolveThenable(thenable) {\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw thenable.reason;\n    default:\n      switch (\n        (\"string\" === typeof thenable.status\n          ? thenable.then(noop, noop)\n          : ((thenable.status = \"pending\"),\n            thenable.then(\n              function (fulfilledValue) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"fulfilled\"),\n                  (thenable.value = fulfilledValue));\n              },\n              function (error) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"rejected\"), (thenable.reason = error));\n              }\n            )),\n        thenable.status)\n      ) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw thenable.reason;\n      }\n  }\n  throw thenable;\n}\nfunction mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {\n  var type = typeof children;\n  if (\"undefined\" === type || \"boolean\" === type) children = null;\n  var invokeCallback = !1;\n  if (null === children) invokeCallback = !0;\n  else\n    switch (type) {\n      case \"bigint\":\n      case \"string\":\n      case \"number\":\n        invokeCallback = !0;\n        break;\n      case \"object\":\n        switch (children.$$typeof) {\n          case REACT_ELEMENT_TYPE:\n          case REACT_PORTAL_TYPE:\n            invokeCallback = !0;\n            break;\n          case REACT_LAZY_TYPE:\n            return (\n              (invokeCallback = children._init),\n              mapIntoArray(\n                invokeCallback(children._payload),\n                array,\n                escapedPrefix,\n                nameSoFar,\n                callback\n              )\n            );\n        }\n    }\n  if (invokeCallback)\n    return (\n      (callback = callback(children)),\n      (invokeCallback =\n        \"\" === nameSoFar ? \".\" + getElementKey(children, 0) : nameSoFar),\n      isArrayImpl(callback)\n        ? ((escapedPrefix = \"\"),\n          null != invokeCallback &&\n            (escapedPrefix =\n              invokeCallback.replace(userProvidedKeyEscapeRegex, \"$&/\") + \"/\"),\n          mapIntoArray(callback, array, escapedPrefix, \"\", function (c) {\n            return c;\n          }))\n        : null != callback &&\n          (isValidElement(callback) &&\n            (callback = cloneAndReplaceKey(\n              callback,\n              escapedPrefix +\n                (null == callback.key ||\n                (children && children.key === callback.key)\n                  ? \"\"\n                  : (\"\" + callback.key).replace(\n                      userProvidedKeyEscapeRegex,\n                      \"$&/\"\n                    ) + \"/\") +\n                invokeCallback\n            )),\n          array.push(callback)),\n      1\n    );\n  invokeCallback = 0;\n  var nextNamePrefix = \"\" === nameSoFar ? \".\" : nameSoFar + \":\";\n  if (isArrayImpl(children))\n    for (var i = 0; i < children.length; i++)\n      (nameSoFar = children[i]),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (((i = getIteratorFn(children)), \"function\" === typeof i))\n    for (\n      children = i.call(children), i = 0;\n      !(nameSoFar = children.next()).done;\n\n    )\n      (nameSoFar = nameSoFar.value),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i++)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (\"object\" === type) {\n    if (\"function\" === typeof children.then)\n      return mapIntoArray(\n        resolveThenable(children),\n        array,\n        escapedPrefix,\n        nameSoFar,\n        callback\n      );\n    array = String(children);\n    throw Error(\n      \"Objects are not valid as a React child (found: \" +\n        (\"[object Object]\" === array\n          ? \"object with keys {\" + Object.keys(children).join(\", \") + \"}\"\n          : array) +\n        \"). If you meant to render a collection of children, use an array instead.\"\n    );\n  }\n  return invokeCallback;\n}\nfunction mapChildren(children, func, context) {\n  if (null == children) return children;\n  var result = [],\n    count = 0;\n  mapIntoArray(children, result, \"\", \"\", function (child) {\n    return func.call(context, child, count++);\n  });\n  return result;\n}\nfunction lazyInitializer(payload) {\n  if (-1 === payload._status) {\n    var ctor = payload._result;\n    ctor = ctor();\n    ctor.then(\n      function (moduleObject) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 1), (payload._result = moduleObject);\n      },\n      function (error) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 2), (payload._result = error);\n      }\n    );\n    -1 === payload._status && ((payload._status = 0), (payload._result = ctor));\n  }\n  if (1 === payload._status) return payload._result.default;\n  throw payload._result;\n}\nfunction useOptimistic(passthrough, reducer) {\n  return ReactSharedInternals.H.useOptimistic(passthrough, reducer);\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction startTransition(scope) {\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  currentTransition.types =\n    null !== prevTransition ? prevTransition.types : null;\n  currentTransition.gesture = null;\n  ReactSharedInternals.T = currentTransition;\n  try {\n    var returnValue = scope(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    \"object\" === typeof returnValue &&\n      null !== returnValue &&\n      \"function\" === typeof returnValue.then &&\n      returnValue.then(noop, reportGlobalError);\n  } catch (error) {\n    reportGlobalError(error);\n  } finally {\n    null !== prevTransition &&\n      null !== currentTransition.types &&\n      (prevTransition.types = currentTransition.types),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction addTransitionType(type) {\n  var transition = ReactSharedInternals.T;\n  if (null !== transition) {\n    var transitionTypes = transition.types;\n    null === transitionTypes\n      ? (transition.types = [type])\n      : -1 === transitionTypes.indexOf(type) && transitionTypes.push(type);\n  } else startTransition(addTransitionType.bind(null, type));\n}\nvar Children = {\n  map: mapChildren,\n  forEach: function (children, forEachFunc, forEachContext) {\n    mapChildren(\n      children,\n      function () {\n        forEachFunc.apply(this, arguments);\n      },\n      forEachContext\n    );\n  },\n  count: function (children) {\n    var n = 0;\n    mapChildren(children, function () {\n      n++;\n    });\n    return n;\n  },\n  toArray: function (children) {\n    return (\n      mapChildren(children, function (child) {\n        return child;\n      }) || []\n    );\n  },\n  only: function (children) {\n    if (!isValidElement(children))\n      throw Error(\n        \"React.Children.only expected to receive a single React element child.\"\n      );\n    return children;\n  }\n};\nexports.Activity = REACT_ACTIVITY_TYPE;\nexports.Children = Children;\nexports.Component = Component;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.PureComponent = PureComponent;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.ViewTransition = REACT_VIEW_TRANSITION_TYPE;\nexports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  ReactSharedInternals;\nexports.__COMPILER_RUNTIME = {\n  __proto__: null,\n  c: function (size) {\n    return ReactSharedInternals.H.useMemoCache(size);\n  }\n};\nexports.addTransitionType = addTransitionType;\nexports.cache = function (fn) {\n  return function () {\n    return fn.apply(null, arguments);\n  };\n};\nexports.cacheSignal = function () {\n  return null;\n};\nexports.cloneElement = function (element, config, children) {\n  if (null === element || void 0 === element)\n    throw Error(\n      \"The argument must be a React element, but you passed \" + element + \".\"\n    );\n  var props = assign({}, element.props),\n    key = element.key;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      !hasOwnProperty.call(config, propName) ||\n        \"key\" === propName ||\n        \"__self\" === propName ||\n        \"__source\" === propName ||\n        (\"ref\" === propName && void 0 === config.ref) ||\n        (props[propName] = config[propName]);\n  var propName = arguments.length - 2;\n  if (1 === propName) props.children = children;\n  else if (1 < propName) {\n    for (var childArray = Array(propName), i = 0; i < propName; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  return ReactElement(element.type, key, props);\n};\nexports.createContext = function (defaultValue) {\n  defaultValue = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    _currentValue: defaultValue,\n    _currentValue2: defaultValue,\n    _threadCount: 0,\n    Provider: null,\n    Consumer: null\n  };\n  defaultValue.Provider = defaultValue;\n  defaultValue.Consumer = {\n    $$typeof: REACT_CONSUMER_TYPE,\n    _context: defaultValue\n  };\n  return defaultValue;\n};\nexports.createElement = function (type, config, children) {\n  var propName,\n    props = {},\n    key = null;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      hasOwnProperty.call(config, propName) &&\n        \"key\" !== propName &&\n        \"__self\" !== propName &&\n        \"__source\" !== propName &&\n        (props[propName] = config[propName]);\n  var childrenLength = arguments.length - 2;\n  if (1 === childrenLength) props.children = children;\n  else if (1 < childrenLength) {\n    for (var childArray = Array(childrenLength), i = 0; i < childrenLength; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  if (type && type.defaultProps)\n    for (propName in ((childrenLength = type.defaultProps), childrenLength))\n      void 0 === props[propName] &&\n        (props[propName] = childrenLength[propName]);\n  return ReactElement(type, key, props);\n};\nexports.createRef = function () {\n  return { current: null };\n};\nexports.experimental_useOptimistic = function (passthrough, reducer) {\n  return useOptimistic(passthrough, reducer);\n};\nexports.forwardRef = function (render) {\n  return { $$typeof: REACT_FORWARD_REF_TYPE, render: render };\n};\nexports.isValidElement = isValidElement;\nexports.lazy = function (ctor) {\n  return {\n    $$typeof: REACT_LAZY_TYPE,\n    _payload: { _status: -1, _result: ctor },\n    _init: lazyInitializer\n  };\n};\nexports.memo = function (type, compare) {\n  return {\n    $$typeof: REACT_MEMO_TYPE,\n    type: type,\n    compare: void 0 === compare ? null : compare\n  };\n};\nexports.startTransition = startTransition;\nexports.unstable_Activity = REACT_ACTIVITY_TYPE;\nexports.unstable_SuspenseList = REACT_SUSPENSE_LIST_TYPE;\nexports.unstable_getCacheForType = function (resourceType) {\n  var dispatcher = ReactSharedInternals.A;\n  return dispatcher ? dispatcher.getCacheForType(resourceType) : resourceType();\n};\nexports.unstable_postpone = function (reason) {\n  reason = Error(reason);\n  reason.$$typeof = REACT_POSTPONE_TYPE;\n  throw reason;\n};\nexports.unstable_startGestureTransition = function (provider, scope, options) {\n  if (null == provider)\n    throw Error(\n      \"A Timeline is required as the first argument to startGestureTransition.\"\n    );\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = { types: null };\n  currentTransition.gesture = provider;\n  ReactSharedInternals.T = currentTransition;\n  try {\n    scope();\n    var onStartGestureTransitionFinish = ReactSharedInternals.G;\n    if (null !== onStartGestureTransitionFinish)\n      return onStartGestureTransitionFinish(\n        currentTransition,\n        provider,\n        options\n      );\n  } catch (error) {\n    reportGlobalError(error);\n  } finally {\n    ReactSharedInternals.T = prevTransition;\n  }\n  return noop;\n};\nexports.unstable_useCacheRefresh = function () {\n  return ReactSharedInternals.H.useCacheRefresh();\n};\nexports.use = function (usable) {\n  return ReactSharedInternals.H.use(usable);\n};\nexports.useActionState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useActionState(action, initialState, permalink);\n};\nexports.useCallback = function (callback, deps) {\n  return ReactSharedInternals.H.useCallback(callback, deps);\n};\nexports.useContext = function (Context) {\n  return ReactSharedInternals.H.useContext(Context);\n};\nexports.useDebugValue = function () {};\nexports.useDeferredValue = function (value, initialValue) {\n  return ReactSharedInternals.H.useDeferredValue(value, initialValue);\n};\nexports.useEffect = function (create, deps) {\n  return ReactSharedInternals.H.useEffect(create, deps);\n};\nexports.useEffectEvent = function (callback) {\n  return ReactSharedInternals.H.useEffectEvent(callback);\n};\nexports.useId = function () {\n  return ReactSharedInternals.H.useId();\n};\nexports.useImperativeHandle = function (ref, create, deps) {\n  return ReactSharedInternals.H.useImperativeHandle(ref, create, deps);\n};\nexports.useInsertionEffect = function (create, deps) {\n  return ReactSharedInternals.H.useInsertionEffect(create, deps);\n};\nexports.useLayoutEffect = function (create, deps) {\n  return ReactSharedInternals.H.useLayoutEffect(create, deps);\n};\nexports.useMemo = function (create, deps) {\n  return ReactSharedInternals.H.useMemo(create, deps);\n};\nexports.useOptimistic = useOptimistic;\nexports.useReducer = function (reducer, initialArg, init) {\n  return ReactSharedInternals.H.useReducer(reducer, initialArg, init);\n};\nexports.useRef = function (initialValue) {\n  return ReactSharedInternals.H.useRef(initialValue);\n};\nexports.useState = function (initialState) {\n  return ReactSharedInternals.H.useState(initialState);\n};\nexports.useSyncExternalStore = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot\n) {\n  return ReactSharedInternals.H.useSyncExternalStore(\n    subscribe,\n    getSnapshot,\n    getServerSnapshot\n  );\n};\nexports.useTransition = function () {\n  return ReactSharedInternals.H.useTransition();\n};\nexports.version = \"19.3.0-experimental-3cde211b-20251020\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(\\),.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                var tokens = sanitizedLine.split(/\\s+/).slice(1);\n                // if a location was matched, pass it to extractLocation() otherwise pop the last token\n                var locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n                var functionName = tokens.join(' ') || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                    .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                    .replace(/\\([^)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps);\n\n    function StackFrame(obj) {\n        if (!obj) return;\n        for (var i = 0; i < props.length; i++) {\n            if (obj[props[i]] !== undefined) {\n                this['set' + _capitalize(props[i])](obj[props[i]]);\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var fileName = this.getFileName() || '';\n            var lineNumber = this.getLineNumber() || '';\n            var columnNumber = this.getColumnNumber() || '';\n            var functionName = this.getFunctionName() || '';\n            if (this.getIsEval()) {\n                if (fileName) {\n                    return '[eval] (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n                }\n                return '[eval]:' + lineNumber + ':' + columnNumber;\n            }\n            if (functionName) {\n                return functionName + ' (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n            }\n            return fileName + ':' + lineNumber + ':' + columnNumber;\n        }\n    };\n\n    StackFrame.fromString = function StackFrame$$fromString(str) {\n        var argsStartIndex = str.indexOf('(');\n        var argsEndIndex = str.lastIndexOf(')');\n\n        var functionName = str.substring(0, argsStartIndex);\n        var args = str.substring(argsStartIndex + 1, argsEndIndex).split(',');\n        var locationString = str.substring(argsEndIndex + 1);\n\n        if (locationString.indexOf('@') === 0) {\n            var parts = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(locationString, '');\n            var fileName = parts[1];\n            var lineNumber = parts[2];\n            var columnNumber = parts[3];\n        }\n\n        return new StackFrame({\n            functionName: functionName,\n            args: args || undefined,\n            fileName: fileName,\n            lineNumber: lineNumber || undefined,\n            columnNumber: columnNumber || undefined\n        });\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount /*, ...nodes */) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 2; i < arguments.length; i++) {\n    walker = insert(this, walker, arguments[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport default class EventEmitter<Events: Object> {\n  listenersMap: Map<string, Array<Function>> = new Map();\n\n  addListener<Event: $Keys<Events>>(\n    event: Event,\n    listener: (...Events[Event]) => any,\n  ): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners === undefined) {\n      this.listenersMap.set(event, [listener]);\n    } else {\n      const index = listeners.indexOf(listener);\n      if (index < 0) {\n        listeners.push(listener);\n      }\n    }\n  }\n\n  emit<Event: $Keys<Events>>(event: Event, ...args: Events[Event]): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners !== undefined) {\n      if (listeners.length === 1) {\n        // No need to clone or try/catch\n        const listener = listeners[0];\n        listener.apply(null, args);\n      } else {\n        let didThrow = false;\n        let caughtError = null;\n\n        const clonedListeners = Array.from(listeners);\n        for (let i = 0; i < clonedListeners.length; i++) {\n          const listener = clonedListeners[i];\n          try {\n            listener.apply(null, args);\n          } catch (error) {\n            if (caughtError === null) {\n              didThrow = true;\n              caughtError = error;\n            }\n          }\n        }\n\n        if (didThrow) {\n          throw caughtError;\n        }\n      }\n    }\n  }\n\n  removeAllListeners(): void {\n    this.listenersMap.clear();\n  }\n\n  removeListener(event: $Keys<Events>, listener: Function): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners !== undefined) {\n      const index = listeners.indexOf(listener);\n      if (index >= 0) {\n        listeners.splice(index, 1);\n      }\n    }\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport const CHROME_WEBSTORE_EXTENSION_ID = 'fmkadmapgofadopljbjfkapdkoienihi';\nexport const INTERNAL_EXTENSION_ID = 'dnjnjgbfilfphmojnmhliehogmojhclc';\nexport const LOCAL_EXTENSION_ID = 'ikiahnapldjmdmpkmfhjdjilojjhgcbf';\n\n// Flip this flag to true to enable verbose console debug logging.\nexport const __DEBUG__ = false;\n\n// Flip this flag to true to enable performance.mark() and performance.measure() timings.\nexport const __PERFORMANCE_PROFILE__ = false;\n\nexport const TREE_OPERATION_ADD = 1;\nexport const TREE_OPERATION_REMOVE = 2;\nexport const TREE_OPERATION_REORDER_CHILDREN = 3;\nexport const TREE_OPERATION_UPDATE_TREE_BASE_DURATION = 4;\nexport const TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS = 5;\nexport const TREE_OPERATION_REMOVE_ROOT = 6;\nexport const TREE_OPERATION_SET_SUBTREE_MODE = 7;\nexport const SUSPENSE_TREE_OPERATION_ADD = 8;\nexport const SUSPENSE_TREE_OPERATION_REMOVE = 9;\nexport const SUSPENSE_TREE_OPERATION_REORDER_CHILDREN = 10;\nexport const SUSPENSE_TREE_OPERATION_RESIZE = 11;\nexport const SUSPENSE_TREE_OPERATION_SUSPENDERS = 12;\n\nexport const PROFILING_FLAG_BASIC_SUPPORT /*.             */ = 0b001;\nexport const PROFILING_FLAG_TIMELINE_SUPPORT /*           */ = 0b010;\nexport const PROFILING_FLAG_PERFORMANCE_TRACKS_SUPPORT /* */ = 0b100;\n\nexport const UNKNOWN_SUSPENDERS_NONE: UnknownSuspendersReason = 0; // If we had at least one debugInfo, then that might have been the reason.\nexport const UNKNOWN_SUSPENDERS_REASON_PRODUCTION: UnknownSuspendersReason = 1; // We're running in prod. That might be why we had unknown suspenders.\nexport const UNKNOWN_SUSPENDERS_REASON_OLD_VERSION: UnknownSuspendersReason = 2; // We're running an old version of React that doesn't have full coverage. That might be the reason.\nexport const UNKNOWN_SUSPENDERS_REASON_THROWN_PROMISE: UnknownSuspendersReason = 3; // If we're in dev, didn't detect and debug info and still suspended (other than CSS/image) the only reason is thrown promise.\n\nexport opaque type UnknownSuspendersReason = 0 | 1 | 2 | 3;\n\nexport const LOCAL_STORAGE_DEFAULT_TAB_KEY = 'React::DevTools::defaultTab';\nexport const LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY =\n  'React::DevTools::componentFilters';\nexport const SESSION_STORAGE_LAST_SELECTION_KEY =\n  'React::DevTools::lastSelection';\nexport const LOCAL_STORAGE_OPEN_IN_EDITOR_URL =\n  'React::DevTools::openInEditorUrl';\nexport const LOCAL_STORAGE_OPEN_IN_EDITOR_URL_PRESET =\n  'React::DevTools::openInEditorUrlPreset';\nexport const LOCAL_STORAGE_ALWAYS_OPEN_IN_EDITOR =\n  'React::DevTools::alwaysOpenInEditor';\nexport const LOCAL_STORAGE_PARSE_HOOK_NAMES_KEY =\n  'React::DevTools::parseHookNames';\nexport const SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY =\n  'React::DevTools::recordChangeDescriptions';\nexport const SESSION_STORAGE_RECORD_TIMELINE_KEY =\n  'React::DevTools::recordTimeline';\nexport const SESSION_STORAGE_RELOAD_AND_PROFILE_KEY =\n  'React::DevTools::reloadAndProfile';\nexport const LOCAL_STORAGE_BROWSER_THEME = 'React::DevTools::theme';\nexport const LOCAL_STORAGE_TRACE_UPDATES_ENABLED_KEY =\n  'React::DevTools::traceUpdatesEnabled';\nexport const LOCAL_STORAGE_SUPPORTS_PROFILING_KEY =\n  'React::DevTools::supportsProfiling';\n\nexport const PROFILER_EXPORT_VERSION = 5;\n\nexport const FIREFOX_CONSOLE_DIMMING_COLOR = 'color: rgba(124, 124, 124, 0.75)';\nexport const ANSI_STYLE_DIMMING_TEMPLATE = '\\x1b[2;38;2;124;124;124m%s\\x1b[0m';\nexport const ANSI_STYLE_DIMMING_TEMPLATE_WITH_COMPONENT_STACK =\n  '\\x1b[2;38;2;124;124;124m%s %o\\x1b[0m';\n","/**\n * Compare [semver](https://semver.org/) version strings to find greater, equal or lesser.\n * This library supports the full semver specification, including comparing versions with different number of digits like `1.0.0`, `1.0`, `1`, and pre-release versions like `1.0.0-alpha`.\n * @param v1 - First version to compare\n * @param v2 - Second version to compare\n * @returns Numeric value compatible with the [Array.sort(fn) interface](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#Parameters).\n */\nexport const compareVersions = (v1, v2) => {\n    // validate input and split into segments\n    const n1 = validateAndParse(v1);\n    const n2 = validateAndParse(v2);\n    // pop off the patch\n    const p1 = n1.pop();\n    const p2 = n2.pop();\n    // validate numbers\n    const r = compareSegments(n1, n2);\n    if (r !== 0)\n        return r;\n    // validate pre-release\n    if (p1 && p2) {\n        return compareSegments(p1.split('.'), p2.split('.'));\n    }\n    else if (p1 || p2) {\n        return p1 ? -1 : 1;\n    }\n    return 0;\n};\n/**\n * Validate [semver](https://semver.org/) version strings.\n *\n * @param version Version number to validate\n * @returns `true` if the version number is a valid semver version number, `false` otherwise.\n *\n * @example\n * ```\n * validate('1.0.0-rc.1'); // return true\n * validate('1.0-rc.1'); // return false\n * validate('foo'); // return false\n * ```\n */\nexport const validate = (version) => typeof version === 'string' && /^[v\\d]/.test(version) && semver.test(version);\n/**\n * Compare [semver](https://semver.org/) version strings using the specified operator.\n *\n * @param v1 First version to compare\n * @param v2 Second version to compare\n * @param operator Allowed arithmetic operator to use\n * @returns `true` if the comparison between the firstVersion and the secondVersion satisfies the operator, `false` otherwise.\n *\n * @example\n * ```\n * compare('10.1.8', '10.0.4', '>'); // return true\n * compare('10.0.1', '10.0.1', '='); // return true\n * compare('10.1.1', '10.2.2', '<'); // return true\n * compare('10.1.1', '10.2.2', '<='); // return true\n * compare('10.1.1', '10.2.2', '>='); // return false\n * ```\n */\nexport const compare = (v1, v2, operator) => {\n    // validate input operator\n    assertValidOperator(operator);\n    // since result of compareVersions can only be -1 or 0 or 1\n    // a simple map can be used to replace switch\n    const res = compareVersions(v1, v2);\n    return operatorResMap[operator].includes(res);\n};\n/**\n * Match [npm semver](https://docs.npmjs.com/cli/v6/using-npm/semver) version range.\n *\n * @param version Version number to match\n * @param range Range pattern for version\n * @returns `true` if the version number is within the range, `false` otherwise.\n *\n * @example\n * ```\n * satisfies('1.1.0', '^1.0.0'); // return true\n * satisfies('1.1.0', '~1.0.0'); // return false\n * ```\n */\nexport const satisfies = (version, range) => {\n    // if no range operator then \"=\"\n    const m = range.match(/^([<>=~^]+)/);\n    const op = m ? m[1] : '=';\n    // if gt/lt/eq then operator compare\n    if (op !== '^' && op !== '~')\n        return compare(version, range, op);\n    // else range of either \"~\" or \"^\" is assumed\n    const [v1, v2, v3, , vp] = validateAndParse(version);\n    const [r1, r2, r3, , rp] = validateAndParse(range);\n    const v = [v1, v2, v3];\n    const r = [r1, r2 !== null && r2 !== void 0 ? r2 : 'x', r3 !== null && r3 !== void 0 ? r3 : 'x'];\n    // validate pre-release\n    if (rp) {\n        if (!vp)\n            return false;\n        if (compareSegments(v, r) !== 0)\n            return false;\n        if (compareSegments(vp.split('.'), rp.split('.')) === -1)\n            return false;\n    }\n    // first non-zero number\n    const nonZero = r.findIndex((v) => v !== '0') + 1;\n    // pointer to where segments can be >=\n    const i = op === '~' ? 2 : nonZero > 1 ? nonZero : 1;\n    // before pointer must be equal\n    if (compareSegments(v.slice(0, i), r.slice(0, i)) !== 0)\n        return false;\n    // after pointer must be >=\n    if (compareSegments(v.slice(i), r.slice(i)) === -1)\n        return false;\n    return true;\n};\nconst semver = /^[v^~<>=]*?(\\d+)(?:\\.([x*]|\\d+)(?:\\.([x*]|\\d+)(?:\\.([x*]|\\d+))?(?:-([\\da-z\\-]+(?:\\.[\\da-z\\-]+)*))?(?:\\+[\\da-z\\-]+(?:\\.[\\da-z\\-]+)*)?)?)?$/i;\nconst validateAndParse = (version) => {\n    if (typeof version !== 'string') {\n        throw new TypeError('Invalid argument expected string');\n    }\n    const match = version.match(semver);\n    if (!match) {\n        throw new Error(`Invalid argument not valid semver ('${version}' received)`);\n    }\n    match.shift();\n    return match;\n};\nconst isWildcard = (s) => s === '*' || s === 'x' || s === 'X';\nconst tryParse = (v) => {\n    const n = parseInt(v, 10);\n    return isNaN(n) ? v : n;\n};\nconst forceType = (a, b) => typeof a !== typeof b ? [String(a), String(b)] : [a, b];\nconst compareStrings = (a, b) => {\n    if (isWildcard(a) || isWildcard(b))\n        return 0;\n    const [ap, bp] = forceType(tryParse(a), tryParse(b));\n    if (ap > bp)\n        return 1;\n    if (ap < bp)\n        return -1;\n    return 0;\n};\nconst compareSegments = (a, b) => {\n    for (let i = 0; i < Math.max(a.length, b.length); i++) {\n        const r = compareStrings(a[i] || '0', b[i] || '0');\n        if (r !== 0)\n            return r;\n    }\n    return 0;\n};\nconst operatorResMap = {\n    '>': [1],\n    '>=': [0, 1],\n    '=': [0],\n    '<=': [-1, 0],\n    '<': [-1],\n};\nconst allowedOperators = Object.keys(operatorResMap);\nconst assertValidOperator = (op) => {\n    if (typeof op !== 'string') {\n        throw new TypeError(`Invalid operator type, expected string but got ${typeof op}`);\n    }\n    if (allowedOperators.indexOf(op) === -1) {\n        throw new Error(`Invalid operator, expected one of ${allowedOperators.join('|')}`);\n    }\n};\n//# sourceMappingURL=index.js.map","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict\n */\n\n// -----------------------------------------------------------------------------\n// Land or remove (zero effort)\n//\n// Flags that can likely be deleted or landed without consequences\n// -----------------------------------------------------------------------------\n\n// None\n\n// -----------------------------------------------------------------------------\n// Killswitch\n//\n// Flags that exist solely to turn off a change in case it causes a regression\n// when it rolls out to prod. We should remove these as soon as possible.\n// -----------------------------------------------------------------------------\n\nexport const enableHydrationLaneScheduling: boolean = true;\n\n// -----------------------------------------------------------------------------\n// Land or remove (moderate effort)\n//\n// Flags that can be probably deleted or landed, but might require extra effort\n// like migrating internal callers or performance testing.\n// -----------------------------------------------------------------------------\n\n// Need to remove didTimeout argument from Scheduler before landing\nexport const disableSchedulerTimeoutInWorkLoop: boolean = false;\n\n// -----------------------------------------------------------------------------\n// Slated for removal in the future (significant effort)\n//\n// These are experiments that didn't work out, and never shipped, but we can't\n// delete from the codebase until we migrate internal callers.\n// -----------------------------------------------------------------------------\n\n// Add a callback property to suspense to notify which promises are currently\n// in the update queue. This allows reporting and tracing of what is causing\n// the user to see a loading state.\n//\n// Also allows hydration callbacks to fire when a dehydrated boundary gets\n// hydrated or deleted.\n//\n// This will eventually be replaced by the Transition Tracing proposal.\nexport const enableSuspenseCallback: boolean = false;\n\n// Experimental Scope support.\nexport const enableScopeAPI: boolean = false;\n\n// Experimental Create Event Handle API.\nexport const enableCreateEventHandleAPI: boolean = false;\n\n// Support legacy Primer support on internal FB www\nexport const enableLegacyFBSupport: boolean = false;\n\n// -----------------------------------------------------------------------------\n// Ongoing experiments\n//\n// These are features that we're either actively exploring or are reasonably\n// likely to include in an upcoming release.\n// -----------------------------------------------------------------------------\n\n// Yield to the browser event loop and not just the scheduler event loop before passive effects.\n// Fix gated tests that fail with this flag enabled before turning it back on.\nexport const enableYieldingBeforePassive: boolean = false;\n\n// Experiment to intentionally yield less to block high framerate animations.\nexport const enableThrottledScheduling: boolean = false;\n\nexport const enableLegacyCache = __EXPERIMENTAL__;\n\nexport const enableAsyncIterableChildren = __EXPERIMENTAL__;\n\nexport const enableTaint = __EXPERIMENTAL__;\n\nexport const enablePostpone = __EXPERIMENTAL__;\n\nexport const enableHalt: boolean = true;\n\nexport const enableViewTransition: boolean = true;\n\nexport const enableGestureTransition = __EXPERIMENTAL__;\n\nexport const enableScrollEndPolyfill = __EXPERIMENTAL__;\n\nexport const enableSuspenseyImages: boolean = false;\n\nexport const enableFizzBlockingRender = __EXPERIMENTAL__; // rel=\"expect\"\n\nexport const enableSrcObject = __EXPERIMENTAL__;\n\nexport const enableHydrationChangeEvent = __EXPERIMENTAL__;\n\nexport const enableDefaultTransitionIndicator = __EXPERIMENTAL__;\n\n/**\n * Switches Fiber creation to a simple object instead of a constructor.\n */\nexport const enableObjectFiber: boolean = false;\n\nexport const enableTransitionTracing: boolean = false;\n\n// FB-only usage. The new API has different semantics.\nexport const enableLegacyHidden: boolean = false;\n\n// Enables unstable_avoidThisFallback feature in Fiber\nexport const enableSuspenseAvoidThisFallback: boolean = false;\n\nexport const enableCPUSuspense = __EXPERIMENTAL__;\n\n// Test this at Meta before enabling.\nexport const enableNoCloningMemoCache: boolean = false;\n\nexport const enableUseEffectEventHook: boolean = true;\n\n// Test in www before enabling in open source.\n// Enables DOM-server to stream its instruction set as data-attributes\n// (handled with an MutationObserver) instead of inline-scripts\nexport const enableFizzExternalRuntime = __EXPERIMENTAL__;\n\nexport const alwaysThrottleRetries: boolean = true;\n\nexport const passChildrenWhenCloningPersistedNodes: boolean = false;\n\nexport const enableEagerAlternateStateNodeCleanup: boolean = true;\n\n/**\n * Enables an expiration time for retry lanes to avoid starvation.\n */\nexport const enableRetryLaneExpiration: boolean = false;\nexport const retryLaneExpirationMs = 5000;\nexport const syncLaneExpirationMs = 250;\nexport const transitionLaneExpirationMs = 5000;\n\n/**\n * Enables a new error detection for infinite render loops from updates caused\n * by setState or similar outside of the component owning the state.\n */\nexport const enableInfiniteRenderLoopDetection: boolean = false;\n\nexport const enableFragmentRefs: boolean = true;\nexport const enableFragmentRefsScrollIntoView: boolean = true;\n\n// -----------------------------------------------------------------------------\n// Ready for next major.\n//\n// Alias __NEXT_MAJOR__ to __EXPERIMENTAL__ for easier skimming.\n// -----------------------------------------------------------------------------\n\n// TODO: Anything that's set to `true` in this section should either be cleaned\n// up (if it's on everywhere, including Meta and RN builds) or moved to a\n// different section of this file.\n\n// const __NEXT_MAJOR__ = __EXPERIMENTAL__;\n\n// Renames the internal symbol for elements since they have changed signature/constructor\nexport const renameElementSymbol: boolean = true;\n\n/**\n * Enables a fix to run insertion effect cleanup on hidden subtrees.\n */\nexport const enableHiddenSubtreeInsertionEffectCleanup: boolean = true;\n\n/**\n * Removes legacy style context defined using static `contextTypes` and consumed with static `childContextTypes`.\n */\nexport const disableLegacyContext: boolean = true;\n/**\n * Removes legacy style context just from function components.\n */\nexport const disableLegacyContextForFunctionComponents: boolean = true;\n\n// Enable the moveBefore() alternative to insertBefore(). This preserves states of moves.\nexport const enableMoveBefore: boolean = false;\n\n// Disabled caching behavior of `react/cache` in client runtimes.\nexport const disableClientCache: boolean = true;\n\n// Warn on any usage of ReactTestRenderer\nexport const enableReactTestRendererWarning: boolean = true;\n\n// Disables legacy mode\n// This allows us to land breaking changes to remove legacy mode APIs in experimental builds\n// before removing them in stable in the next Major\nexport const disableLegacyMode: boolean = true;\n\n// -----------------------------------------------------------------------------\n// Chopping Block\n//\n// Planned feature deprecations and breaking changes. Sorted roughly in order of\n// when we plan to enable them.\n// -----------------------------------------------------------------------------\n\n// -----------------------------------------------------------------------------\n// React DOM Chopping Block\n//\n// Similar to main Chopping Block but only flags related to React DOM. These are\n// grouped because we will likely batch all of them into a single major release.\n// -----------------------------------------------------------------------------\n\n// Disable support for comment nodes as React DOM containers. Already disabled\n// in open source, but www codebase still relies on it. Need to remove.\nexport const disableCommentsAsDOMContainers: boolean = true;\n\nexport const enableTrustedTypesIntegration: boolean = false;\n\n// Prevent the value and checked attributes from syncing with their related\n// DOM properties\nexport const disableInputAttributeSyncing: boolean = false;\n\n// Disables children for <textarea> elements\nexport const disableTextareaChildren: boolean = false;\n\n// -----------------------------------------------------------------------------\n// Debugging and DevTools\n// -----------------------------------------------------------------------------\n\n// Gather advanced timing metrics for Profiler subtrees.\nexport const enableProfilerTimer = __PROFILE__;\n\n// Adds performance.measure() marks using Chrome extensions to allow formatted\n// Component rendering tracks to show up in the Performance tab.\n// This flag will be used for both Server Component and Client Component tracks.\n// All calls should also be gated on enableProfilerTimer.\nexport const enableComponentPerformanceTrack: boolean = true;\n\n// Adds user timing marks for e.g. state updates, suspense, and work loop stuff,\n// for an experimental timeline tool.\nexport const enableSchedulingProfiler: boolean =\n  !enableComponentPerformanceTrack && __PROFILE__;\n\n// Record durations for commit and passive effects phases.\nexport const enableProfilerCommitHooks = __PROFILE__;\n\n// Phase param passed to onRender callback differentiates between an \"update\" and a \"cascading-update\".\nexport const enableProfilerNestedUpdatePhase = __PROFILE__;\n\nexport const enableAsyncDebugInfo: boolean = true;\n\n// Track which Fiber(s) schedule render work.\nexport const enableUpdaterTracking = __PROFILE__;\n\nexport const ownerStackLimit = 1e4;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {renameElementSymbol} from 'shared/ReactFeatureFlags';\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n\n// The Symbol used to tag the ReactElement-like types.\nexport const REACT_LEGACY_ELEMENT_TYPE: symbol = Symbol.for('react.element');\nexport const REACT_ELEMENT_TYPE: symbol = renameElementSymbol\n  ? Symbol.for('react.transitional.element')\n  : REACT_LEGACY_ELEMENT_TYPE;\nexport const REACT_PORTAL_TYPE: symbol = Symbol.for('react.portal');\nexport const REACT_FRAGMENT_TYPE: symbol = Symbol.for('react.fragment');\nexport const REACT_STRICT_MODE_TYPE: symbol = Symbol.for('react.strict_mode');\nexport const REACT_PROFILER_TYPE: symbol = Symbol.for('react.profiler');\nexport const REACT_CONSUMER_TYPE: symbol = Symbol.for('react.consumer');\nexport const REACT_CONTEXT_TYPE: symbol = Symbol.for('react.context');\nexport const REACT_FORWARD_REF_TYPE: symbol = Symbol.for('react.forward_ref');\nexport const REACT_SUSPENSE_TYPE: symbol = Symbol.for('react.suspense');\nexport const REACT_SUSPENSE_LIST_TYPE: symbol = Symbol.for(\n  'react.suspense_list',\n);\nexport const REACT_MEMO_TYPE: symbol = Symbol.for('react.memo');\nexport const REACT_LAZY_TYPE: symbol = Symbol.for('react.lazy');\nexport const REACT_SCOPE_TYPE: symbol = Symbol.for('react.scope');\nexport const REACT_ACTIVITY_TYPE: symbol = Symbol.for('react.activity');\nexport const REACT_LEGACY_HIDDEN_TYPE: symbol = Symbol.for(\n  'react.legacy_hidden',\n);\nexport const REACT_TRACING_MARKER_TYPE: symbol = Symbol.for(\n  'react.tracing_marker',\n);\n\nexport const REACT_MEMO_CACHE_SENTINEL: symbol = Symbol.for(\n  'react.memo_cache_sentinel',\n);\n\nexport const REACT_POSTPONE_TYPE: symbol = Symbol.for('react.postpone');\n\nexport const REACT_VIEW_TRANSITION_TYPE: symbol = Symbol.for(\n  'react.view_transition',\n);\n\nconst MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nconst FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nexport function getIteratorFn(maybeIterable: ?any): ?() => ?Iterator<any> {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n  const maybeIterator =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[FAUX_ITERATOR_SYMBOL];\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n  return null;\n}\n\nexport const ASYNC_ITERATOR = Symbol.asyncIterator;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * WARNING:\n * This file contains types that are designed for React DevTools UI and how it interacts with the backend.\n * They might be used in different versions of DevTools backends.\n * Be mindful of backwards compatibility when making changes.\n */\n\nimport type {\n  Dehydrated,\n  Unserializable,\n} from 'react-devtools-shared/src/hydration';\nimport type {ReactFunctionLocation, ReactStackTrace} from 'shared/ReactTypes';\nimport type {UnknownSuspendersReason} from '../constants';\n\nexport type BrowserTheme = 'dark' | 'light';\n\nexport type Wall = {\n  // `listen` returns the \"unlisten\" function.\n  listen: (fn: Function) => Function,\n  send: (event: string, payload: any, transferable?: Array<any>) => void,\n};\n\n// WARNING\n// The values below are referenced by ComponentFilters (which are saved via localStorage).\n// Do not change them or it will break previously saved user customizations.\n// If new element types are added, use new numbers rather than re-ordering existing ones.\n//\n// Changing these types is also a backwards breaking change for the standalone shell,\n// since the frontend and backend must share the same values-\n// and the backend is embedded in certain environments (like React Native).\nexport const ElementTypeClass = 1;\nexport const ElementTypeContext = 2;\nexport const ElementTypeFunction = 5;\nexport const ElementTypeForwardRef = 6;\nexport const ElementTypeHostComponent = 7;\nexport const ElementTypeMemo = 8;\nexport const ElementTypeOtherOrUnknown = 9;\nexport const ElementTypeProfiler = 10;\nexport const ElementTypeRoot = 11;\nexport const ElementTypeSuspense = 12;\nexport const ElementTypeSuspenseList = 13;\nexport const ElementTypeTracingMarker = 14;\nexport const ElementTypeVirtual = 15;\nexport const ElementTypeViewTransition = 16;\nexport const ElementTypeActivity = 17;\n\n// Different types of elements displayed in the Elements tree.\n// These types may be used to visually distinguish types,\n// or to enable/disable certain functionality.\nexport type ElementType =\n  | 1\n  | 2\n  | 5\n  | 6\n  | 7\n  | 8\n  | 9\n  | 10\n  | 11\n  | 12\n  | 13\n  | 14\n  | 15\n  | 16\n  | 17;\n\n// WARNING\n// The values below are referenced by ComponentFilters (which are saved via localStorage).\n// Do not change them or it will break previously saved user customizations.\n// If new filter types are added, use new numbers rather than re-ordering existing ones.\nexport const ComponentFilterElementType = 1;\nexport const ComponentFilterDisplayName = 2;\nexport const ComponentFilterLocation = 3;\nexport const ComponentFilterHOC = 4;\nexport const ComponentFilterEnvironmentName = 5;\n\nexport type ComponentFilterType = 1 | 2 | 3 | 4 | 5;\n\n// Hide all elements of types in this Set.\n// We hide host components only by default.\nexport type ElementTypeComponentFilter = {\n  isEnabled: boolean,\n  type: 1,\n  value: ElementType,\n};\n\n// Hide all elements with displayNames or paths matching one or more of the RegExps in this Set.\n// Path filters are only used when elements include debug source location.\nexport type RegExpComponentFilter = {\n  isEnabled: boolean,\n  isValid: boolean,\n  type: 2 | 3,\n  value: string,\n};\n\nexport type BooleanComponentFilter = {\n  isEnabled: boolean,\n  isValid: boolean,\n  type: 4,\n};\n\nexport type EnvironmentNameComponentFilter = {\n  isEnabled: boolean,\n  isValid: boolean,\n  type: 5,\n  value: string,\n};\n\nexport type ComponentFilter =\n  | BooleanComponentFilter\n  | ElementTypeComponentFilter\n  | RegExpComponentFilter\n  | EnvironmentNameComponentFilter;\n\nexport type HookName = string | null;\n// Map of hook source (\"<filename>:<line-number>:<column-number>\") to name.\n// Hook source is used instead of the hook itself because the latter is not stable between element inspections.\n// We use a Map rather than an Array because of nested hooks and traversal ordering.\nexport type HookSourceLocationKey = string;\nexport type HookNames = Map<HookSourceLocationKey, HookName>;\n\nexport type LRUCache<K, V> = {\n  del: (key: K) => void,\n  get: (key: K) => V,\n  has: (key: K) => boolean,\n  reset: () => void,\n  set: (key: K, value: V) => void,\n};\n\nexport type StyleXPlugin = {\n  sources: Array<string>,\n  resolvedStyles: Object,\n};\n\nexport type Plugins = {\n  stylex: StyleXPlugin | null,\n};\n\nexport const StrictMode = 1;\n\n// Each element on the frontend corresponds to an ElementID (e.g. a Fiber) on the backend.\n// Some of its information (e.g. id, type, displayName) come from the backend.\n// Other bits (e.g. weight and depth) are computed on the frontend for windowing and display purposes.\n// Elements are updated on a push basis meaning the backend pushes updates to the frontend when needed.\nexport type Element = {\n  id: number,\n  parentID: number,\n  children: Array<number>,\n  type: ElementType,\n  displayName: string | null,\n  key: number | string | null,\n  nameProp: null | string,\n\n  hocDisplayNames: null | Array<string>,\n\n  // Should the elements children be visible in the tree?\n  isCollapsed: boolean,\n\n  // Owner (if available)\n  ownerID: number,\n\n  // How many levels deep within the tree is this element?\n  // This determines how much indentation (left padding) should be used in the Elements tree.\n  depth: number,\n\n  // How many nodes (including itself) are below this Element within the tree.\n  // This property is used to quickly determine the total number of Elements,\n  // and the Element at any given index (for windowing purposes).\n  weight: number,\n\n  // This element is not in a StrictMode compliant subtree.\n  // Only true for React versions supporting StrictMode.\n  isStrictModeNonCompliant: boolean,\n\n  // If component is compiled with Forget, the backend will send its name as Forget(...)\n  // Later, on the frontend side, we will strip HOC names and Forget prefix.\n  compiledWithForget: boolean,\n};\n\nexport type Rect = {\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n};\n\nexport type SuspenseTimelineStep = {\n  id: SuspenseNode['id'], // TODO: Will become a group.\n  environment: null | string,\n};\n\nexport type SuspenseNode = {\n  id: Element['id'],\n  parentID: SuspenseNode['id'] | 0,\n  children: Array<SuspenseNode['id']>,\n  name: string | null,\n  rects: null | Array<Rect>,\n  hasUniqueSuspenders: boolean,\n  isSuspended: boolean,\n  environments: Array<string>,\n};\n\n// Serialized version of ReactIOInfo\nexport type SerializedIOInfo = {\n  name: string,\n  description: string,\n  start: number,\n  end: number,\n  byteSize: null | number,\n  value: null | Promise<mixed>,\n  env: null | string,\n  owner: null | SerializedElement,\n  stack: null | ReactStackTrace,\n};\n\n// Serialized version of ReactAsyncInfo\nexport type SerializedAsyncInfo = {\n  awaited: SerializedIOInfo,\n  env: null | string,\n  owner: null | SerializedElement,\n  stack: null | ReactStackTrace,\n};\n\nexport type SerializedElement = {\n  displayName: string | null,\n  id: number,\n  key: number | string | null,\n  env: null | string,\n  stack: null | ReactStackTrace,\n  hocDisplayNames: Array<string> | null,\n  compiledWithForget: boolean,\n  type: ElementType,\n};\n\nexport type OwnersList = {\n  id: number,\n  owners: Array<SerializedElement> | null,\n};\n\nexport type InspectedElementResponseType =\n  | 'error'\n  | 'full-data'\n  | 'hydrated-path'\n  | 'no-change'\n  | 'not-found';\n\nexport type InspectedElementPath = Array<string | number>;\n\nexport type InspectedElement = {\n  id: number,\n\n  // Does the current renderer support editable hooks and function props?\n  canEditHooks: boolean,\n  canEditFunctionProps: boolean,\n\n  // Does the current renderer support advanced editing interface?\n  canEditHooksAndDeletePaths: boolean,\n  canEditHooksAndRenamePaths: boolean,\n  canEditFunctionPropsDeletePaths: boolean,\n  canEditFunctionPropsRenamePaths: boolean,\n\n  // Is this Error, and can its value be overridden now?\n  isErrored: boolean,\n  canToggleError: boolean,\n\n  // Is this Suspense, and can its value be overridden now?\n  canToggleSuspense: boolean,\n  // If this Element is suspended. Currently only set on Suspense boundaries.\n  isSuspended: boolean | null,\n\n  // Does the component have legacy context attached to it.\n  hasLegacyContext: boolean,\n\n  // Inspectable properties.\n  context: Object | null,\n  hooks: Object | null,\n  props: Object | null,\n  state: Object | null,\n  key: number | string | null,\n  errors: Array<[string, number]>,\n  warnings: Array<[string, number]>,\n\n  // Things that suspended this Instances\n  suspendedBy: Object,\n  // Minimum start time to maximum end time + a potential (not actual) throttle, within the nearest boundary.\n  suspendedByRange: null | [number, number],\n  unknownSuspenders: UnknownSuspendersReason,\n\n  // List of owners\n  owners: Array<SerializedElement> | null,\n\n  // Environment name that this component executed in or null for the client\n  env: string | null,\n\n  // Location of component in source code.\n  source: ReactFunctionLocation | null,\n\n  // The location of the JSX creation.\n  stack: ReactStackTrace | null,\n\n  type: ElementType,\n\n  // Meta information about the root this element belongs to.\n  rootType: string | null,\n\n  // Meta information about the renderer that created this element.\n  rendererPackageName: string | null,\n  rendererVersion: string | null,\n\n  // UI plugins/visualizations for the inspected element.\n  plugins: Plugins,\n\n  // React Native only.\n  nativeTag: number | null,\n};\n\n// TODO: Add profiling type\n\ntype Data =\n  | string\n  | Dehydrated\n  | Unserializable\n  | Array<Dehydrated>\n  | Array<Unserializable>\n  | {[string]: Data};\n\nexport type DehydratedData = {\n  cleaned: Array<Array<string | number>>,\n  data: Data,\n  unserializable: Array<Array<string | number>>,\n};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nconst isArray = Array.isArray;\n\nexport default isArray;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport LRU from 'lru-cache';\nimport {\n  REACT_CONSUMER_TYPE,\n  REACT_CONTEXT_TYPE,\n  REACT_FORWARD_REF_TYPE,\n  REACT_FRAGMENT_TYPE,\n  REACT_LAZY_TYPE,\n  REACT_ELEMENT_TYPE,\n  REACT_LEGACY_ELEMENT_TYPE,\n  REACT_MEMO_TYPE,\n  REACT_PORTAL_TYPE,\n  REACT_PROFILER_TYPE,\n  REACT_STRICT_MODE_TYPE,\n  REACT_SUSPENSE_LIST_TYPE,\n  REACT_SUSPENSE_TYPE,\n  REACT_TRACING_MARKER_TYPE,\n  REACT_VIEW_TRANSITION_TYPE,\n} from 'shared/ReactSymbols';\nimport {\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REMOVE_ROOT,\n  TREE_OPERATION_REORDER_CHILDREN,\n  TREE_OPERATION_SET_SUBTREE_MODE,\n  TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS,\n  TREE_OPERATION_UPDATE_TREE_BASE_DURATION,\n  LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n  LOCAL_STORAGE_OPEN_IN_EDITOR_URL,\n  LOCAL_STORAGE_OPEN_IN_EDITOR_URL_PRESET,\n  LOCAL_STORAGE_ALWAYS_OPEN_IN_EDITOR,\n  SESSION_STORAGE_RELOAD_AND_PROFILE_KEY,\n  SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n  SESSION_STORAGE_RECORD_TIMELINE_KEY,\n  SUSPENSE_TREE_OPERATION_ADD,\n  SUSPENSE_TREE_OPERATION_REMOVE,\n  SUSPENSE_TREE_OPERATION_REORDER_CHILDREN,\n  SUSPENSE_TREE_OPERATION_RESIZE,\n  SUSPENSE_TREE_OPERATION_SUSPENDERS,\n} from './constants';\nimport {\n  ComponentFilterElementType,\n  ComponentFilterLocation,\n  ElementTypeHostComponent,\n} from './frontend/types';\nimport {\n  ElementTypeRoot,\n  ElementTypeClass,\n  ElementTypeForwardRef,\n  ElementTypeFunction,\n  ElementTypeMemo,\n  ElementTypeVirtual,\n} from 'react-devtools-shared/src/frontend/types';\nimport {\n  localStorageGetItem,\n  localStorageSetItem,\n  sessionStorageGetItem,\n  sessionStorageRemoveItem,\n  sessionStorageSetItem,\n} from 'react-devtools-shared/src/storage';\nimport {meta} from './hydration';\nimport isArray from './isArray';\n\nimport type {\n  ComponentFilter,\n  ElementType,\n  SerializedElement as SerializedElementFrontend,\n  LRUCache,\n} from 'react-devtools-shared/src/frontend/types';\nimport type {\n  ProfilingSettings,\n  SerializedElement as SerializedElementBackend,\n} from 'react-devtools-shared/src/backend/types';\nimport {isSynchronousXHRSupported} from './backend/utils';\n\n// $FlowFixMe[method-unbinding]\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nconst cachedDisplayNames: WeakMap<Function, string> = new WeakMap();\n\n// On large trees, encoding takes significant time.\n// Try to reuse the already encoded strings.\nconst encodedStringCache: LRUCache<string, Array<number>> = new LRU({\n  max: 1000,\n});\n\n// Previously, the type of `Context.Provider`.\nconst LEGACY_REACT_PROVIDER_TYPE: symbol = Symbol.for('react.provider');\n\nexport function alphaSortKeys(\n  a: string | number | symbol,\n  b: string | number | symbol,\n): number {\n  if (a.toString() > b.toString()) {\n    return 1;\n  } else if (b.toString() > a.toString()) {\n    return -1;\n  } else {\n    return 0;\n  }\n}\n\nexport function getAllEnumerableKeys(\n  obj: Object,\n): Set<string | number | symbol> {\n  const keys = new Set<string | number | symbol>();\n  let current = obj;\n  while (current != null) {\n    const currentKeys = [\n      ...Object.keys(current),\n      ...Object.getOwnPropertySymbols(current),\n    ];\n    const descriptors = Object.getOwnPropertyDescriptors(current);\n    currentKeys.forEach(key => {\n      // $FlowFixMe[incompatible-type]: key can be a Symbol https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor\n      if (descriptors[key].enumerable) {\n        keys.add(key);\n      }\n    });\n    current = Object.getPrototypeOf(current);\n  }\n  return keys;\n}\n\n// Mirror https://github.com/facebook/react/blob/7c21bf72ace77094fd1910cc350a548287ef8350/packages/shared/getComponentName.js#L27-L37\nexport function getWrappedDisplayName(\n  outerType: mixed,\n  innerType: any,\n  wrapperName: string,\n  fallbackName?: string,\n): string {\n  const displayName = (outerType: any)?.displayName;\n  return (\n    displayName || `${wrapperName}(${getDisplayName(innerType, fallbackName)})`\n  );\n}\n\nexport function getDisplayName(\n  type: Function,\n  fallbackName: string = 'Anonymous',\n): string {\n  const nameFromCache = cachedDisplayNames.get(type);\n  if (nameFromCache != null) {\n    return nameFromCache;\n  }\n\n  let displayName = fallbackName;\n\n  // The displayName property is not guaranteed to be a string.\n  // It's only safe to use for our purposes if it's a string.\n  // github.com/facebook/react-devtools/issues/803\n  if (typeof type.displayName === 'string') {\n    displayName = type.displayName;\n  } else if (typeof type.name === 'string' && type.name !== '') {\n    displayName = type.name;\n  }\n\n  cachedDisplayNames.set(type, displayName);\n  return displayName;\n}\n\nlet uidCounter: number = 0;\n\nexport function getUID(): number {\n  return ++uidCounter;\n}\n\nexport function utfDecodeStringWithRanges(\n  array: Array<number>,\n  left: number,\n  right: number,\n): string {\n  let string = '';\n  for (let i = left; i <= right; i++) {\n    string += String.fromCodePoint(array[i]);\n  }\n  return string;\n}\n\nfunction surrogatePairToCodePoint(\n  charCode1: number,\n  charCode2: number,\n): number {\n  return ((charCode1 & 0x3ff) << 10) + (charCode2 & 0x3ff) + 0x10000;\n}\n\n// Credit for this encoding approach goes to Tim Down:\n// https://stackoverflow.com/questions/4877326/how-can-i-tell-if-a-string-contains-multibyte-characters-in-javascript\nexport function utfEncodeString(string: string): Array<number> {\n  const cached = encodedStringCache.get(string);\n  if (cached !== undefined) {\n    return cached;\n  }\n\n  const encoded = [];\n  let i = 0;\n  let charCode;\n  while (i < string.length) {\n    charCode = string.charCodeAt(i);\n    // Handle multibyte unicode characters (like emoji).\n    if ((charCode & 0xf800) === 0xd800) {\n      encoded.push(surrogatePairToCodePoint(charCode, string.charCodeAt(++i)));\n    } else {\n      encoded.push(charCode);\n    }\n    ++i;\n  }\n\n  encodedStringCache.set(string, encoded);\n\n  return encoded;\n}\n\nexport function printOperationsArray(operations: Array<number>) {\n  // The first two values are always rendererID and rootID\n  const rendererID = operations[0];\n  const rootID = operations[1];\n\n  const logs = [`operations for renderer:${rendererID} and root:${rootID}`];\n\n  let i = 2;\n\n  // Reassemble the string table.\n  const stringTable: Array<null | string> = [\n    null, // ID = 0 corresponds to the null string.\n  ];\n  const stringTableSize = operations[i++];\n  const stringTableEnd = i + stringTableSize;\n  while (i < stringTableEnd) {\n    const nextLength = operations[i++];\n    const nextString = utfDecodeStringWithRanges(\n      operations,\n      i,\n      i + nextLength - 1,\n    );\n    stringTable.push(nextString);\n    i += nextLength;\n  }\n\n  while (i < operations.length) {\n    const operation = operations[i];\n\n    switch (operation) {\n      case TREE_OPERATION_ADD: {\n        const id = ((operations[i + 1]: any): number);\n        const type = ((operations[i + 2]: any): ElementType);\n\n        i += 3;\n\n        if (type === ElementTypeRoot) {\n          logs.push(`Add new root node ${id}`);\n\n          i++; // isStrictModeCompliant\n          i++; // supportsProfiling\n          i++; // supportsStrictMode\n          i++; // hasOwnerMetadata\n        } else {\n          const parentID = ((operations[i]: any): number);\n          i++;\n\n          i++; // ownerID\n\n          const displayNameStringID = operations[i];\n          const displayName = stringTable[displayNameStringID];\n          i++;\n\n          i++; // key\n          i++; // name\n\n          logs.push(\n            `Add node ${id} (${displayName || 'null'}) as child of ${parentID}`,\n          );\n        }\n        break;\n      }\n      case TREE_OPERATION_REMOVE: {\n        const removeLength = ((operations[i + 1]: any): number);\n        i += 2;\n\n        for (let removeIndex = 0; removeIndex < removeLength; removeIndex++) {\n          const id = ((operations[i]: any): number);\n          i += 1;\n\n          logs.push(`Remove node ${id}`);\n        }\n        break;\n      }\n      case TREE_OPERATION_REMOVE_ROOT: {\n        i += 1;\n\n        logs.push(`Remove root ${rootID}`);\n        break;\n      }\n      case TREE_OPERATION_SET_SUBTREE_MODE: {\n        const id = operations[i + 1];\n        const mode = operations[i + 2];\n\n        i += 3;\n\n        logs.push(`Mode ${mode} set for subtree with root ${id}`);\n        break;\n      }\n      case TREE_OPERATION_REORDER_CHILDREN: {\n        const id = ((operations[i + 1]: any): number);\n        const numChildren = ((operations[i + 2]: any): number);\n        i += 3;\n        const children = operations.slice(i, i + numChildren);\n        i += numChildren;\n\n        logs.push(`Re-order node ${id} children ${children.join(',')}`);\n        break;\n      }\n      case TREE_OPERATION_UPDATE_TREE_BASE_DURATION:\n        // Base duration updates are only sent while profiling is in progress.\n        // We can ignore them at this point.\n        // The profiler UI uses them lazily in order to generate the tree.\n        i += 3;\n        break;\n      case TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS: {\n        const id = operations[i + 1];\n        const numErrors = operations[i + 2];\n        const numWarnings = operations[i + 3];\n\n        i += 4;\n\n        logs.push(\n          `Node ${id} has ${numErrors} errors and ${numWarnings} warnings`,\n        );\n        break;\n      }\n      case SUSPENSE_TREE_OPERATION_ADD: {\n        const fiberID = operations[i + 1];\n        const parentID = operations[i + 2];\n        const nameStringID = operations[i + 3];\n        const isSuspended = operations[i + 4];\n        const numRects = operations[i + 5];\n\n        i += 6;\n\n        const name = stringTable[nameStringID];\n        let rects: string;\n        if (numRects === -1) {\n          rects = 'null';\n        } else {\n          rects = '[';\n          for (let rectIndex = 0; rectIndex < numRects; rectIndex++) {\n            const offset = i + rectIndex * 4;\n            const x = operations[offset + 0];\n            const y = operations[offset + 1];\n            const width = operations[offset + 2];\n            const height = operations[offset + 3];\n\n            if (rectIndex > 0) {\n              rects += ', ';\n            }\n            rects += `(${x}, ${y}, ${width}, ${height})`;\n\n            i += 4;\n          }\n          rects += ']';\n        }\n\n        logs.push(\n          `Add suspense node ${fiberID} (${String(name)},rects={${rects}}) under ${parentID} suspended ${isSuspended}`,\n        );\n        break;\n      }\n      case SUSPENSE_TREE_OPERATION_REMOVE: {\n        const removeLength = ((operations[i + 1]: any): number);\n        i += 2;\n\n        for (let removeIndex = 0; removeIndex < removeLength; removeIndex++) {\n          const id = ((operations[i]: any): number);\n          i += 1;\n\n          logs.push(`Remove suspense node ${id}`);\n        }\n\n        break;\n      }\n      case SUSPENSE_TREE_OPERATION_REORDER_CHILDREN: {\n        const id = ((operations[i + 1]: any): number);\n        const numChildren = ((operations[i + 2]: any): number);\n        i += 3;\n        const children = operations.slice(i, i + numChildren);\n        i += numChildren;\n\n        logs.push(\n          `Re-order suspense node ${id} children ${children.join(',')}`,\n        );\n        break;\n      }\n      case SUSPENSE_TREE_OPERATION_RESIZE: {\n        const id = ((operations[i + 1]: any): number);\n        const numRects = ((operations[i + 2]: any): number);\n        i += 3;\n\n        if (numRects === -1) {\n          logs.push(`Resize suspense node ${id} to null`);\n        } else {\n          let line = `Resize suspense node ${id} to [`;\n          for (let rectIndex = 0; rectIndex < numRects; rectIndex++) {\n            const x = operations[i + 0];\n            const y = operations[i + 1];\n            const width = operations[i + 2];\n            const height = operations[i + 3];\n\n            if (rectIndex > 0) {\n              line += ', ';\n            }\n            line += `(${x}, ${y}, ${width}, ${height})`;\n\n            i += 4;\n          }\n          logs.push(line + ']');\n        }\n\n        break;\n      }\n      case SUSPENSE_TREE_OPERATION_SUSPENDERS: {\n        i++;\n        const changeLength = ((operations[i++]: any): number);\n\n        for (let changeIndex = 0; changeIndex < changeLength; changeIndex++) {\n          const id = operations[i++];\n          const hasUniqueSuspenders = operations[i++] === 1;\n          const isSuspended = operations[i++] === 1;\n          const environmentNamesLength = operations[i++];\n          i += environmentNamesLength;\n          logs.push(\n            `Suspense node ${id} unique suspenders set to ${String(hasUniqueSuspenders)} is suspended set to ${String(isSuspended)} with ${String(environmentNamesLength)} environments`,\n          );\n        }\n\n        break;\n      }\n      default:\n        throw Error(`Unsupported Bridge operation \"${operation}\"`);\n    }\n  }\n\n  console.log(logs.join('\\n  '));\n}\n\nexport function getDefaultComponentFilters(): Array<ComponentFilter> {\n  return [\n    {\n      type: ComponentFilterElementType,\n      value: ElementTypeHostComponent,\n      isEnabled: true,\n    },\n  ];\n}\n\nexport function getSavedComponentFilters(): Array<ComponentFilter> {\n  try {\n    const raw = localStorageGetItem(\n      LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n    );\n    if (raw != null) {\n      const parsedFilters: Array<ComponentFilter> = JSON.parse(raw);\n      return filterOutLocationComponentFilters(parsedFilters);\n    }\n  } catch (error) {}\n  return getDefaultComponentFilters();\n}\n\nexport function setSavedComponentFilters(\n  componentFilters: Array<ComponentFilter>,\n): void {\n  localStorageSetItem(\n    LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n    JSON.stringify(filterOutLocationComponentFilters(componentFilters)),\n  );\n}\n\n// Following __debugSource removal from Fiber, the new approach for finding the source location\n// of a component, represented by the Fiber, is based on lazily generating and parsing component stack frames\n// To find the original location, React DevTools will perform symbolication, source maps are required for that.\n// In order to start filtering Fibers, we need to find location for all of them, which can't be done lazily.\n// Eager symbolication can become quite expensive for large applications.\nexport function filterOutLocationComponentFilters(\n  componentFilters: Array<ComponentFilter>,\n): Array<ComponentFilter> {\n  // This is just an additional check to preserve the previous state\n  // Filters can be stored on the backend side or in user land (in a window object)\n  if (!Array.isArray(componentFilters)) {\n    return componentFilters;\n  }\n\n  return componentFilters.filter(f => f.type !== ComponentFilterLocation);\n}\n\nconst vscodeFilepath = 'vscode://file/{path}:{line}:{column}';\n\nexport function getDefaultPreset(): 'custom' | 'vscode' {\n  return typeof process.env.EDITOR_URL === 'string' ? 'custom' : 'vscode';\n}\n\nexport function getDefaultOpenInEditorURL(): string {\n  return typeof process.env.EDITOR_URL === 'string'\n    ? process.env.EDITOR_URL\n    : vscodeFilepath;\n}\n\nexport function getOpenInEditorURL(): string {\n  try {\n    const rawPreset = localStorageGetItem(\n      LOCAL_STORAGE_OPEN_IN_EDITOR_URL_PRESET,\n    );\n    switch (rawPreset) {\n      case '\"vscode\"':\n        return vscodeFilepath;\n    }\n    const raw = localStorageGetItem(LOCAL_STORAGE_OPEN_IN_EDITOR_URL);\n    if (raw != null) {\n      return JSON.parse(raw);\n    }\n  } catch (error) {}\n  return getDefaultOpenInEditorURL();\n}\n\nexport function getAlwaysOpenInEditor(): boolean {\n  try {\n    const raw = localStorageGetItem(LOCAL_STORAGE_ALWAYS_OPEN_IN_EDITOR);\n    return raw === 'true';\n  } catch (error) {}\n  return false;\n}\n\ntype ParseElementDisplayNameFromBackendReturn = {\n  formattedDisplayName: string | null,\n  hocDisplayNames: Array<string> | null,\n  compiledWithForget: boolean,\n};\nexport function parseElementDisplayNameFromBackend(\n  displayName: string | null,\n  type: ElementType,\n): ParseElementDisplayNameFromBackendReturn {\n  if (displayName === null) {\n    return {\n      formattedDisplayName: null,\n      hocDisplayNames: null,\n      compiledWithForget: false,\n    };\n  }\n\n  if (displayName.startsWith('Forget(')) {\n    const displayNameWithoutForgetWrapper = displayName.slice(\n      7,\n      displayName.length - 1,\n    );\n\n    const {formattedDisplayName, hocDisplayNames} =\n      parseElementDisplayNameFromBackend(displayNameWithoutForgetWrapper, type);\n    return {formattedDisplayName, hocDisplayNames, compiledWithForget: true};\n  }\n\n  let hocDisplayNames = null;\n  switch (type) {\n    case ElementTypeClass:\n    case ElementTypeForwardRef:\n    case ElementTypeFunction:\n    case ElementTypeMemo:\n    case ElementTypeVirtual:\n      if (displayName.indexOf('(') >= 0) {\n        const matches = displayName.match(/[^()]+/g);\n        if (matches != null) {\n          // $FlowFixMe[incompatible-type]\n          displayName = matches.pop();\n          hocDisplayNames = matches;\n        }\n      }\n      break;\n    default:\n      break;\n  }\n\n  return {\n    // $FlowFixMe[incompatible-return]\n    formattedDisplayName: displayName,\n    hocDisplayNames,\n    compiledWithForget: false,\n  };\n}\n\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nexport function shallowDiffers(prev: Object, next: Object): boolean {\n  for (const attribute in prev) {\n    if (!(attribute in next)) {\n      return true;\n    }\n  }\n  for (const attribute in next) {\n    if (prev[attribute] !== next[attribute]) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function getInObject(object: Object, path: Array<string | number>): any {\n  return path.reduce((reduced: Object, attr: any): any => {\n    if (reduced) {\n      if (hasOwnProperty.call(reduced, attr)) {\n        return reduced[attr];\n      }\n      if (typeof reduced[Symbol.iterator] === 'function') {\n        // Convert iterable to array and return array[index]\n        //\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        return Array.from(reduced)[attr];\n      }\n    }\n\n    return null;\n  }, object);\n}\n\nexport function deletePathInObject(\n  object: Object,\n  path: Array<string | number>,\n) {\n  const length = path.length;\n  const last = path[length - 1];\n  if (object != null) {\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (parent) {\n      if (isArray(parent)) {\n        parent.splice(((last: any): number), 1);\n      } else {\n        delete parent[last];\n      }\n    }\n  }\n}\n\nexport function renamePathInObject(\n  object: Object,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n) {\n  const length = oldPath.length;\n  if (object != null) {\n    const parent = getInObject(object, oldPath.slice(0, length - 1));\n    if (parent) {\n      const lastOld = oldPath[length - 1];\n      const lastNew = newPath[length - 1];\n      parent[lastNew] = parent[lastOld];\n      if (isArray(parent)) {\n        parent.splice(((lastOld: any): number), 1);\n      } else {\n        delete parent[lastOld];\n      }\n    }\n  }\n}\n\nexport function setInObject(\n  object: Object,\n  path: Array<string | number>,\n  value: any,\n) {\n  const length = path.length;\n  const last = path[length - 1];\n  if (object != null) {\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (parent) {\n      parent[last] = value;\n    }\n  }\n}\n\nexport type DataType =\n  | 'array'\n  | 'array_buffer'\n  | 'bigint'\n  | 'boolean'\n  | 'class_instance'\n  | 'data_view'\n  | 'date'\n  | 'error'\n  | 'function'\n  | 'html_all_collection'\n  | 'html_element'\n  | 'infinity'\n  | 'iterator'\n  | 'opaque_iterator'\n  | 'nan'\n  | 'null'\n  | 'number'\n  | 'thenable'\n  | 'object'\n  | 'react_element'\n  | 'react_lazy'\n  | 'regexp'\n  | 'string'\n  | 'symbol'\n  | 'typed_array'\n  | 'undefined'\n  | 'unknown';\n\nfunction isError(data: Object): boolean {\n  // If it doesn't event look like an error, it won't be an actual error.\n  if ('name' in data && 'message' in data) {\n    while (data) {\n      // $FlowFixMe[method-unbinding]\n      if (Object.prototype.toString.call(data) === '[object Error]') {\n        return true;\n      }\n      data = Object.getPrototypeOf(data);\n    }\n  }\n\n  return false;\n}\n\n/**\n * Get a enhanced/artificial type string based on the object instance\n */\nexport function getDataType(data: Object): DataType {\n  if (data === null) {\n    return 'null';\n  } else if (data === undefined) {\n    return 'undefined';\n  }\n\n  if (typeof HTMLElement !== 'undefined' && data instanceof HTMLElement) {\n    return 'html_element';\n  }\n\n  const type = typeof data;\n  switch (type) {\n    case 'bigint':\n      return 'bigint';\n    case 'boolean':\n      return 'boolean';\n    case 'function':\n      return 'function';\n    case 'number':\n      if (Number.isNaN(data)) {\n        return 'nan';\n      } else if (!Number.isFinite(data)) {\n        return 'infinity';\n      } else {\n        return 'number';\n      }\n    case 'object':\n      switch (data.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n        case REACT_LEGACY_ELEMENT_TYPE:\n          return 'react_element';\n        case REACT_LAZY_TYPE:\n          return 'react_lazy';\n      }\n      if (isArray(data)) {\n        return 'array';\n      } else if (ArrayBuffer.isView(data)) {\n        return hasOwnProperty.call(data.constructor, 'BYTES_PER_ELEMENT')\n          ? 'typed_array'\n          : 'data_view';\n      } else if (data.constructor && data.constructor.name === 'ArrayBuffer') {\n        // HACK This ArrayBuffer check is gross; is there a better way?\n        // We could try to create a new DataView with the value.\n        // If it doesn't error, we know it's an ArrayBuffer,\n        // but this seems kind of awkward and expensive.\n        return 'array_buffer';\n      } else if (typeof data[Symbol.iterator] === 'function') {\n        const iterator = data[Symbol.iterator]();\n        if (!iterator) {\n          // Proxies might break assumptoins about iterators.\n          // See github.com/facebook/react/issues/21654\n        } else {\n          return iterator === data ? 'opaque_iterator' : 'iterator';\n        }\n      } else if (data.constructor && data.constructor.name === 'RegExp') {\n        return 'regexp';\n      } else if (typeof data.then === 'function') {\n        return 'thenable';\n      } else if (isError(data)) {\n        return 'error';\n      } else {\n        // $FlowFixMe[method-unbinding]\n        const toStringValue = Object.prototype.toString.call(data);\n        if (toStringValue === '[object Date]') {\n          return 'date';\n        } else if (toStringValue === '[object HTMLAllCollection]') {\n          return 'html_all_collection';\n        }\n      }\n\n      if (!isPlainObject(data)) {\n        return 'class_instance';\n      }\n\n      return 'object';\n    case 'string':\n      return 'string';\n    case 'symbol':\n      return 'symbol';\n    case 'undefined':\n      if (\n        // $FlowFixMe[method-unbinding]\n        Object.prototype.toString.call(data) === '[object HTMLAllCollection]'\n      ) {\n        return 'html_all_collection';\n      }\n      return 'undefined';\n    default:\n      return 'unknown';\n  }\n}\n\n// Fork of packages/react-is/src/ReactIs.js:30, but with legacy element type\n// Which has been changed in https://github.com/facebook/react/pull/28813\nfunction typeOfWithLegacyElementSymbol(object: any): mixed {\n  if (typeof object === 'object' && object !== null) {\n    const $$typeof = object.$$typeof;\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n      case REACT_LEGACY_ELEMENT_TYPE:\n        const type = object.type;\n\n        switch (type) {\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n          case REACT_SUSPENSE_LIST_TYPE:\n          case REACT_VIEW_TRANSITION_TYPE:\n            return type;\n          default:\n            const $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n                return $$typeofType;\n              case REACT_CONSUMER_TYPE:\n                return $$typeofType;\n              // Fall through\n              default:\n                return $$typeof;\n            }\n        }\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n}\n\nexport function getDisplayNameForReactElement(\n  element: React$Element<any>,\n): string | null {\n  const elementType = typeOfWithLegacyElementSymbol(element);\n  switch (elementType) {\n    case REACT_CONSUMER_TYPE:\n      return 'ContextConsumer';\n    case LEGACY_REACT_PROVIDER_TYPE:\n      return 'ContextProvider';\n    case REACT_CONTEXT_TYPE:\n      return 'Context';\n    case REACT_FORWARD_REF_TYPE:\n      return 'ForwardRef';\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n    case REACT_LAZY_TYPE:\n      return 'Lazy';\n    case REACT_MEMO_TYPE:\n      return 'Memo';\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n    case REACT_VIEW_TRANSITION_TYPE:\n      return 'ViewTransition';\n    case REACT_TRACING_MARKER_TYPE:\n      return 'TracingMarker';\n    default:\n      const {type} = element;\n      if (typeof type === 'string') {\n        return type;\n      } else if (typeof type === 'function') {\n        return getDisplayName(type, 'Anonymous');\n      } else if (type != null) {\n        return 'NotImplementedInDevtools';\n      } else {\n        return 'Element';\n      }\n  }\n}\n\nconst MAX_PREVIEW_STRING_LENGTH = 50;\n\nfunction truncateForDisplay(\n  string: string,\n  length: number = MAX_PREVIEW_STRING_LENGTH,\n) {\n  if (string.length > length) {\n    return string.slice(0, length) + '';\n  } else {\n    return string;\n  }\n}\n\n// Attempts to mimic Chrome's inline preview for values.\n// For example, the following value...\n//   {\n//      foo: 123,\n//      bar: \"abc\",\n//      baz: [true, false],\n//      qux: { ab: 1, cd: 2 }\n//   };\n//\n// Would show a preview of...\n//   {foo: 123, bar: \"abc\", baz: Array(2), qux: {}}\n//\n// And the following value...\n//   [\n//     123,\n//     \"abc\",\n//     [true, false],\n//     { foo: 123, bar: \"abc\" }\n//   ];\n//\n// Would show a preview of...\n//   [123, \"abc\", Array(2), {}]\nexport function formatDataForPreview(\n  data: any,\n  showFormattedValue: boolean,\n): string {\n  if (data != null && hasOwnProperty.call(data, meta.type)) {\n    return showFormattedValue\n      ? data[meta.preview_long]\n      : data[meta.preview_short];\n  }\n\n  const type = getDataType(data);\n\n  switch (type) {\n    case 'html_element':\n      return `<${truncateForDisplay(data.tagName.toLowerCase())} />`;\n    case 'function':\n      if (typeof data.name === 'function' || data.name === '') {\n        return '() => {}';\n      }\n      return `${truncateForDisplay(data.name)}() {}`;\n    case 'string':\n      return `\"${data}\"`;\n    case 'bigint':\n      return truncateForDisplay(data.toString() + 'n');\n    case 'regexp':\n      return truncateForDisplay(data.toString());\n    case 'symbol':\n      return truncateForDisplay(data.toString());\n    case 'react_element':\n      return `<${truncateForDisplay(\n        getDisplayNameForReactElement(data) || 'Unknown',\n      )} />`;\n    case 'react_lazy':\n      // To avoid actually initialize a lazy to cause a side-effect we make some assumptions\n      // about the structure of the payload even though that's not really part of the contract.\n      // In practice, this is really just coming from React.lazy helper or Flight.\n      const payload = data._payload;\n      if (payload !== null && typeof payload === 'object') {\n        if (payload._status === 0) {\n          // React.lazy constructor pending\n          return `pending lazy()`;\n        }\n        if (payload._status === 1 && payload._result != null) {\n          // React.lazy constructor fulfilled\n          if (showFormattedValue) {\n            const formatted = formatDataForPreview(\n              payload._result.default,\n              false,\n            );\n            return `fulfilled lazy() {${truncateForDisplay(formatted)}}`;\n          } else {\n            return `fulfilled lazy() {}`;\n          }\n        }\n        if (payload._status === 2) {\n          // React.lazy constructor rejected\n          if (showFormattedValue) {\n            const formatted = formatDataForPreview(payload._result, false);\n            return `rejected lazy() {${truncateForDisplay(formatted)}}`;\n          } else {\n            return `rejected lazy() {}`;\n          }\n        }\n        if (payload.status === 'pending' || payload.status === 'blocked') {\n          // React Flight pending\n          return `pending lazy()`;\n        }\n        if (payload.status === 'fulfilled') {\n          // React Flight fulfilled\n          if (showFormattedValue) {\n            const formatted = formatDataForPreview(payload.value, false);\n            return `fulfilled lazy() {${truncateForDisplay(formatted)}}`;\n          } else {\n            return `fulfilled lazy() {}`;\n          }\n        }\n        if (payload.status === 'rejected') {\n          // React Flight rejected\n          if (showFormattedValue) {\n            const formatted = formatDataForPreview(payload.reason, false);\n            return `rejected lazy() {${truncateForDisplay(formatted)}}`;\n          } else {\n            return `rejected lazy() {}`;\n          }\n        }\n      }\n      // Some form of uninitialized\n      return 'lazy()';\n    case 'array_buffer':\n      return `ArrayBuffer(${data.byteLength})`;\n    case 'data_view':\n      return `DataView(${data.buffer.byteLength})`;\n    case 'array':\n      if (showFormattedValue) {\n        let formatted = '';\n        for (let i = 0; i < data.length; i++) {\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += formatDataForPreview(data[i], false);\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `[${truncateForDisplay(formatted)}]`;\n      } else {\n        const length = hasOwnProperty.call(data, meta.size)\n          ? data[meta.size]\n          : data.length;\n        return `Array(${length})`;\n      }\n    case 'typed_array':\n      const shortName = `${data.constructor.name}(${data.length})`;\n      if (showFormattedValue) {\n        let formatted = '';\n        for (let i = 0; i < data.length; i++) {\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += data[i];\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `${shortName} [${truncateForDisplay(formatted)}]`;\n      } else {\n        return shortName;\n      }\n    case 'iterator':\n      const name = data.constructor.name;\n\n      if (showFormattedValue) {\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        const array = Array.from(data);\n\n        let formatted = '';\n        for (let i = 0; i < array.length; i++) {\n          const entryOrEntries = array[i];\n\n          if (i > 0) {\n            formatted += ', ';\n          }\n\n          // TRICKY\n          // Browsers display Maps and Sets differently.\n          // To mimic their behavior, detect if we've been given an entries tuple.\n          //   Map(2) {\"abc\" => 123, \"def\" => 123}\n          //   Set(2) {\"abc\", 123}\n          if (isArray(entryOrEntries)) {\n            const key = formatDataForPreview(entryOrEntries[0], true);\n            const value = formatDataForPreview(entryOrEntries[1], false);\n            formatted += `${key} => ${value}`;\n          } else {\n            formatted += formatDataForPreview(entryOrEntries, false);\n          }\n\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n\n        return `${name}(${data.size}) {${truncateForDisplay(formatted)}}`;\n      } else {\n        return `${name}(${data.size})`;\n      }\n    case 'opaque_iterator': {\n      return data[Symbol.toStringTag];\n    }\n    case 'date':\n      return data.toString();\n    case 'class_instance':\n      try {\n        let resolvedConstructorName = data.constructor.name;\n        if (typeof resolvedConstructorName === 'string') {\n          return resolvedConstructorName;\n        }\n\n        resolvedConstructorName = Object.getPrototypeOf(data).constructor.name;\n        if (typeof resolvedConstructorName === 'string') {\n          return resolvedConstructorName;\n        }\n\n        try {\n          return truncateForDisplay(String(data));\n        } catch (error) {\n          return 'unserializable';\n        }\n      } catch (error) {\n        return 'unserializable';\n      }\n    case 'thenable':\n      let displayName: string;\n      if (isPlainObject(data)) {\n        displayName = 'Thenable';\n      } else {\n        let resolvedConstructorName = data.constructor.name;\n        if (typeof resolvedConstructorName !== 'string') {\n          resolvedConstructorName =\n            Object.getPrototypeOf(data).constructor.name;\n        }\n        if (typeof resolvedConstructorName === 'string') {\n          displayName = resolvedConstructorName;\n        } else {\n          displayName = 'Thenable';\n        }\n      }\n      switch (data.status) {\n        case 'pending':\n          return `pending ${displayName}`;\n        case 'fulfilled':\n          if (showFormattedValue) {\n            const formatted = formatDataForPreview(data.value, false);\n            return `fulfilled ${displayName} {${truncateForDisplay(formatted)}}`;\n          } else {\n            return `fulfilled ${displayName} {}`;\n          }\n        case 'rejected':\n          if (showFormattedValue) {\n            const formatted = formatDataForPreview(data.reason, false);\n            return `rejected ${displayName} {${truncateForDisplay(formatted)}}`;\n          } else {\n            return `rejected ${displayName} {}`;\n          }\n        default:\n          return displayName;\n      }\n    case 'object':\n      if (showFormattedValue) {\n        const keys = Array.from(getAllEnumerableKeys(data)).sort(alphaSortKeys);\n\n        let formatted = '';\n        for (let i = 0; i < keys.length; i++) {\n          const key = keys[i];\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += `${key.toString()}: ${formatDataForPreview(\n            data[key],\n            false,\n          )}`;\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `{${truncateForDisplay(formatted)}}`;\n      } else {\n        return '{}';\n      }\n    case 'error':\n      return truncateForDisplay(String(data));\n    case 'boolean':\n    case 'number':\n    case 'infinity':\n    case 'nan':\n    case 'null':\n    case 'undefined':\n      return String(data);\n    default:\n      try {\n        return truncateForDisplay(String(data));\n      } catch (error) {\n        return 'unserializable';\n      }\n  }\n}\n\n// Basically checking that the object only has Object in its prototype chain\nexport const isPlainObject = (object: Object): boolean => {\n  const objectPrototype = Object.getPrototypeOf(object);\n  if (!objectPrototype) return true;\n\n  const objectParentPrototype = Object.getPrototypeOf(objectPrototype);\n  return !objectParentPrototype;\n};\n\nexport function backendToFrontendSerializedElementMapper(\n  element: SerializedElementBackend,\n): SerializedElementFrontend {\n  const {formattedDisplayName, hocDisplayNames, compiledWithForget} =\n    parseElementDisplayNameFromBackend(element.displayName, element.type);\n\n  return {\n    ...element,\n    displayName: formattedDisplayName,\n    hocDisplayNames,\n    compiledWithForget,\n  };\n}\n\n/**\n * Should be used when treating url as a Chrome Resource URL.\n */\nexport function normalizeUrlIfValid(url: string): string {\n  try {\n    // TODO: Chrome will use the basepath to create a Resource URL.\n    return new URL(url).toString();\n  } catch {\n    // Giving up if it's not a valid URL without basepath\n    return url;\n  }\n}\n\nexport function getIsReloadAndProfileSupported(): boolean {\n  // Notify the frontend if the backend supports the Storage API (e.g. localStorage).\n  // If not, features like reload-and-profile will not work correctly and must be disabled.\n  let isBackendStorageAPISupported = false;\n  try {\n    localStorage.getItem('test');\n    isBackendStorageAPISupported = true;\n  } catch (error) {}\n\n  return isBackendStorageAPISupported && isSynchronousXHRSupported();\n}\n\n// Expected to be used only by browser extension and react-devtools-inline\nexport function getIfReloadedAndProfiling(): boolean {\n  return (\n    sessionStorageGetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY) === 'true'\n  );\n}\n\nexport function getProfilingSettings(): ProfilingSettings {\n  return {\n    recordChangeDescriptions:\n      sessionStorageGetItem(SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY) ===\n      'true',\n    recordTimeline:\n      sessionStorageGetItem(SESSION_STORAGE_RECORD_TIMELINE_KEY) === 'true',\n  };\n}\n\nexport function onReloadAndProfile(\n  recordChangeDescriptions: boolean,\n  recordTimeline: boolean,\n): void {\n  sessionStorageSetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY, 'true');\n  sessionStorageSetItem(\n    SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n    recordChangeDescriptions ? 'true' : 'false',\n  );\n  sessionStorageSetItem(\n    SESSION_STORAGE_RECORD_TIMELINE_KEY,\n    recordTimeline ? 'true' : 'false',\n  );\n}\n\nexport function onReloadAndProfileFlagsReset(): void {\n  sessionStorageRemoveItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY);\n  sessionStorageRemoveItem(SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY);\n  sessionStorageRemoveItem(SESSION_STORAGE_RECORD_TIMELINE_KEY);\n}\n\nexport function unionOfTwoArrays<T>(a: Array<T>, b: Array<T>): Array<T> {\n  let result = a;\n  for (let i = 0; i < b.length; i++) {\n    const value = b[i];\n    if (a.indexOf(value) === -1) {\n      if (result === a) {\n        // Lazily copy\n        result = a.slice(0);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport default function noop() {}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  getDataType,\n  getDisplayNameForReactElement,\n  getAllEnumerableKeys,\n  getInObject,\n  formatDataForPreview,\n  setInObject,\n} from 'react-devtools-shared/src/utils';\n\nimport {REACT_LEGACY_ELEMENT_TYPE} from 'shared/ReactSymbols';\n\nimport type {\n  DehydratedData,\n  InspectedElementPath,\n} from 'react-devtools-shared/src/frontend/types';\n\nimport noop from 'shared/noop';\n\nexport const meta = {\n  inspectable: (Symbol('inspectable'): symbol),\n  inspected: (Symbol('inspected'): symbol),\n  name: (Symbol('name'): symbol),\n  preview_long: (Symbol('preview_long'): symbol),\n  preview_short: (Symbol('preview_short'): symbol),\n  readonly: (Symbol('readonly'): symbol),\n  size: (Symbol('size'): symbol),\n  type: (Symbol('type'): symbol),\n  unserializable: (Symbol('unserializable'): symbol),\n};\n\nexport type Dehydrated = {\n  inspectable: boolean,\n  name: string | null,\n  preview_long: string | null,\n  preview_short: string | null,\n  readonly?: boolean,\n  size?: number,\n  type: string,\n};\n\n// Typed arrays, other complex iteratable objects (e.g. Map, Set, ImmutableJS) or Promises need special handling.\n// These objects can't be serialized without losing type information,\n// so a \"Unserializable\" type wrapper is used (with meta-data keys) to send nested values-\n// while preserving the original type and name.\nexport type Unserializable = {\n  name: string | null,\n  preview_long: string | null,\n  preview_short: string | null,\n  readonly?: boolean,\n  size?: number,\n  type: string,\n  unserializable: boolean,\n  [string | number]: any,\n};\n\n// This threshold determines the depth at which the bridge \"dehydrates\" nested data.\n// Dehydration means that we don't serialize the data for e.g. postMessage or stringify,\n// unless the frontend explicitly requests it (e.g. a user clicks to expand a props object).\n//\n// Reducing this threshold will improve the speed of initial component inspection,\n// but may decrease the responsiveness of expanding objects/arrays to inspect further.\nconst LEVEL_THRESHOLD = 2;\n\n/**\n * Generate the dehydrated metadata for complex object instances\n */\nfunction createDehydrated(\n  type: string,\n  inspectable: boolean,\n  data: Object,\n  cleaned: Array<Array<string | number>>,\n  path: Array<string | number>,\n): Dehydrated {\n  cleaned.push(path);\n\n  const dehydrated: Dehydrated = {\n    inspectable,\n    type,\n    preview_long: formatDataForPreview(data, true),\n    preview_short: formatDataForPreview(data, false),\n    name:\n      typeof data.constructor !== 'function' ||\n      typeof data.constructor.name !== 'string' ||\n      data.constructor.name === 'Object'\n        ? ''\n        : data.constructor.name,\n  };\n\n  if (type === 'array' || type === 'typed_array') {\n    dehydrated.size = data.length;\n  } else if (type === 'object') {\n    dehydrated.size = Object.keys(data).length;\n  }\n\n  if (type === 'iterator' || type === 'typed_array') {\n    dehydrated.readonly = true;\n  }\n\n  return dehydrated;\n}\n\n/**\n * Strip out complex data (instances, functions, and data nested > LEVEL_THRESHOLD levels deep).\n * The paths of the stripped out objects are appended to the `cleaned` list.\n * On the other side of the barrier, the cleaned list is used to \"re-hydrate\" the cleaned representation into\n * an object with symbols as attributes, so that a sanitized object can be distinguished from a normal object.\n *\n * Input: {\"some\": {\"attr\": fn()}, \"other\": AnInstance}\n * Output: {\n *   \"some\": {\n *     \"attr\": {\"name\": the fn.name, type: \"function\"}\n *   },\n *   \"other\": {\n *     \"name\": \"AnInstance\",\n *     \"type\": \"object\",\n *   },\n * }\n * and cleaned = [[\"some\", \"attr\"], [\"other\"]]\n */\nexport function dehydrate(\n  data: Object,\n  cleaned: Array<Array<string | number>>,\n  unserializable: Array<Array<string | number>>,\n  path: Array<string | number>,\n  isPathAllowed: (path: Array<string | number>) => boolean,\n  level: number = 0,\n): DehydratedData['data'] {\n  const type = getDataType(data);\n\n  let isPathAllowedCheck;\n\n  switch (type) {\n    case 'html_element':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.tagName,\n        type,\n      };\n\n    case 'function':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name:\n          typeof data.name === 'function' || !data.name\n            ? 'function'\n            : data.name,\n        type,\n      };\n\n    case 'string':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (isPathAllowedCheck) {\n        return data;\n      } else {\n        return data.length <= 500 ? data : data.slice(0, 500) + '...';\n      }\n\n    case 'bigint':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'symbol':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'react_element': {\n      isPathAllowedCheck = isPathAllowed(path);\n\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        cleaned.push(path);\n        return {\n          inspectable: true,\n          preview_short: formatDataForPreview(data, false),\n          preview_long: formatDataForPreview(data, true),\n          name: getDisplayNameForReactElement(data) || 'Unknown',\n          type,\n        };\n      }\n\n      const unserializableValue: Unserializable = {\n        unserializable: true,\n        type,\n        readonly: true,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: getDisplayNameForReactElement(data) || 'Unknown',\n      };\n      // TODO: We can't expose type because that name is already taken on Unserializable.\n      unserializableValue.key = dehydrate(\n        data.key,\n        cleaned,\n        unserializable,\n        path.concat(['key']),\n        isPathAllowed,\n        isPathAllowedCheck ? 1 : level + 1,\n      );\n      if (data.$$typeof === REACT_LEGACY_ELEMENT_TYPE) {\n        unserializableValue.ref = dehydrate(\n          data.ref,\n          cleaned,\n          unserializable,\n          path.concat(['ref']),\n          isPathAllowed,\n          isPathAllowedCheck ? 1 : level + 1,\n        );\n      }\n      unserializableValue.props = dehydrate(\n        data.props,\n        cleaned,\n        unserializable,\n        path.concat(['props']),\n        isPathAllowed,\n        isPathAllowedCheck ? 1 : level + 1,\n      );\n\n      unserializable.push(path);\n      return unserializableValue;\n    }\n    case 'react_lazy': {\n      isPathAllowedCheck = isPathAllowed(path);\n\n      const payload = data._payload;\n\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        cleaned.push(path);\n        const inspectable =\n          payload !== null &&\n          typeof payload === 'object' &&\n          (payload._status === 1 ||\n            payload._status === 2 ||\n            payload.status === 'fulfilled' ||\n            payload.status === 'rejected');\n        return {\n          inspectable,\n          preview_short: formatDataForPreview(data, false),\n          preview_long: formatDataForPreview(data, true),\n          name: 'lazy()',\n          type,\n        };\n      }\n\n      const unserializableValue: Unserializable = {\n        unserializable: true,\n        type: type,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: 'lazy()',\n      };\n      // Ideally we should alias these properties to something more readable but\n      // unfortunately because of how the hydration algorithm uses a single concept of\n      // \"path\" we can't alias the path.\n      unserializableValue._payload = dehydrate(\n        payload,\n        cleaned,\n        unserializable,\n        path.concat(['_payload']),\n        isPathAllowed,\n        isPathAllowedCheck ? 1 : level + 1,\n      );\n      unserializable.push(path);\n      return unserializableValue;\n    }\n    // ArrayBuffers error if you try to inspect them.\n    case 'array_buffer':\n    case 'data_view':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: type === 'data_view' ? 'DataView' : 'ArrayBuffer',\n        size: data.byteLength,\n        type,\n      };\n\n    case 'array':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      }\n      const arr: Array<Object> = [];\n      for (let i = 0; i < data.length; i++) {\n        arr[i] = dehydrateKey(\n          data,\n          i,\n          cleaned,\n          unserializable,\n          path.concat([i]),\n          isPathAllowed,\n          isPathAllowedCheck ? 1 : level + 1,\n        );\n      }\n      return arr;\n\n    case 'html_all_collection':\n    case 'typed_array':\n    case 'iterator':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      } else {\n        const unserializableValue: Unserializable = {\n          unserializable: true,\n          type: type,\n          readonly: true,\n          size: type === 'typed_array' ? data.length : undefined,\n          preview_short: formatDataForPreview(data, false),\n          preview_long: formatDataForPreview(data, true),\n          name:\n            typeof data.constructor !== 'function' ||\n            typeof data.constructor.name !== 'string' ||\n            data.constructor.name === 'Object'\n              ? ''\n              : data.constructor.name,\n        };\n\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        Array.from(data).forEach(\n          (item, i) =>\n            (unserializableValue[i] = dehydrate(\n              item,\n              cleaned,\n              unserializable,\n              path.concat([i]),\n              isPathAllowed,\n              isPathAllowedCheck ? 1 : level + 1,\n            )),\n        );\n\n        unserializable.push(path);\n\n        return unserializableValue;\n      }\n\n    case 'opaque_iterator':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data[Symbol.toStringTag],\n        type,\n      };\n\n    case 'date':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'regexp':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'thenable':\n      isPathAllowedCheck = isPathAllowed(path);\n\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        cleaned.push(path);\n        return {\n          inspectable:\n            data.status === 'fulfilled' || data.status === 'rejected',\n          preview_short: formatDataForPreview(data, false),\n          preview_long: formatDataForPreview(data, true),\n          name: data.toString(),\n          type,\n        };\n      }\n\n      if (\n        data.status === 'resolved_model' ||\n        data.status === 'resolve_module'\n      ) {\n        // This looks it's a lazy initialization pattern such in Flight.\n        // Since we're about to inspect it. Let's eagerly initialize it.\n        data.then(noop);\n      }\n\n      switch (data.status) {\n        case 'fulfilled': {\n          const unserializableValue: Unserializable = {\n            unserializable: true,\n            type: type,\n            preview_short: formatDataForPreview(data, false),\n            preview_long: formatDataForPreview(data, true),\n            name: 'fulfilled Thenable',\n          };\n\n          unserializableValue.value = dehydrate(\n            data.value,\n            cleaned,\n            unserializable,\n            path.concat(['value']),\n            isPathAllowed,\n            isPathAllowedCheck ? 1 : level + 1,\n          );\n\n          unserializable.push(path);\n\n          return unserializableValue;\n        }\n        case 'rejected': {\n          const unserializableValue: Unserializable = {\n            unserializable: true,\n            type: type,\n            preview_short: formatDataForPreview(data, false),\n            preview_long: formatDataForPreview(data, true),\n            name: 'rejected Thenable',\n          };\n\n          unserializableValue.reason = dehydrate(\n            data.reason,\n            cleaned,\n            unserializable,\n            path.concat(['reason']),\n            isPathAllowed,\n            isPathAllowedCheck ? 1 : level + 1,\n          );\n\n          unserializable.push(path);\n\n          return unserializableValue;\n        }\n        default:\n          cleaned.push(path);\n          return {\n            inspectable: false,\n            preview_short: formatDataForPreview(data, false),\n            preview_long: formatDataForPreview(data, true),\n            name: data.toString(),\n            type,\n          };\n      }\n\n    case 'object':\n      isPathAllowedCheck = isPathAllowed(path);\n\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      } else {\n        const object: {\n          [string]: DehydratedData['data'],\n        } = {};\n        getAllEnumerableKeys(data).forEach(key => {\n          const name = key.toString();\n          object[name] = dehydrateKey(\n            data,\n            key,\n            cleaned,\n            unserializable,\n            path.concat([name]),\n            isPathAllowed,\n            isPathAllowedCheck ? 1 : level + 1,\n          );\n        });\n        return object;\n      }\n\n    case 'class_instance': {\n      isPathAllowedCheck = isPathAllowed(path);\n\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      }\n\n      const value: Unserializable = {\n        unserializable: true,\n        type,\n        readonly: true,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name:\n          typeof data.constructor !== 'function' ||\n          typeof data.constructor.name !== 'string'\n            ? ''\n            : data.constructor.name,\n      };\n\n      getAllEnumerableKeys(data).forEach(key => {\n        const keyAsString = key.toString();\n\n        value[keyAsString] = dehydrate(\n          data[key],\n          cleaned,\n          unserializable,\n          path.concat([keyAsString]),\n          isPathAllowed,\n          isPathAllowedCheck ? 1 : level + 1,\n        );\n      });\n\n      unserializable.push(path);\n\n      return value;\n    }\n    case 'error': {\n      isPathAllowedCheck = isPathAllowed(path);\n\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      }\n\n      const value: Unserializable = {\n        unserializable: true,\n        type,\n        readonly: true,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.name,\n      };\n\n      // name, message, stack and cause are not enumerable yet still interesting.\n      value.message = dehydrate(\n        data.message,\n        cleaned,\n        unserializable,\n        path.concat(['message']),\n        isPathAllowed,\n        isPathAllowedCheck ? 1 : level + 1,\n      );\n      value.stack = dehydrate(\n        data.stack,\n        cleaned,\n        unserializable,\n        path.concat(['stack']),\n        isPathAllowed,\n        isPathAllowedCheck ? 1 : level + 1,\n      );\n\n      if ('cause' in data) {\n        value.cause = dehydrate(\n          data.cause,\n          cleaned,\n          unserializable,\n          path.concat(['cause']),\n          isPathAllowed,\n          isPathAllowedCheck ? 1 : level + 1,\n        );\n      }\n\n      getAllEnumerableKeys(data).forEach(key => {\n        const keyAsString = key.toString();\n\n        value[keyAsString] = dehydrate(\n          data[key],\n          cleaned,\n          unserializable,\n          path.concat([keyAsString]),\n          isPathAllowed,\n          isPathAllowedCheck ? 1 : level + 1,\n        );\n      });\n\n      unserializable.push(path);\n\n      return value;\n    }\n    case 'infinity':\n    case 'nan':\n    case 'undefined':\n      // Some values are lossy when sent through a WebSocket.\n      // We dehydrate+rehydrate them to preserve their type.\n      cleaned.push(path);\n      return {type};\n\n    default:\n      return data;\n  }\n}\n\nfunction dehydrateKey(\n  parent: Object,\n  key: number | string | symbol,\n  cleaned: Array<Array<string | number>>,\n  unserializable: Array<Array<string | number>>,\n  path: Array<string | number>,\n  isPathAllowed: (path: Array<string | number>) => boolean,\n  level: number = 0,\n): DehydratedData['data'] {\n  try {\n    return dehydrate(\n      parent[key],\n      cleaned,\n      unserializable,\n      path,\n      isPathAllowed,\n      level,\n    );\n  } catch (error) {\n    let preview = '';\n    if (\n      typeof error === 'object' &&\n      error !== null &&\n      typeof error.stack === 'string'\n    ) {\n      preview = error.stack;\n    } else if (typeof error === 'string') {\n      preview = error;\n    }\n    cleaned.push(path);\n    return {\n      inspectable: false,\n      preview_short: '[Exception]',\n      preview_long: preview ? '[Exception: ' + preview + ']' : '[Exception]',\n      name: preview,\n      type: 'unknown',\n    };\n  }\n}\n\nexport function fillInPath(\n  object: Object,\n  data: DehydratedData,\n  path: InspectedElementPath,\n  value: any,\n) {\n  const target = getInObject(object, path);\n  if (target != null) {\n    if (!target[meta.unserializable]) {\n      delete target[meta.inspectable];\n      delete target[meta.inspected];\n      delete target[meta.name];\n      delete target[meta.preview_long];\n      delete target[meta.preview_short];\n      delete target[meta.readonly];\n      delete target[meta.size];\n      delete target[meta.type];\n    }\n  }\n\n  if (value !== null && data.unserializable.length > 0) {\n    const unserializablePath = data.unserializable[0];\n    let isMatch = unserializablePath.length === path.length;\n    for (let i = 0; i < path.length; i++) {\n      if (path[i] !== unserializablePath[i]) {\n        isMatch = false;\n        break;\n      }\n    }\n    if (isMatch) {\n      upgradeUnserializable(value, value);\n    }\n  }\n\n  setInObject(object, path, value);\n}\n\nexport function hydrate(\n  object: any,\n  cleaned: Array<Array<string | number>>,\n  unserializable: Array<Array<string | number>>,\n): Object {\n  cleaned.forEach((path: Array<string | number>) => {\n    const length = path.length;\n    const last = path[length - 1];\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (!parent || !parent.hasOwnProperty(last)) {\n      return;\n    }\n\n    const value = parent[last];\n\n    if (!value) {\n      return;\n    } else if (value.type === 'infinity') {\n      parent[last] = Infinity;\n    } else if (value.type === 'nan') {\n      parent[last] = NaN;\n    } else if (value.type === 'undefined') {\n      parent[last] = undefined;\n    } else {\n      // Replace the string keys with Symbols so they're non-enumerable.\n      const replaced: {[key: symbol]: boolean | string} = {};\n      replaced[meta.inspectable] = !!value.inspectable;\n      replaced[meta.inspected] = false;\n      replaced[meta.name] = value.name;\n      replaced[meta.preview_long] = value.preview_long;\n      replaced[meta.preview_short] = value.preview_short;\n      replaced[meta.size] = value.size;\n      replaced[meta.readonly] = !!value.readonly;\n      replaced[meta.type] = value.type;\n\n      parent[last] = replaced;\n    }\n  });\n  unserializable.forEach((path: Array<string | number>) => {\n    const length = path.length;\n    const last = path[length - 1];\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (!parent || !parent.hasOwnProperty(last)) {\n      return;\n    }\n\n    const node = parent[last];\n\n    const replacement = {\n      ...node,\n    };\n\n    upgradeUnserializable(replacement, node);\n\n    parent[last] = replacement;\n  });\n  return object;\n}\n\nfunction upgradeUnserializable(destination: Object, source: Object) {\n  Object.defineProperties(destination, {\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.inspected]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.inspected,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.name]: {\n      configurable: true,\n      enumerable: false,\n      value: source.name,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.preview_long]: {\n      configurable: true,\n      enumerable: false,\n      value: source.preview_long,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.preview_short]: {\n      configurable: true,\n      enumerable: false,\n      value: source.preview_short,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.size]: {\n      configurable: true,\n      enumerable: false,\n      value: source.size,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.readonly]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.readonly,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.type]: {\n      configurable: true,\n      enumerable: false,\n      value: source.type,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.unserializable]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.unserializable,\n    },\n  });\n\n  delete destination.inspected;\n  delete destination.name;\n  delete destination.preview_long;\n  delete destination.preview_short;\n  delete destination.size;\n  delete destination.readonly;\n  delete destination.type;\n  delete destination.unserializable;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\ndeclare function isArray<T>(\n  v: T,\n  // eslint-disable-next-line\n): v is T extends $ReadOnlyArray<mixed> ? T : empty;\n\nconst isArrayImpl = Array.isArray;\n\nfunction isArray(a: mixed): boolean {\n  return isArrayImpl(a);\n}\n\nexport default isArray;\n","/**\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {compareVersions} from 'compare-versions';\nimport {dehydrate} from 'react-devtools-shared/src/hydration';\nimport isArray from 'shared/isArray';\n\nimport type {DehydratedData} from 'react-devtools-shared/src/frontend/types';\n\nexport {default as formatWithStyles} from './formatWithStyles';\nexport {default as formatConsoleArguments} from './formatConsoleArguments';\n\n// TODO: update this to the first React version that has a corresponding DevTools backend\nconst FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER = '999.9.9';\nexport function hasAssignedBackend(version?: string): boolean {\n  if (version == null || version === '') {\n    return false;\n  }\n  return gte(version, FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER);\n}\n\nexport function cleanForBridge(\n  data: Object | null,\n  isPathAllowed: (path: Array<string | number>) => boolean,\n  path: Array<string | number> = [],\n): DehydratedData | null {\n  if (data !== null) {\n    const cleanedPaths: Array<Array<string | number>> = [];\n    const unserializablePaths: Array<Array<string | number>> = [];\n    const cleanedData = dehydrate(\n      data,\n      cleanedPaths,\n      unserializablePaths,\n      path,\n      isPathAllowed,\n    );\n\n    return {\n      data: cleanedData,\n      cleaned: cleanedPaths,\n      unserializable: unserializablePaths,\n    };\n  } else {\n    return null;\n  }\n}\n\nexport function copyWithDelete(\n  obj: Object | Array<any>,\n  path: Array<string | number>,\n  index: number = 0,\n): Object | Array<any> {\n  const key = path[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  if (index + 1 === path.length) {\n    if (isArray(updated)) {\n      updated.splice(((key: any): number), 1);\n    } else {\n      delete updated[key];\n    }\n  } else {\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[key] = copyWithDelete(obj[key], path, index + 1);\n  }\n  return updated;\n}\n\n// This function expects paths to be the same except for the final value.\n// e.g. ['path', 'to', 'foo'] and ['path', 'to', 'bar']\nexport function copyWithRename(\n  obj: Object | Array<any>,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n  index: number = 0,\n): Object | Array<any> {\n  const oldKey = oldPath[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  if (index + 1 === oldPath.length) {\n    const newKey = newPath[index];\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[newKey] = updated[oldKey];\n    if (isArray(updated)) {\n      updated.splice(((oldKey: any): number), 1);\n    } else {\n      delete updated[oldKey];\n    }\n  } else {\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[oldKey] = copyWithRename(obj[oldKey], oldPath, newPath, index + 1);\n  }\n  return updated;\n}\n\nexport function copyWithSet(\n  obj: Object | Array<any>,\n  path: Array<string | number>,\n  value: any,\n  index: number = 0,\n): Object | Array<any> {\n  if (index >= path.length) {\n    return value;\n  }\n  const key = path[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  // $FlowFixMe[incompatible-use] number or string is fine here\n  updated[key] = copyWithSet(obj[key], path, value, index + 1);\n  return updated;\n}\n\nexport function getEffectDurations(root: Object): {\n  effectDuration: any | null,\n  passiveEffectDuration: any | null,\n} {\n  // Profiling durations are only available for certain builds.\n  // If available, they'll be stored on the HostRoot.\n  let effectDuration = null;\n  let passiveEffectDuration = null;\n  const hostRoot = root.current;\n  if (hostRoot != null) {\n    const stateNode = hostRoot.stateNode;\n    if (stateNode != null) {\n      effectDuration =\n        stateNode.effectDuration != null ? stateNode.effectDuration : null;\n      passiveEffectDuration =\n        stateNode.passiveEffectDuration != null\n          ? stateNode.passiveEffectDuration\n          : null;\n    }\n  }\n  return {effectDuration, passiveEffectDuration};\n}\n\nexport function serializeToString(data: any): string {\n  if (data === undefined) {\n    return 'undefined';\n  }\n\n  if (typeof data === 'function') {\n    return data.toString();\n  }\n\n  const cache = new Set<mixed>();\n  // Use a custom replacer function to protect against circular references.\n  return JSON.stringify(\n    data,\n    (key: string, value: any) => {\n      if (typeof value === 'object' && value !== null) {\n        if (cache.has(value)) {\n          return;\n        }\n        cache.add(value);\n      }\n      if (typeof value === 'bigint') {\n        return value.toString() + 'n';\n      }\n      return value;\n    },\n    2,\n  );\n}\n\nfunction safeToString(val: any): string {\n  try {\n    return String(val);\n  } catch (err) {\n    if (typeof val === 'object') {\n      // An object with no prototype and no `[Symbol.toPrimitive]()`, `toString()`, and `valueOf()` methods would throw.\n      // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String#string_coercion\n      return '[object Object]';\n    }\n    throw err;\n  }\n}\n\n// based on https://github.com/tmpfs/format-util/blob/0e62d430efb0a1c51448709abd3e2406c14d8401/format.js#L1\n// based on https://developer.mozilla.org/en-US/docs/Web/API/console#Using_string_substitutions\n// Implements s, d, i and f placeholders\nexport function formatConsoleArgumentsToSingleString(\n  maybeMessage: any,\n  ...inputArgs: $ReadOnlyArray<any>\n): string {\n  const args = inputArgs.slice();\n\n  let formatted: string = safeToString(maybeMessage);\n\n  // If the first argument is a string, check for substitutions.\n  if (typeof maybeMessage === 'string') {\n    if (args.length) {\n      const REGEXP = /(%?)(%([jds]))/g;\n\n      // $FlowFixMe[incompatible-call]\n      formatted = formatted.replace(REGEXP, (match, escaped, ptn, flag) => {\n        let arg = args.shift();\n        switch (flag) {\n          case 's':\n            // $FlowFixMe[unsafe-addition]\n            arg += '';\n            break;\n          case 'd':\n          case 'i':\n            arg = parseInt(arg, 10).toString();\n            break;\n          case 'f':\n            arg = parseFloat(arg).toString();\n            break;\n        }\n        if (!escaped) {\n          return arg;\n        }\n        args.unshift(arg);\n        return match;\n      });\n    }\n  }\n\n  // Arguments that remain after formatting.\n  if (args.length) {\n    for (let i = 0; i < args.length; i++) {\n      formatted += ' ' + safeToString(args[i]);\n    }\n  }\n\n  // Update escaped %% values.\n  formatted = formatted.replace(/%{2,2}/g, '%');\n\n  return String(formatted);\n}\n\nexport function isSynchronousXHRSupported(): boolean {\n  return !!(\n    window.document &&\n    window.document.featurePolicy &&\n    window.document.featurePolicy.allowsFeature('sync-xhr')\n  );\n}\n\nexport function gt(a: string = '', b: string = ''): boolean {\n  return compareVersions(a, b) === 1;\n}\n\nexport function gte(a: string = '', b: string = ''): boolean {\n  return compareVersions(a, b) > -1;\n}\n\nexport const isReactNativeEnvironment = (): boolean => {\n  // We've been relying on this for such a long time\n  // We should probably define the client for DevTools on the backend side and share it with the frontend\n  return window.document == null;\n};\n\n// 0.123456789 => 0.123\n// Expects high-resolution timestamp in milliseconds, like from performance.now()\n// Mainly used for optimizing the size of serialized profiling payload\nexport function formatDurationToMicrosecondsGranularity(\n  duration: number,\n): number {\n  return Math.round(duration * 1000) / 1000;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport interface Rect {\n  bottom: number;\n  height: number;\n  left: number;\n  right: number;\n  top: number;\n  width: number;\n}\n\n// Get the window object for the document that a node belongs to,\n// or return null if it cannot be found (node not attached to DOM,\n// etc).\nexport function getOwnerWindow(node: HTMLElement): typeof window | null {\n  if (!node.ownerDocument) {\n    return null;\n  }\n  return node.ownerDocument.defaultView;\n}\n\n// Get the iframe containing a node, or return null if it cannot\n// be found (node not within iframe, etc).\nexport function getOwnerIframe(node: HTMLElement): HTMLElement | null {\n  const nodeWindow = getOwnerWindow(node);\n  if (nodeWindow) {\n    return nodeWindow.frameElement;\n  }\n  return null;\n}\n\n// Get a bounding client rect for a node, with an\n// offset added to compensate for its border.\nexport function getBoundingClientRectWithBorderOffset(node: HTMLElement): Rect {\n  const dimensions = getElementDimensions(node);\n  // $FlowFixMe[incompatible-variance]\n  return mergeRectOffsets([\n    node.getBoundingClientRect(),\n    {\n      top: dimensions.borderTop,\n      left: dimensions.borderLeft,\n      bottom: dimensions.borderBottom,\n      right: dimensions.borderRight,\n      // This width and height won't get used by mergeRectOffsets (since this\n      // is not the first rect in the array), but we set them so that this\n      // object type checks as a ClientRect.\n      width: 0,\n      height: 0,\n    },\n  ]);\n}\n\n// Add together the top, left, bottom, and right properties of\n// each ClientRect, but keep the width and height of the first one.\nexport function mergeRectOffsets(rects: Array<Rect>): Rect {\n  return rects.reduce((previousRect, rect) => {\n    if (previousRect == null) {\n      return rect;\n    }\n\n    return {\n      top: previousRect.top + rect.top,\n      left: previousRect.left + rect.left,\n      width: previousRect.width,\n      height: previousRect.height,\n      bottom: previousRect.bottom + rect.bottom,\n      right: previousRect.right + rect.right,\n    };\n  });\n}\n\n// Calculate a boundingClientRect for a node relative to boundaryWindow,\n// taking into account any offsets caused by intermediate iframes.\nexport function getNestedBoundingClientRect(\n  node: HTMLElement,\n  boundaryWindow: typeof window,\n): Rect {\n  const ownerIframe = getOwnerIframe(node);\n  if (ownerIframe && ownerIframe !== boundaryWindow) {\n    const rects: Array<Rect | ClientRect> = [node.getBoundingClientRect()];\n    let currentIframe: null | HTMLElement = ownerIframe;\n    let onlyOneMore = false;\n    while (currentIframe) {\n      const rect = getBoundingClientRectWithBorderOffset(currentIframe);\n      rects.push(rect);\n      currentIframe = getOwnerIframe(currentIframe);\n\n      if (onlyOneMore) {\n        break;\n      }\n      // We don't want to calculate iframe offsets upwards beyond\n      // the iframe containing the boundaryWindow, but we\n      // need to calculate the offset relative to the boundaryWindow.\n      if (currentIframe && getOwnerWindow(currentIframe) === boundaryWindow) {\n        onlyOneMore = true;\n      }\n    }\n\n    // $FlowFixMe[incompatible-variance]\n    return mergeRectOffsets(rects);\n  } else {\n    // $FlowFixMe[incompatible-variance]\n    return node.getBoundingClientRect();\n  }\n}\n\nexport function getElementDimensions(domElement: HTMLElement): {\n  borderBottom: number,\n  borderLeft: number,\n  borderRight: number,\n  borderTop: number,\n  marginBottom: number,\n  marginLeft: number,\n  marginRight: number,\n  marginTop: number,\n  paddingBottom: number,\n  paddingLeft: number,\n  paddingRight: number,\n  paddingTop: number,\n} {\n  const calculatedStyle = window.getComputedStyle(domElement);\n  return {\n    borderLeft: parseInt(calculatedStyle.borderLeftWidth, 10),\n    borderRight: parseInt(calculatedStyle.borderRightWidth, 10),\n    borderTop: parseInt(calculatedStyle.borderTopWidth, 10),\n    borderBottom: parseInt(calculatedStyle.borderBottomWidth, 10),\n    marginLeft: parseInt(calculatedStyle.marginLeft, 10),\n    marginRight: parseInt(calculatedStyle.marginRight, 10),\n    marginTop: parseInt(calculatedStyle.marginTop, 10),\n    marginBottom: parseInt(calculatedStyle.marginBottom, 10),\n    paddingLeft: parseInt(calculatedStyle.paddingLeft, 10),\n    paddingRight: parseInt(calculatedStyle.paddingRight, 10),\n    paddingTop: parseInt(calculatedStyle.paddingTop, 10),\n    paddingBottom: parseInt(calculatedStyle.paddingBottom, 10),\n  };\n}\n\nexport function extractHOCNames(displayName: string): {\n  baseComponentName: string,\n  hocNames: string[],\n} {\n  if (!displayName) return {baseComponentName: '', hocNames: []};\n\n  const hocRegex = /([A-Z][a-zA-Z0-9]*?)\\((.*)\\)/g;\n  const hocNames: string[] = [];\n  let baseComponentName = displayName;\n  let match;\n\n  while ((match = hocRegex.exec(baseComponentName)) != null) {\n    if (Array.isArray(match)) {\n      const [, hocName, inner] = match;\n      hocNames.push(hocName);\n      baseComponentName = inner;\n    }\n  }\n\n  return {\n    baseComponentName,\n    hocNames,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {getElementDimensions, getNestedBoundingClientRect} from '../utils';\n\nimport type {Rect} from '../utils';\nimport type Agent from 'react-devtools-shared/src/backend/agent';\n\ntype Box = {top: number, left: number, width: number, height: number};\n\nconst assign = Object.assign;\n\n// Note that the Overlay components are not affected by the active Theme,\n// because they highlight elements in the main Chrome window (outside of devtools).\n// The colors below were chosen to roughly match those used by Chrome devtools.\n\nclass OverlayRect {\n  node: HTMLElement;\n  border: HTMLElement;\n  padding: HTMLElement;\n  content: HTMLElement;\n\n  constructor(doc: Document, container: HTMLElement) {\n    this.node = doc.createElement('div');\n    this.border = doc.createElement('div');\n    this.padding = doc.createElement('div');\n    this.content = doc.createElement('div');\n\n    this.border.style.borderColor = overlayStyles.border;\n    this.padding.style.borderColor = overlayStyles.padding;\n    this.content.style.backgroundColor = overlayStyles.background;\n\n    assign(this.node.style, {\n      borderColor: overlayStyles.margin,\n      pointerEvents: 'none',\n      position: 'fixed',\n    });\n\n    this.node.style.zIndex = '10000000';\n\n    this.node.appendChild(this.border);\n    this.border.appendChild(this.padding);\n    this.padding.appendChild(this.content);\n    container.appendChild(this.node);\n  }\n\n  remove() {\n    if (this.node.parentNode) {\n      this.node.parentNode.removeChild(this.node);\n    }\n  }\n\n  update(box: Rect, dims: any) {\n    boxWrap(dims, 'margin', this.node);\n    boxWrap(dims, 'border', this.border);\n    boxWrap(dims, 'padding', this.padding);\n\n    assign(this.content.style, {\n      height:\n        box.height -\n        dims.borderTop -\n        dims.borderBottom -\n        dims.paddingTop -\n        dims.paddingBottom +\n        'px',\n      width:\n        box.width -\n        dims.borderLeft -\n        dims.borderRight -\n        dims.paddingLeft -\n        dims.paddingRight +\n        'px',\n    });\n\n    assign(this.node.style, {\n      top: box.top - dims.marginTop + 'px',\n      left: box.left - dims.marginLeft + 'px',\n    });\n  }\n}\n\nclass OverlayTip {\n  tip: HTMLElement;\n  nameSpan: HTMLElement;\n  dimSpan: HTMLElement;\n\n  constructor(doc: Document, container: HTMLElement) {\n    this.tip = doc.createElement('div');\n    assign(this.tip.style, {\n      display: 'flex',\n      flexFlow: 'row nowrap',\n      backgroundColor: '#333740',\n      borderRadius: '2px',\n      fontFamily:\n        '\"SFMono-Regular\", Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n      fontWeight: 'bold',\n      padding: '3px 5px',\n      pointerEvents: 'none',\n      position: 'fixed',\n      fontSize: '12px',\n      whiteSpace: 'nowrap',\n    });\n\n    this.nameSpan = doc.createElement('span');\n    this.tip.appendChild(this.nameSpan);\n    assign(this.nameSpan.style, {\n      color: '#ee78e6',\n      borderRight: '1px solid #aaaaaa',\n      paddingRight: '0.5rem',\n      marginRight: '0.5rem',\n    });\n    this.dimSpan = doc.createElement('span');\n    this.tip.appendChild(this.dimSpan);\n    assign(this.dimSpan.style, {\n      color: '#d7d7d7',\n    });\n\n    this.tip.style.zIndex = '10000000';\n    container.appendChild(this.tip);\n  }\n\n  remove() {\n    if (this.tip.parentNode) {\n      this.tip.parentNode.removeChild(this.tip);\n    }\n  }\n\n  updateText(name: string, width: number, height: number) {\n    this.nameSpan.textContent = name;\n    this.dimSpan.textContent =\n      Math.round(width) + 'px  ' + Math.round(height) + 'px';\n  }\n\n  updatePosition(dims: Box, bounds: Box) {\n    const tipRect = this.tip.getBoundingClientRect();\n    const tipPos = findTipPos(dims, bounds, {\n      width: tipRect.width,\n      height: tipRect.height,\n    });\n    assign(this.tip.style, tipPos.style);\n  }\n}\n\nexport default class Overlay {\n  window: any;\n  tipBoundsWindow: any;\n  container: HTMLElement;\n  tip: OverlayTip;\n  rects: Array<OverlayRect>;\n  agent: Agent;\n\n  constructor(agent: Agent) {\n    // Find the root window, because overlays are positioned relative to it.\n    const currentWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n    this.window = currentWindow;\n\n    // When opened in shells/dev, the tooltip should be bound by the app iframe, not by the topmost window.\n    const tipBoundsWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n    this.tipBoundsWindow = tipBoundsWindow;\n\n    const doc = currentWindow.document;\n    this.container = doc.createElement('div');\n    this.container.style.zIndex = '10000000';\n\n    this.tip = new OverlayTip(doc, this.container);\n    this.rects = [];\n\n    this.agent = agent;\n\n    doc.body.appendChild(this.container);\n  }\n\n  remove() {\n    this.tip.remove();\n    this.rects.forEach(rect => {\n      rect.remove();\n    });\n    this.rects.length = 0;\n    if (this.container.parentNode) {\n      this.container.parentNode.removeChild(this.container);\n    }\n  }\n\n  inspect(nodes: $ReadOnlyArray<HTMLElement | Text>, name?: ?string) {\n    // We can't get the size of text nodes or comment nodes. React as of v15\n    // heavily uses comment nodes to delimit text.\n    // TODO: We actually can measure text nodes. We should.\n    const elements: $ReadOnlyArray<HTMLElement> = (nodes.filter(\n      node => node.nodeType === Node.ELEMENT_NODE,\n    ): any);\n\n    while (this.rects.length > elements.length) {\n      const rect = this.rects.pop();\n      // $FlowFixMe[incompatible-use]\n      rect.remove();\n    }\n    if (elements.length === 0) {\n      return;\n    }\n\n    while (this.rects.length < elements.length) {\n      this.rects.push(new OverlayRect(this.window.document, this.container));\n    }\n\n    const outerBox = {\n      top: Number.POSITIVE_INFINITY,\n      right: Number.NEGATIVE_INFINITY,\n      bottom: Number.NEGATIVE_INFINITY,\n      left: Number.POSITIVE_INFINITY,\n    };\n    elements.forEach((element, index) => {\n      const box = getNestedBoundingClientRect(element, this.window);\n      const dims = getElementDimensions(element);\n\n      outerBox.top = Math.min(outerBox.top, box.top - dims.marginTop);\n      outerBox.right = Math.max(\n        outerBox.right,\n        box.left + box.width + dims.marginRight,\n      );\n      outerBox.bottom = Math.max(\n        outerBox.bottom,\n        box.top + box.height + dims.marginBottom,\n      );\n      outerBox.left = Math.min(outerBox.left, box.left - dims.marginLeft);\n\n      const rect = this.rects[index];\n      rect.update(box, dims);\n    });\n\n    if (!name) {\n      name = elements[0].nodeName.toLowerCase();\n\n      const node = elements[0];\n      const ownerName = this.agent.getComponentNameForHostInstance(node);\n      if (ownerName) {\n        name += ' (in ' + ownerName + ')';\n      }\n    }\n\n    this.tip.updateText(\n      name,\n      outerBox.right - outerBox.left,\n      outerBox.bottom - outerBox.top,\n    );\n    const tipBounds = getNestedBoundingClientRect(\n      this.tipBoundsWindow.document.documentElement,\n      this.window,\n    );\n\n    this.tip.updatePosition(\n      {\n        top: outerBox.top,\n        left: outerBox.left,\n        height: outerBox.bottom - outerBox.top,\n        width: outerBox.right - outerBox.left,\n      },\n      {\n        top: tipBounds.top + this.tipBoundsWindow.scrollY,\n        left: tipBounds.left + this.tipBoundsWindow.scrollX,\n        height: this.tipBoundsWindow.innerHeight,\n        width: this.tipBoundsWindow.innerWidth,\n      },\n    );\n  }\n}\n\nfunction findTipPos(\n  dims: Box,\n  bounds: Box,\n  tipSize: {height: number, width: number},\n) {\n  const tipHeight = Math.max(tipSize.height, 20);\n  const tipWidth = Math.max(tipSize.width, 60);\n  const margin = 5;\n\n  let top: number | string;\n  if (dims.top + dims.height + tipHeight <= bounds.top + bounds.height) {\n    if (dims.top + dims.height < bounds.top + 0) {\n      top = bounds.top + margin;\n    } else {\n      top = dims.top + dims.height + margin;\n    }\n  } else if (dims.top - tipHeight <= bounds.top + bounds.height) {\n    if (dims.top - tipHeight - margin < bounds.top + margin) {\n      top = bounds.top + margin;\n    } else {\n      top = dims.top - tipHeight - margin;\n    }\n  } else {\n    top = bounds.top + bounds.height - tipHeight - margin;\n  }\n\n  let left: number | string = dims.left + margin;\n  if (dims.left < bounds.left) {\n    left = bounds.left + margin;\n  }\n  if (dims.left + tipWidth > bounds.left + bounds.width) {\n    left = bounds.left + bounds.width - tipWidth - margin;\n  }\n\n  top += 'px';\n  left += 'px';\n  return {\n    style: {top, left},\n  };\n}\n\nfunction boxWrap(dims: any, what: string, node: HTMLElement) {\n  assign(node.style, {\n    borderTopWidth: dims[what + 'Top'] + 'px',\n    borderLeftWidth: dims[what + 'Left'] + 'px',\n    borderRightWidth: dims[what + 'Right'] + 'px',\n    borderBottomWidth: dims[what + 'Bottom'] + 'px',\n    borderStyle: 'solid',\n  });\n}\n\nconst overlayStyles = {\n  background: 'rgba(120, 170, 210, 0.7)',\n  padding: 'rgba(77, 200, 0, 0.3)',\n  margin: 'rgba(255, 155, 0, 0.3)',\n  border: 'rgba(255, 200, 50, 0.3)',\n};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type Agent from 'react-devtools-shared/src/backend/agent';\nimport type {HostInstance} from '../../types';\n\nimport {isReactNativeEnvironment} from 'react-devtools-shared/src/backend/utils';\n\nimport Overlay from './Overlay';\n\nconst SHOW_DURATION = 2000;\n\nlet timeoutID: TimeoutID | null = null;\nlet overlay: Overlay | null = null;\n\nfunction hideOverlayNative(agent: Agent): void {\n  agent.emit('hideNativeHighlight');\n}\n\nfunction hideOverlayWeb(): void {\n  timeoutID = null;\n\n  if (overlay !== null) {\n    overlay.remove();\n    overlay = null;\n  }\n}\n\nexport function hideOverlay(agent: Agent): void {\n  return isReactNativeEnvironment()\n    ? hideOverlayNative(agent)\n    : hideOverlayWeb();\n}\n\nfunction showOverlayNative(\n  elements: $ReadOnlyArray<HostInstance>,\n  agent: Agent,\n): void {\n  agent.emit('showNativeHighlight', elements);\n}\n\nfunction showOverlayWeb(\n  elements: $ReadOnlyArray<HTMLElement>,\n  componentName: string | null,\n  agent: Agent,\n  hideAfterTimeout: boolean,\n): void {\n  if (timeoutID !== null) {\n    clearTimeout(timeoutID);\n  }\n\n  if (overlay === null) {\n    overlay = new Overlay(agent);\n  }\n\n  overlay.inspect(elements, componentName);\n\n  if (hideAfterTimeout) {\n    timeoutID = setTimeout(() => hideOverlay(agent), SHOW_DURATION);\n  }\n}\n\nexport function showOverlay(\n  elements: $ReadOnlyArray<HostInstance>,\n  componentName: string | null,\n  agent: Agent,\n  hideAfterTimeout: boolean,\n): void {\n  return isReactNativeEnvironment()\n    ? showOverlayNative(elements, agent)\n    : showOverlayWeb(\n        (elements: $ReadOnlyArray<any>),\n        componentName,\n        agent,\n        hideAfterTimeout,\n      );\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport {hideOverlay, showOverlay} from './Highlighter';\n\nimport type {HostInstance} from 'react-devtools-shared/src/backend/types';\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {RendererInterface} from '../../types';\n\n// This plug-in provides in-page highlighting of the selected element.\n// It is used by the browser extension and the standalone DevTools shell (when connected to a browser).\n// It is not currently the mechanism used to highlight React Native views.\n// That is done by the React Native Inspector component.\n\nlet iframesListeningTo: Set<HTMLIFrameElement> = new Set();\nlet inspectOnlySuspenseNodes = false;\n\nexport default function setupHighlighter(\n  bridge: BackendBridge,\n  agent: Agent,\n): void {\n  bridge.addListener('clearHostInstanceHighlight', clearHostInstanceHighlight);\n  bridge.addListener('highlightHostInstance', highlightHostInstance);\n  bridge.addListener('highlightHostInstances', highlightHostInstances);\n  bridge.addListener('scrollToHostInstance', scrollToHostInstance);\n  bridge.addListener('shutdown', stopInspectingHost);\n  bridge.addListener('startInspectingHost', startInspectingHost);\n  bridge.addListener('stopInspectingHost', stopInspectingHost);\n\n  function startInspectingHost(onlySuspenseNodes: boolean) {\n    inspectOnlySuspenseNodes = onlySuspenseNodes;\n    registerListenersOnWindow(window);\n  }\n\n  function registerListenersOnWindow(window: any) {\n    // This plug-in may run in non-DOM environments (e.g. React Native).\n    if (window && typeof window.addEventListener === 'function') {\n      window.addEventListener('click', onClick, true);\n      window.addEventListener('mousedown', onMouseEvent, true);\n      window.addEventListener('mouseover', onMouseEvent, true);\n      window.addEventListener('mouseup', onMouseEvent, true);\n      window.addEventListener('pointerdown', onPointerDown, true);\n      window.addEventListener('pointermove', onPointerMove, true);\n      window.addEventListener('pointerup', onPointerUp, true);\n    } else {\n      agent.emit('startInspectingNative');\n    }\n  }\n\n  function stopInspectingHost() {\n    hideOverlay(agent);\n    removeListenersOnWindow(window);\n    iframesListeningTo.forEach(function (frame) {\n      try {\n        removeListenersOnWindow(frame.contentWindow);\n      } catch (error) {\n        // This can error when the iframe is on a cross-origin.\n      }\n    });\n    iframesListeningTo = new Set();\n  }\n\n  function removeListenersOnWindow(window: any) {\n    // This plug-in may run in non-DOM environments (e.g. React Native).\n    if (window && typeof window.removeEventListener === 'function') {\n      window.removeEventListener('click', onClick, true);\n      window.removeEventListener('mousedown', onMouseEvent, true);\n      window.removeEventListener('mouseover', onMouseEvent, true);\n      window.removeEventListener('mouseup', onMouseEvent, true);\n      window.removeEventListener('pointerdown', onPointerDown, true);\n      window.removeEventListener('pointermove', onPointerMove, true);\n      window.removeEventListener('pointerup', onPointerUp, true);\n    } else {\n      agent.emit('stopInspectingNative');\n    }\n  }\n\n  function clearHostInstanceHighlight() {\n    hideOverlay(agent);\n  }\n\n  function highlightHostInstance({\n    displayName,\n    hideAfterTimeout,\n    id,\n    openBuiltinElementsPanel,\n    rendererID,\n    scrollIntoView,\n  }: {\n    displayName: string | null,\n    hideAfterTimeout: boolean,\n    id: number,\n    openBuiltinElementsPanel: boolean,\n    rendererID: number,\n    scrollIntoView: boolean,\n    ...\n  }) {\n    const renderer = agent.rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n\n      hideOverlay(agent);\n      return;\n    }\n\n    // In some cases fiber may already be unmounted\n    if (!renderer.hasElementWithId(id)) {\n      hideOverlay(agent);\n      return;\n    }\n\n    const nodes = renderer.findHostInstancesForElementID(id);\n    if (nodes != null) {\n      for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n        if (node === null) {\n          continue;\n        }\n        const nodeRects =\n          // $FlowFixMe[method-unbinding]\n          typeof node.getClientRects === 'function'\n            ? node.getClientRects()\n            : [];\n        // If this is currently display: none, then try another node.\n        // This can happen when one of the host instances is a hoistable.\n        if (\n          nodeRects.length > 0 &&\n          (nodeRects.length > 2 ||\n            nodeRects[0].width > 0 ||\n            nodeRects[0].height > 0)\n        ) {\n          // $FlowFixMe[method-unbinding]\n          if (scrollIntoView && typeof node.scrollIntoView === 'function') {\n            if (scrollDelayTimer) {\n              clearTimeout(scrollDelayTimer);\n              scrollDelayTimer = null;\n            }\n            // If the node isn't visible show it before highlighting it.\n            // We may want to reconsider this; it might be a little disruptive.\n            node.scrollIntoView({block: 'nearest', inline: 'nearest'});\n          }\n\n          showOverlay(nodes, displayName, agent, hideAfterTimeout);\n\n          if (openBuiltinElementsPanel) {\n            window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$0 = node;\n            bridge.send('syncSelectionToBuiltinElementsPanel');\n          }\n          return;\n        }\n      }\n    }\n\n    hideOverlay(agent);\n  }\n\n  function highlightHostInstances({\n    displayName,\n    hideAfterTimeout,\n    elements,\n    scrollIntoView,\n  }: {\n    displayName: string | null,\n    hideAfterTimeout: boolean,\n    elements: Array<{rendererID: number, id: number}>,\n    scrollIntoView: boolean,\n  }) {\n    const nodes: Array<HostInstance> = [];\n    for (let i = 0; i < elements.length; i++) {\n      const {id, rendererID} = elements[i];\n      const renderer = agent.rendererInterfaces[rendererID];\n      if (renderer == null) {\n        console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n        continue;\n      }\n\n      // In some cases fiber may already be unmounted\n      if (!renderer.hasElementWithId(id)) {\n        continue;\n      }\n\n      const hostInstances = renderer.findHostInstancesForElementID(id);\n      if (hostInstances !== null) {\n        for (let j = 0; j < hostInstances.length; j++) {\n          nodes.push(hostInstances[j]);\n        }\n      }\n    }\n\n    if (nodes.length > 0) {\n      const node = nodes[0];\n      // $FlowFixMe[method-unbinding]\n      if (scrollIntoView && typeof node.scrollIntoView === 'function') {\n        // If the node isn't visible show it before highlighting it.\n        // We may want to reconsider this; it might be a little disruptive.\n        node.scrollIntoView({block: 'nearest', inline: 'nearest'});\n      }\n    }\n\n    showOverlay(nodes, displayName, agent, hideAfterTimeout);\n  }\n\n  function attemptScrollToHostInstance(\n    renderer: RendererInterface,\n    id: number,\n  ) {\n    const nodes = renderer.findHostInstancesForElementID(id);\n    if (nodes != null) {\n      for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n        if (node === null) {\n          continue;\n        }\n        const nodeRects =\n          // $FlowFixMe[method-unbinding]\n          typeof node.getClientRects === 'function'\n            ? node.getClientRects()\n            : [];\n        // If this is currently display: none, then try another node.\n        // This can happen when one of the host instances is a hoistable.\n        if (\n          nodeRects.length > 0 &&\n          (nodeRects.length > 2 ||\n            nodeRects[0].width > 0 ||\n            nodeRects[0].height > 0)\n        ) {\n          // $FlowFixMe[method-unbinding]\n          if (typeof node.scrollIntoView === 'function') {\n            node.scrollIntoView({\n              block: 'nearest',\n              inline: 'nearest',\n              behavior: 'smooth',\n            });\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  }\n\n  let scrollDelayTimer = null;\n  function scrollToHostInstance({\n    id,\n    rendererID,\n  }: {\n    id: number,\n    rendererID: number,\n  }) {\n    // Always hide the existing overlay so it doesn't obscure the element.\n    // If you wanted to show the overlay, highlightHostInstance should be used instead\n    // with the scrollIntoView option.\n    hideOverlay(agent);\n\n    if (scrollDelayTimer) {\n      clearTimeout(scrollDelayTimer);\n      scrollDelayTimer = null;\n    }\n\n    const renderer = agent.rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n      return;\n    }\n\n    // In some cases fiber may already be unmounted\n    if (!renderer.hasElementWithId(id)) {\n      return;\n    }\n\n    if (attemptScrollToHostInstance(renderer, id)) {\n      return;\n    }\n\n    // It's possible that the current state of a Suspense boundary doesn't have a position\n    // in the tree. E.g. because it's not yet mounted in the state we're moving to.\n    // Such as if it's in a null tree or inside another boundary's hidden state.\n    // In this case we use the last known position and try to scroll to that.\n    const rects = renderer.findLastKnownRectsForID(id);\n    if (rects !== null && rects.length > 0) {\n      let x = Infinity;\n      let y = Infinity;\n      for (let i = 0; i < rects.length; i++) {\n        const rect = rects[i];\n        if (rect.x < x) {\n          x = rect.x;\n        }\n        if (rect.y < y) {\n          y = rect.y;\n        }\n      }\n      const element = document.documentElement;\n      if (!element) {\n        return;\n      }\n      // Check if the target corner is already in the viewport.\n      if (\n        x < window.scrollX ||\n        y < window.scrollY ||\n        x > window.scrollX + element.clientWidth ||\n        y > window.scrollY + element.clientHeight\n      ) {\n        window.scrollTo({\n          top: y,\n          left: x,\n          behavior: 'smooth',\n        });\n      }\n      // It's possible that after mount, we're able to scroll deeper once the new nodes\n      // have mounted. Let's try again after mount. Ideally we'd know which commit this\n      // is going to be but for now we just try after 100ms.\n      scrollDelayTimer = setTimeout(() => {\n        attemptScrollToHostInstance(renderer, id);\n      }, 100);\n    }\n  }\n\n  function onClick(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    stopInspectingHost();\n\n    bridge.send('stopInspectingHost', true);\n  }\n\n  function onMouseEvent(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  function onPointerDown(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    selectElementForNode(getEventTarget(event));\n  }\n\n  let lastHoveredNode: HTMLElement | null = null;\n  function onPointerMove(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    const target: HTMLElement = getEventTarget(event);\n    if (lastHoveredNode === target) return;\n    lastHoveredNode = target;\n\n    if (target.tagName === 'IFRAME') {\n      const iframe: HTMLIFrameElement = (target: any);\n      try {\n        if (!iframesListeningTo.has(iframe)) {\n          const window = iframe.contentWindow;\n          registerListenersOnWindow(window);\n          iframesListeningTo.add(iframe);\n        }\n      } catch (error) {\n        // This can error when the iframe is on a cross-origin.\n      }\n    }\n\n    if (inspectOnlySuspenseNodes) {\n      // For Suspense nodes we want to highlight not the actual target but the nodes\n      // that are the root of the Suspense node.\n      // TODO: Consider if we should just do the same for other elements because the\n      // hovered node might just be one child of many in the Component.\n      const match = agent.getIDForHostInstance(\n        target,\n        inspectOnlySuspenseNodes,\n      );\n      if (match !== null) {\n        const renderer = agent.rendererInterfaces[match.rendererID];\n        if (renderer == null) {\n          console.warn(\n            `Invalid renderer id \"${match.rendererID}\" for element \"${match.id}\"`,\n          );\n          return;\n        }\n        highlightHostInstance({\n          displayName: renderer.getDisplayNameForElementID(match.id),\n          hideAfterTimeout: false,\n          id: match.id,\n          openBuiltinElementsPanel: false,\n          rendererID: match.rendererID,\n          scrollIntoView: false,\n        });\n      }\n    } else {\n      // Don't pass the name explicitly.\n      // It will be inferred from DOM tag and Fiber owner.\n      showOverlay([target], null, agent, false);\n    }\n  }\n\n  function onPointerUp(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  const selectElementForNode = (node: HTMLElement) => {\n    const match = agent.getIDForHostInstance(node, inspectOnlySuspenseNodes);\n    if (match !== null) {\n      bridge.send('selectElement', match.id);\n    }\n  };\n\n  function getEventTarget(event: MouseEvent): HTMLElement {\n    if (event.composed) {\n      return (event.composedPath()[0]: any);\n    }\n\n    return (event.target: any);\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Data} from './index';\nimport type {Rect} from '../utils';\nimport type {HostInstance} from '../../types';\nimport type Agent from '../../agent';\n\nimport {isReactNativeEnvironment} from 'react-devtools-shared/src/backend/utils';\n\n// Note these colors are in sync with DevTools Profiler chart colors.\nconst COLORS = [\n  '#37afa9',\n  '#63b19e',\n  '#80b393',\n  '#97b488',\n  '#abb67d',\n  '#beb771',\n  '#cfb965',\n  '#dfba57',\n  '#efbb49',\n  '#febc38',\n];\n\nlet canvas: HTMLCanvasElement | null = null;\n\nfunction drawNative(nodeToData: Map<HostInstance, Data>, agent: Agent) {\n  const nodesToDraw = [];\n  iterateNodes(nodeToData, ({color, node}) => {\n    nodesToDraw.push({node, color});\n  });\n\n  agent.emit('drawTraceUpdates', nodesToDraw);\n\n  const mergedNodes = groupAndSortNodes(nodeToData);\n  agent.emit('drawGroupedTraceUpdatesWithNames', mergedNodes);\n}\n\nfunction drawWeb(nodeToData: Map<HostInstance, Data>) {\n  if (canvas === null) {\n    initialize();\n  }\n\n  const dpr = window.devicePixelRatio || 1;\n  const canvasFlow: HTMLCanvasElement = ((canvas: any): HTMLCanvasElement);\n  canvasFlow.width = window.innerWidth * dpr;\n  canvasFlow.height = window.innerHeight * dpr;\n  canvasFlow.style.width = `${window.innerWidth}px`;\n  canvasFlow.style.height = `${window.innerHeight}px`;\n\n  const context = canvasFlow.getContext('2d');\n  context.scale(dpr, dpr);\n\n  context.clearRect(0, 0, canvasFlow.width / dpr, canvasFlow.height / dpr);\n\n  const mergedNodes = groupAndSortNodes(nodeToData);\n\n  mergedNodes.forEach(group => {\n    drawGroupBorders(context, group);\n    drawGroupLabel(context, group);\n  });\n\n  if (canvas !== null) {\n    if (nodeToData.size === 0 && canvas.matches(':popover-open')) {\n      // $FlowFixMe[prop-missing]: Flow doesn't recognize Popover API\n      // $FlowFixMe[incompatible-use]: Flow doesn't recognize Popover API\n      canvas.hidePopover();\n      return;\n    }\n    // $FlowFixMe[incompatible-use]: Flow doesn't recognize Popover API\n    if (canvas.matches(':popover-open')) {\n      // $FlowFixMe[prop-missing]: Flow doesn't recognize Popover API\n      // $FlowFixMe[incompatible-use]: Flow doesn't recognize Popover API\n      canvas.hidePopover();\n    }\n    // $FlowFixMe[prop-missing]: Flow doesn't recognize Popover API\n    // $FlowFixMe[incompatible-use]: Flow doesn't recognize Popover API\n    canvas.showPopover();\n  }\n}\n\ntype GroupItem = {\n  rect: Rect,\n  color: string,\n  displayName: string | null,\n  count: number,\n};\n\nexport type {GroupItem};\n\nexport function groupAndSortNodes(\n  nodeToData: Map<HostInstance, Data>,\n): Array<Array<GroupItem>> {\n  const positionGroups: Map<string, Array<GroupItem>> = new Map();\n\n  iterateNodes(nodeToData, ({rect, color, displayName, count}) => {\n    if (!rect) return;\n    const key = `${rect.left},${rect.top}`;\n    if (!positionGroups.has(key)) positionGroups.set(key, []);\n    positionGroups.get(key)?.push({rect, color, displayName, count});\n  });\n\n  return Array.from(positionGroups.values()).sort((groupA, groupB) => {\n    const maxCountA = Math.max(...groupA.map(item => item.count));\n    const maxCountB = Math.max(...groupB.map(item => item.count));\n    return maxCountA - maxCountB;\n  });\n}\n\nfunction drawGroupBorders(\n  context: CanvasRenderingContext2D,\n  group: Array<GroupItem>,\n) {\n  group.forEach(({color, rect}) => {\n    context.beginPath();\n    context.strokeStyle = color;\n    context.rect(rect.left, rect.top, rect.width - 1, rect.height - 1);\n    context.stroke();\n  });\n}\n\nfunction drawGroupLabel(\n  context: CanvasRenderingContext2D,\n  group: Array<GroupItem>,\n) {\n  const mergedName = group\n    .map(({displayName, count}) =>\n      displayName ? `${displayName}${count > 1 ? ` x${count}` : ''}` : '',\n    )\n    .filter(Boolean)\n    .join(', ');\n\n  if (mergedName) {\n    drawLabel(context, group[0].rect, mergedName, group[0].color);\n  }\n}\n\nexport function draw(nodeToData: Map<HostInstance, Data>, agent: Agent): void {\n  return isReactNativeEnvironment()\n    ? drawNative(nodeToData, agent)\n    : drawWeb(nodeToData);\n}\n\ntype DataWithColorAndNode = {\n  ...Data,\n  color: string,\n  node: HostInstance,\n};\n\nfunction iterateNodes(\n  nodeToData: Map<HostInstance, Data>,\n  execute: (data: DataWithColorAndNode) => void,\n) {\n  nodeToData.forEach((data, node) => {\n    const colorIndex = Math.min(COLORS.length - 1, data.count - 1);\n    const color = COLORS[colorIndex];\n    execute({\n      color,\n      node,\n      count: data.count,\n      displayName: data.displayName,\n      expirationTime: data.expirationTime,\n      lastMeasuredAt: data.lastMeasuredAt,\n      rect: data.rect,\n    });\n  });\n}\n\nfunction drawLabel(\n  context: CanvasRenderingContext2D,\n  rect: Rect,\n  text: string,\n  color: string,\n): void {\n  const {left, top} = rect;\n  context.font = '10px monospace';\n  context.textBaseline = 'middle';\n  context.textAlign = 'center';\n\n  const padding = 2;\n  const textHeight = 14;\n\n  const metrics = context.measureText(text);\n  const backgroundWidth = metrics.width + padding * 2;\n  const backgroundHeight = textHeight;\n  const labelX = left;\n  const labelY = top - backgroundHeight;\n\n  context.fillStyle = color;\n  context.fillRect(labelX, labelY, backgroundWidth, backgroundHeight);\n\n  context.fillStyle = '#000000';\n  context.fillText(\n    text,\n    labelX + backgroundWidth / 2,\n    labelY + backgroundHeight / 2,\n  );\n}\n\nfunction destroyNative(agent: Agent) {\n  agent.emit('disableTraceUpdates');\n}\n\nfunction destroyWeb() {\n  if (canvas !== null) {\n    if (canvas.matches(':popover-open')) {\n      // $FlowFixMe[prop-missing]: Flow doesn't recognize Popover API\n      // $FlowFixMe[incompatible-use]: Flow doesn't recognize Popover API\n      canvas.hidePopover();\n    }\n\n    // $FlowFixMe[incompatible-use]: Flow doesn't recognize Popover API and loses canvas nullability tracking\n    if (canvas.parentNode != null) {\n      // $FlowFixMe[incompatible-call]: Flow doesn't track that canvas is non-null here\n      canvas.parentNode.removeChild(canvas);\n    }\n    canvas = null;\n  }\n}\n\nexport function destroy(agent: Agent): void {\n  return isReactNativeEnvironment() ? destroyNative(agent) : destroyWeb();\n}\n\nfunction initialize(): void {\n  canvas = window.document.createElement('canvas');\n  canvas.setAttribute('popover', 'manual');\n\n  // $FlowFixMe[incompatible-use]: Flow doesn't recognize Popover API\n  canvas.style.cssText = `\n    xx-background-color: red;\n    xx-opacity: 0.5;\n    bottom: 0;\n    left: 0;\n    pointer-events: none;\n    position: fixed;\n    right: 0;\n    top: 0;\n    background-color: transparent;\n    outline: none;\n    box-shadow: none;\n    border: none;\n  `;\n\n  const root = window.document.documentElement;\n  root.insertBefore(canvas, root.firstChild);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport {destroy as destroyCanvas, draw} from './canvas';\nimport {extractHOCNames, getNestedBoundingClientRect} from '../utils';\n\nimport type {HostInstance} from '../../types';\nimport type {Rect} from '../utils';\n\n// How long the rect should be shown for?\nconst DISPLAY_DURATION = 250;\n\n// What's the longest we are willing to show the overlay for?\n// This can be important if we're getting a flurry of events (e.g. scroll update).\nconst MAX_DISPLAY_DURATION = 3000;\n\n// How long should a rect be considered valid for?\nconst REMEASUREMENT_AFTER_DURATION = 250;\n\n// Markers for different types of HOCs\nconst HOC_MARKERS = new Map([\n  ['Forget', ''],\n  ['Memo', ''],\n]);\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  // $FlowFixMe[method-unbinding]\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\nexport type Data = {\n  count: number,\n  expirationTime: number,\n  lastMeasuredAt: number,\n  rect: Rect | null,\n  displayName: string | null,\n};\n\nconst nodeToData: Map<HostInstance, Data> = new Map();\n\nlet agent: Agent = ((null: any): Agent);\nlet drawAnimationFrameID: AnimationFrameID | null = null;\nlet isEnabled: boolean = false;\nlet redrawTimeoutID: TimeoutID | null = null;\n\nexport function initialize(injectedAgent: Agent): void {\n  agent = injectedAgent;\n  agent.addListener('traceUpdates', traceUpdates);\n}\n\nexport function toggleEnabled(value: boolean): void {\n  isEnabled = value;\n\n  if (!isEnabled) {\n    nodeToData.clear();\n\n    if (drawAnimationFrameID !== null) {\n      cancelAnimationFrame(drawAnimationFrameID);\n      drawAnimationFrameID = null;\n    }\n\n    if (redrawTimeoutID !== null) {\n      clearTimeout(redrawTimeoutID);\n      redrawTimeoutID = null;\n    }\n\n    destroyCanvas(agent);\n  }\n}\n\nfunction traceUpdates(nodes: Set<HostInstance>): void {\n  if (!isEnabled) return;\n\n  nodes.forEach(node => {\n    const data = nodeToData.get(node);\n    const now = getCurrentTime();\n\n    let lastMeasuredAt = data != null ? data.lastMeasuredAt : 0;\n    let rect = data != null ? data.rect : null;\n\n    if (rect === null || lastMeasuredAt + REMEASUREMENT_AFTER_DURATION < now) {\n      lastMeasuredAt = now;\n      rect = measureNode(node);\n    }\n\n    let displayName = agent.getComponentNameForHostInstance(node);\n    if (displayName) {\n      const {baseComponentName, hocNames} = extractHOCNames(displayName);\n\n      const markers = hocNames.map(hoc => HOC_MARKERS.get(hoc) || '').join('');\n\n      const enhancedDisplayName = markers\n        ? `${markers}${baseComponentName}`\n        : baseComponentName;\n\n      displayName = enhancedDisplayName;\n    }\n\n    nodeToData.set(node, {\n      count: data != null ? data.count + 1 : 1,\n      expirationTime:\n        data != null\n          ? Math.min(\n              now + MAX_DISPLAY_DURATION,\n              data.expirationTime + DISPLAY_DURATION,\n            )\n          : now + DISPLAY_DURATION,\n      lastMeasuredAt,\n      rect,\n      displayName,\n    });\n  });\n\n  if (redrawTimeoutID !== null) {\n    clearTimeout(redrawTimeoutID);\n    redrawTimeoutID = null;\n  }\n\n  if (drawAnimationFrameID === null) {\n    drawAnimationFrameID = requestAnimationFrame(prepareToDraw);\n  }\n}\n\nfunction prepareToDraw(): void {\n  drawAnimationFrameID = null;\n  redrawTimeoutID = null;\n\n  const now = getCurrentTime();\n  let earliestExpiration = Number.MAX_VALUE;\n\n  // Remove any items that have already expired.\n  nodeToData.forEach((data, node) => {\n    if (data.expirationTime < now) {\n      nodeToData.delete(node);\n    } else {\n      earliestExpiration = Math.min(earliestExpiration, data.expirationTime);\n    }\n  });\n\n  draw(nodeToData, agent);\n\n  if (earliestExpiration !== Number.MAX_VALUE) {\n    redrawTimeoutID = setTimeout(prepareToDraw, earliestExpiration - now);\n  }\n}\n\nfunction measureNode(node: Object): Rect | null {\n  if (!node || typeof node.getBoundingClientRect !== 'function') {\n    return null;\n  }\n\n  const currentWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n\n  return getNestedBoundingClientRect(node, currentWindow);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport EventEmitter from './events';\n\nimport type {ComponentFilter, Wall} from './frontend/types';\nimport type {\n  InspectedElementPayload,\n  OwnersList,\n  ProfilingDataBackend,\n  RendererID,\n  DevToolsHookSettings,\n  ProfilingSettings,\n} from 'react-devtools-shared/src/backend/types';\nimport type {StyleAndLayout as StyleAndLayoutPayload} from 'react-devtools-shared/src/backend/NativeStyleEditor/types';\n\n// This message specifies the version of the DevTools protocol currently supported by the backend,\n// as well as the earliest NPM version (e.g. \"4.13.0\") that protocol is supported by on the frontend.\n// This enables an older frontend to display an upgrade message to users for a newer, unsupported backend.\nexport type BridgeProtocol = {\n  // Version supported by the current frontend/backend.\n  version: number,\n\n  // NPM version range of `react-devtools-inline` that also supports this version.\n  // Note that 'maxNpmVersion' is only set when the version is bumped.\n  minNpmVersion: string,\n  maxNpmVersion: string | null,\n};\n\n// Bump protocol version whenever a backwards breaking change is made\n// in the messages sent between BackendBridge and FrontendBridge.\n// This mapping is embedded in both frontend and backend builds.\n//\n// The backend protocol will always be the latest entry in the BRIDGE_PROTOCOL array.\n//\n// When an older frontend connects to a newer backend,\n// the backend can send the minNpmVersion and the frontend can display an NPM upgrade prompt.\n//\n// When a newer frontend connects with an older protocol version,\n// the frontend can use the embedded minNpmVersion/maxNpmVersion values to display a downgrade prompt.\nexport const BRIDGE_PROTOCOL: Array<BridgeProtocol> = [\n  // This version technically never existed,\n  // but a backwards breaking change was added in 4.11,\n  // so the safest guess to downgrade the frontend would be to version 4.10.\n  {\n    version: 0,\n    minNpmVersion: '\"<4.11.0\"',\n    maxNpmVersion: '\"<4.11.0\"',\n  },\n  // Versions 4.11.x  4.12.x contained the backwards breaking change,\n  // but we didn't add the \"fix\" of checking the protocol version until 4.13,\n  // so we don't recommend downgrading to 4.11 or 4.12.\n  {\n    version: 1,\n    minNpmVersion: '4.13.0',\n    maxNpmVersion: '4.21.0',\n  },\n  // Version 2 adds a StrictMode-enabled and supports-StrictMode bits to add-root operation.\n  {\n    version: 2,\n    minNpmVersion: '4.22.0',\n    maxNpmVersion: null,\n  },\n];\n\nexport const currentBridgeProtocol: BridgeProtocol =\n  BRIDGE_PROTOCOL[BRIDGE_PROTOCOL.length - 1];\n\ntype ElementAndRendererID = {id: number, rendererID: RendererID};\n\ntype Message = {\n  event: string,\n  payload: any,\n};\n\ntype HighlightHostInstance = {\n  ...ElementAndRendererID,\n  displayName: string | null,\n  hideAfterTimeout: boolean,\n  openBuiltinElementsPanel: boolean,\n  scrollIntoView: boolean,\n};\ntype HighlightHostInstances = {\n  elements: Array<ElementAndRendererID>,\n  displayName: string | null,\n  hideAfterTimeout: boolean,\n  scrollIntoView: boolean,\n};\n\ntype ScrollToHostInstance = {\n  ...ElementAndRendererID,\n};\n\ntype OverrideValue = {\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n  wasForwarded?: boolean,\n  value: any,\n};\n\ntype OverrideHookState = {\n  ...OverrideValue,\n  hookID: number,\n};\n\ntype PathType = 'props' | 'hooks' | 'state' | 'context';\n\ntype DeletePath = {\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  path: Array<string | number>,\n};\n\ntype RenamePath = {\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n};\n\ntype OverrideValueAtPath = {\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  path: Array<string | number>,\n  value: any,\n};\n\ntype OverrideError = {\n  ...ElementAndRendererID,\n  forceError: boolean,\n};\n\ntype OverrideSuspense = {\n  ...ElementAndRendererID,\n  forceFallback: boolean,\n};\n\ntype OverrideSuspenseMilestone = {\n  suspendedSet: Array<number>,\n};\n\ntype CopyElementPathParams = {\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n};\n\ntype ViewAttributeSourceParams = {\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n};\n\ntype InspectElementParams = {\n  ...ElementAndRendererID,\n  forceFullData: boolean,\n  path: Array<number | string> | null,\n  requestID: number,\n};\n\ntype InspectScreenParams = {\n  requestID: number,\n  id: number,\n  forceFullData: boolean,\n  path: Array<number | string> | null,\n};\n\ntype StoreAsGlobalParams = {\n  ...ElementAndRendererID,\n  count: number,\n  path: Array<string | number>,\n};\n\ntype NativeStyleEditor_RenameAttributeParams = {\n  ...ElementAndRendererID,\n  oldName: string,\n  newName: string,\n  value: string,\n};\n\ntype NativeStyleEditor_SetValueParams = {\n  ...ElementAndRendererID,\n  name: string,\n  value: string,\n};\n\ntype SavedPreferencesParams = {\n  componentFilters: Array<ComponentFilter>,\n};\n\nexport type BackendEvents = {\n  backendInitialized: [],\n  backendVersion: [string],\n  bridgeProtocol: [BridgeProtocol],\n  enableSuspenseTab: [],\n  extensionBackendInitialized: [],\n  fastRefreshScheduled: [],\n  getSavedPreferences: [],\n  inspectedElement: [InspectedElementPayload],\n  inspectedScreen: [InspectedElementPayload],\n  isReloadAndProfileSupportedByBackend: [boolean],\n  operations: [Array<number>],\n  ownersList: [OwnersList],\n  overrideComponentFilters: [Array<ComponentFilter>],\n  environmentNames: [Array<string>],\n  profilingData: [ProfilingDataBackend],\n  profilingStatus: [boolean],\n  reloadAppForProfiling: [],\n  saveToClipboard: [string],\n  selectElement: [number],\n  shutdown: [],\n  stopInspectingHost: [boolean],\n  syncSelectionToBuiltinElementsPanel: [],\n  unsupportedRendererVersion: [],\n\n  extensionComponentsPanelShown: [],\n  extensionComponentsPanelHidden: [],\n\n  resumeElementPolling: [],\n  pauseElementPolling: [],\n\n  // React Native style editor plug-in.\n  isNativeStyleEditorSupported: [\n    {isSupported: boolean, validAttributes: ?$ReadOnlyArray<string>},\n  ],\n  NativeStyleEditor_styleAndLayout: [StyleAndLayoutPayload],\n\n  hookSettings: [$ReadOnly<DevToolsHookSettings>],\n};\n\ntype StartProfilingParams = ProfilingSettings;\ntype ReloadAndProfilingParams = ProfilingSettings;\n\ntype FrontendEvents = {\n  clearErrorsAndWarnings: [{rendererID: RendererID}],\n  clearErrorsForElementID: [ElementAndRendererID],\n  clearHostInstanceHighlight: [],\n  clearWarningsForElementID: [ElementAndRendererID],\n  copyElementPath: [CopyElementPathParams],\n  deletePath: [DeletePath],\n  getBackendVersion: [],\n  getBridgeProtocol: [],\n  getIfHasUnsupportedRendererVersion: [],\n  getOwnersList: [ElementAndRendererID],\n  getProfilingData: [{rendererID: RendererID}],\n  getProfilingStatus: [],\n  highlightHostInstance: [HighlightHostInstance],\n  highlightHostInstances: [HighlightHostInstances],\n  inspectElement: [InspectElementParams],\n  inspectScreen: [InspectScreenParams],\n  logElementToConsole: [ElementAndRendererID],\n  overrideError: [OverrideError],\n  overrideSuspense: [OverrideSuspense],\n  overrideSuspenseMilestone: [OverrideSuspenseMilestone],\n  overrideValueAtPath: [OverrideValueAtPath],\n  profilingData: [ProfilingDataBackend],\n  reloadAndProfile: [ReloadAndProfilingParams],\n  renamePath: [RenamePath],\n  savedPreferences: [SavedPreferencesParams],\n  setTraceUpdatesEnabled: [boolean],\n  shutdown: [],\n  startInspectingHost: [boolean],\n  startProfiling: [StartProfilingParams],\n  stopInspectingHost: [],\n  scrollToHostInstance: [ScrollToHostInstance],\n  stopProfiling: [],\n  storeAsGlobal: [StoreAsGlobalParams],\n  updateComponentFilters: [Array<ComponentFilter>],\n  getEnvironmentNames: [],\n  updateHookSettings: [$ReadOnly<DevToolsHookSettings>],\n  viewAttributeSource: [ViewAttributeSourceParams],\n  viewElementSource: [ElementAndRendererID],\n\n  syncSelectionFromBuiltinElementsPanel: [],\n\n  // React Native style editor plug-in.\n  NativeStyleEditor_measure: [ElementAndRendererID],\n  NativeStyleEditor_renameAttribute: [NativeStyleEditor_RenameAttributeParams],\n  NativeStyleEditor_setValue: [NativeStyleEditor_SetValueParams],\n\n  // Temporarily support newer standalone front-ends sending commands to older embedded backends.\n  // We do this because React Native embeds the React DevTools backend,\n  // but cannot control which version of the frontend users use.\n  //\n  // Note that nothing in the newer backend actually listens to these events,\n  // but the new frontend still dispatches them (in case older backends are listening to them instead).\n  //\n  // Note that this approach does no support the combination of a newer backend with an older frontend.\n  // It would be more work to support both approaches (and not run handlers twice)\n  // so I chose to support the more likely/common scenario (and the one more difficult for an end user to \"fix\").\n  overrideContext: [OverrideValue],\n  overrideHookState: [OverrideHookState],\n  overrideProps: [OverrideValue],\n  overrideState: [OverrideValue],\n\n  getHookSettings: [],\n};\n\nclass Bridge<\n  OutgoingEvents: Object,\n  IncomingEvents: Object,\n> extends EventEmitter<IncomingEvents> {\n  _isShutdown: boolean = false;\n  _messageQueue: Array<any> = [];\n  _scheduledFlush: boolean = false;\n  _wall: Wall;\n  _wallUnlisten: Function | null = null;\n\n  constructor(wall: Wall) {\n    super();\n\n    this._wall = wall;\n\n    this._wallUnlisten =\n      wall.listen((message: Message) => {\n        if (message && message.event) {\n          (this: any).emit(message.event, message.payload);\n        }\n      }) || null;\n\n    // Temporarily support older standalone front-ends sending commands to newer embedded backends.\n    // We do this because React Native embeds the React DevTools backend,\n    // but cannot control which version of the frontend users use.\n    this.addListener('overrideValueAtPath', this.overrideValueAtPath);\n  }\n\n  // Listening directly to the wall isn't advised.\n  // It can be used to listen for legacy (v3) messages (since they use a different format).\n  get wall(): Wall {\n    return this._wall;\n  }\n\n  send<EventName: $Keys<OutgoingEvents>>(\n    event: EventName,\n    ...payload: OutgoingEvents[EventName]\n  ) {\n    if (this._isShutdown) {\n      console.warn(\n        `Cannot send message \"${event}\" through a Bridge that has been shutdown.`,\n      );\n      return;\n    }\n\n    // When we receive a message:\n    // - we add it to our queue of messages to be sent\n    // - if there hasn't been a message recently, we set a timer for 0 ms in\n    //   the future, allowing all messages created in the same tick to be sent\n    //   together\n    // - if there *has* been a message flushed in the last BATCH_DURATION ms\n    //   (or we're waiting for our setTimeout-0 to fire), then _timeoutID will\n    //   be set, and we'll simply add to the queue and wait for that\n    this._messageQueue.push(event, payload);\n    if (!this._scheduledFlush) {\n      this._scheduledFlush = true;\n      // $FlowFixMe\n      if (typeof devtoolsJestTestScheduler === 'function') {\n        // This exists just for our own jest tests.\n        // They're written in such a way that we can neither mock queueMicrotask\n        // because then we break React DOM and we can't not mock it because then\n        // we can't synchronously flush it. So they need to be rewritten.\n        // $FlowFixMe\n        devtoolsJestTestScheduler(this._flush); // eslint-disable-line no-undef\n      } else {\n        queueMicrotask(this._flush);\n      }\n    }\n  }\n\n  shutdown() {\n    if (this._isShutdown) {\n      console.warn('Bridge was already shutdown.');\n      return;\n    }\n\n    // Queue the shutdown outgoing message for subscribers.\n    this.emit('shutdown');\n    this.send('shutdown');\n\n    // Mark this bridge as destroyed, i.e. disable its public API.\n    this._isShutdown = true;\n\n    // Disable the API inherited from EventEmitter that can add more listeners and send more messages.\n    // $FlowFixMe[cannot-write] This property is not writable.\n    this.addListener = function () {};\n    // $FlowFixMe[cannot-write] This property is not writable.\n    this.emit = function () {};\n    // NOTE: There's also EventEmitter API like `on` and `prependListener` that we didn't add to our Flow type of EventEmitter.\n\n    // Unsubscribe this bridge incoming message listeners to be sure, and so they don't have to do that.\n    this.removeAllListeners();\n\n    // Stop accepting and emitting incoming messages from the wall.\n    const wallUnlisten = this._wallUnlisten;\n    if (wallUnlisten) {\n      wallUnlisten();\n    }\n\n    // Synchronously flush all queued outgoing messages.\n    // At this step the subscribers' code may run in this call stack.\n    do {\n      this._flush();\n    } while (this._messageQueue.length);\n  }\n\n  _flush: () => void = () => {\n    // This method is used after the bridge is marked as destroyed in shutdown sequence,\n    // so we do not bail out if the bridge marked as destroyed.\n    // It is a private method that the bridge ensures is only called at the right times.\n    try {\n      if (this._messageQueue.length) {\n        for (let i = 0; i < this._messageQueue.length; i += 2) {\n          this._wall.send(this._messageQueue[i], ...this._messageQueue[i + 1]);\n        }\n        this._messageQueue.length = 0;\n      }\n    } finally {\n      // We set this at the end in case new messages are added synchronously above.\n      // They're already handled so they shouldn't queue more flushes.\n      this._scheduledFlush = false;\n    }\n  };\n\n  // Temporarily support older standalone backends by forwarding \"overrideValueAtPath\" commands\n  // to the older message types they may be listening to.\n  overrideValueAtPath: OverrideValueAtPath => void = ({\n    id,\n    path,\n    rendererID,\n    type,\n    value,\n  }: OverrideValueAtPath) => {\n    switch (type) {\n      case 'context':\n        this.send('overrideContext', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'hooks':\n        this.send('overrideHookState', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'props':\n        this.send('overrideProps', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'state':\n        this.send('overrideState', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n    }\n  };\n}\n\nexport type BackendBridge = Bridge<BackendEvents, FrontendEvents>;\nexport type FrontendBridge = Bridge<FrontendEvents, BackendEvents>;\n\nexport default Bridge;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport function localStorageGetItem(key: string): any {\n  try {\n    return localStorage.getItem(key);\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function localStorageRemoveItem(key: string): void {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {}\n}\n\nexport function localStorageSetItem(key: string, value: any): void {\n  try {\n    return localStorage.setItem(key, value);\n  } catch (error) {}\n}\n\nexport function sessionStorageGetItem(key: string): any {\n  try {\n    return sessionStorage.getItem(key);\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function sessionStorageRemoveItem(key: string): void {\n  try {\n    sessionStorage.removeItem(key);\n  } catch (error) {}\n}\n\nexport function sessionStorageSetItem(key: string, value: any): void {\n  try {\n    return sessionStorage.setItem(key, value);\n  } catch (error) {}\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport EventEmitter from '../events';\nimport {\n  SESSION_STORAGE_LAST_SELECTION_KEY,\n  UNKNOWN_SUSPENDERS_NONE,\n  __DEBUG__,\n} from '../constants';\nimport setupHighlighter from './views/Highlighter';\nimport {\n  initialize as setupTraceUpdates,\n  toggleEnabled as setTraceUpdatesEnabled,\n} from './views/TraceUpdates';\nimport {currentBridgeProtocol} from 'react-devtools-shared/src/bridge';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {\n  InstanceAndStyle,\n  HostInstance,\n  OwnersList,\n  PathFrame,\n  PathMatch,\n  RendererID,\n  RendererInterface,\n  DevToolsHookSettings,\n  InspectedElement,\n} from './types';\nimport type {\n  ComponentFilter,\n  DehydratedData,\n  ElementType,\n} from 'react-devtools-shared/src/frontend/types';\nimport type {GroupItem} from './views/TraceUpdates/canvas';\nimport {gte, isReactNativeEnvironment} from './utils';\nimport {\n  sessionStorageGetItem,\n  sessionStorageRemoveItem,\n  sessionStorageSetItem,\n} from '../storage';\n\nconst debug = (methodName: string, ...args: Array<string>) => {\n  if (__DEBUG__) {\n    console.log(\n      `%cAgent %c${methodName}`,\n      'color: purple; font-weight: bold;',\n      'font-weight: bold;',\n      ...args,\n    );\n  }\n};\n\ntype ElementAndRendererID = {\n  id: number,\n  rendererID: number,\n};\n\ntype StoreAsGlobalParams = {\n  count: number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n};\n\ntype CopyElementParams = {\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n};\n\ntype InspectElementParams = {\n  forceFullData: boolean,\n  id: number,\n  path: Array<string | number> | null,\n  rendererID: number,\n  requestID: number,\n};\n\ntype InspectScreenParams = {\n  forceFullData: boolean,\n  id: number,\n  path: Array<string | number> | null,\n  requestID: number,\n};\n\ntype OverrideHookParams = {\n  id: number,\n  hookID: number,\n  path: Array<string | number>,\n  rendererID: number,\n  wasForwarded?: boolean,\n  value: any,\n};\n\ntype SetInParams = {\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n  wasForwarded?: boolean,\n  value: any,\n};\n\ntype PathType = 'props' | 'hooks' | 'state' | 'context';\n\ntype DeletePathParams = {\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n};\n\ntype RenamePathParams = {\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n  rendererID: number,\n};\n\ntype OverrideValueAtPathParams = {\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n  value: any,\n};\n\ntype OverrideErrorParams = {\n  id: number,\n  rendererID: number,\n  forceError: boolean,\n};\n\ntype OverrideSuspenseParams = {\n  id: number,\n  rendererID: number,\n  forceFallback: boolean,\n};\n\ntype OverrideSuspenseMilestoneParams = {\n  suspendedSet: Array<number>,\n};\n\ntype PersistedSelection = {\n  rendererID: number,\n  path: Array<PathFrame>,\n};\n\nfunction createEmptyInspectedScreen(\n  arbitraryRootID: number,\n  type: ElementType,\n): InspectedElement {\n  const suspendedBy: DehydratedData = {\n    cleaned: [],\n    data: [],\n    unserializable: [],\n  };\n  return {\n    // invariants\n    id: arbitraryRootID,\n    type: type,\n    // Properties we merge\n    isErrored: false,\n    errors: [],\n    warnings: [],\n    suspendedBy,\n    suspendedByRange: null,\n    // TODO: How to merge these?\n    unknownSuspenders: UNKNOWN_SUSPENDERS_NONE,\n    // Properties where merging doesn't make sense so we ignore them entirely in the UI\n    rootType: null,\n    plugins: {stylex: null},\n    nativeTag: null,\n    env: null,\n    source: null,\n    stack: null,\n    rendererPackageName: null,\n    rendererVersion: null,\n    // These don't make sense for a Root. They're just bottom values.\n    key: null,\n    canEditFunctionProps: false,\n    canEditHooks: false,\n    canEditFunctionPropsDeletePaths: false,\n    canEditFunctionPropsRenamePaths: false,\n    canEditHooksAndDeletePaths: false,\n    canEditHooksAndRenamePaths: false,\n    canToggleError: false,\n    canToggleSuspense: false,\n    isSuspended: false,\n    hasLegacyContext: false,\n    context: null,\n    hooks: null,\n    props: null,\n    state: null,\n    owners: null,\n  };\n}\n\nfunction mergeRoots(\n  left: InspectedElement,\n  right: InspectedElement,\n  suspendedByOffset: number,\n): void {\n  const leftSuspendedByRange = left.suspendedByRange;\n  const rightSuspendedByRange = right.suspendedByRange;\n\n  if (right.isErrored) {\n    left.isErrored = true;\n  }\n  for (let i = 0; i < right.errors.length; i++) {\n    left.errors.push(right.errors[i]);\n  }\n  for (let i = 0; i < right.warnings.length; i++) {\n    left.warnings.push(right.warnings[i]);\n  }\n\n  const leftSuspendedBy: DehydratedData = left.suspendedBy;\n  const {data, cleaned, unserializable} = (right.suspendedBy: DehydratedData);\n  const leftSuspendedByData = ((leftSuspendedBy.data: any): Array<mixed>);\n  const rightSuspendedByData = ((data: any): Array<mixed>);\n  for (let i = 0; i < rightSuspendedByData.length; i++) {\n    leftSuspendedByData.push(rightSuspendedByData[i]);\n  }\n  for (let i = 0; i < cleaned.length; i++) {\n    leftSuspendedBy.cleaned.push(\n      [suspendedByOffset + cleaned[i][0]].concat(cleaned[i].slice(1)),\n    );\n  }\n  for (let i = 0; i < unserializable.length; i++) {\n    leftSuspendedBy.unserializable.push(\n      [suspendedByOffset + unserializable[i][0]].concat(\n        unserializable[i].slice(1),\n      ),\n    );\n  }\n\n  if (rightSuspendedByRange !== null) {\n    if (leftSuspendedByRange === null) {\n      left.suspendedByRange = [\n        rightSuspendedByRange[0],\n        rightSuspendedByRange[1],\n      ];\n    } else {\n      if (rightSuspendedByRange[0] < leftSuspendedByRange[0]) {\n        leftSuspendedByRange[0] = rightSuspendedByRange[0];\n      }\n      if (rightSuspendedByRange[1] > leftSuspendedByRange[1]) {\n        leftSuspendedByRange[1] = rightSuspendedByRange[1];\n      }\n    }\n  }\n}\n\nexport default class Agent extends EventEmitter<{\n  hideNativeHighlight: [],\n  showNativeHighlight: [HostInstance],\n  startInspectingNative: [],\n  stopInspectingNative: [],\n  shutdown: [],\n  traceUpdates: [Set<HostInstance>],\n  drawTraceUpdates: [Array<HostInstance>],\n  drawGroupedTraceUpdatesWithNames: [Array<Array<GroupItem>>],\n  disableTraceUpdates: [],\n  getIfHasUnsupportedRendererVersion: [],\n  updateHookSettings: [$ReadOnly<DevToolsHookSettings>],\n  getHookSettings: [],\n}> {\n  _bridge: BackendBridge;\n  _isProfiling: boolean = false;\n  _rendererInterfaces: {[key: RendererID]: RendererInterface, ...} = {};\n  _persistedSelection: PersistedSelection | null = null;\n  _persistedSelectionMatch: PathMatch | null = null;\n  _traceUpdatesEnabled: boolean = false;\n  _onReloadAndProfile:\n    | ((recordChangeDescriptions: boolean, recordTimeline: boolean) => void)\n    | void;\n\n  constructor(\n    bridge: BackendBridge,\n    isProfiling: boolean = false,\n    onReloadAndProfile?: (\n      recordChangeDescriptions: boolean,\n      recordTimeline: boolean,\n    ) => void,\n  ) {\n    super();\n\n    this._isProfiling = isProfiling;\n    this._onReloadAndProfile = onReloadAndProfile;\n\n    const persistedSelectionString = sessionStorageGetItem(\n      SESSION_STORAGE_LAST_SELECTION_KEY,\n    );\n    if (persistedSelectionString != null) {\n      this._persistedSelection = JSON.parse(persistedSelectionString);\n    }\n\n    this._bridge = bridge;\n\n    bridge.addListener('clearErrorsAndWarnings', this.clearErrorsAndWarnings);\n    bridge.addListener('clearErrorsForElementID', this.clearErrorsForElementID);\n    bridge.addListener(\n      'clearWarningsForElementID',\n      this.clearWarningsForElementID,\n    );\n    bridge.addListener('copyElementPath', this.copyElementPath);\n    bridge.addListener('deletePath', this.deletePath);\n    bridge.addListener('getBackendVersion', this.getBackendVersion);\n    bridge.addListener('getBridgeProtocol', this.getBridgeProtocol);\n    bridge.addListener('getProfilingData', this.getProfilingData);\n    bridge.addListener('getProfilingStatus', this.getProfilingStatus);\n    bridge.addListener('getOwnersList', this.getOwnersList);\n    bridge.addListener('inspectElement', this.inspectElement);\n    bridge.addListener('inspectScreen', this.inspectScreen);\n    bridge.addListener('logElementToConsole', this.logElementToConsole);\n    bridge.addListener('overrideError', this.overrideError);\n    bridge.addListener('overrideSuspense', this.overrideSuspense);\n    bridge.addListener(\n      'overrideSuspenseMilestone',\n      this.overrideSuspenseMilestone,\n    );\n    bridge.addListener('overrideValueAtPath', this.overrideValueAtPath);\n    bridge.addListener('reloadAndProfile', this.reloadAndProfile);\n    bridge.addListener('renamePath', this.renamePath);\n    bridge.addListener('setTraceUpdatesEnabled', this.setTraceUpdatesEnabled);\n    bridge.addListener('startProfiling', this.startProfiling);\n    bridge.addListener('stopProfiling', this.stopProfiling);\n    bridge.addListener('storeAsGlobal', this.storeAsGlobal);\n    bridge.addListener(\n      'syncSelectionFromBuiltinElementsPanel',\n      this.syncSelectionFromBuiltinElementsPanel,\n    );\n    bridge.addListener('shutdown', this.shutdown);\n\n    bridge.addListener('updateHookSettings', this.updateHookSettings);\n    bridge.addListener('getHookSettings', this.getHookSettings);\n\n    bridge.addListener('updateComponentFilters', this.updateComponentFilters);\n    bridge.addListener('getEnvironmentNames', this.getEnvironmentNames);\n    bridge.addListener(\n      'getIfHasUnsupportedRendererVersion',\n      this.getIfHasUnsupportedRendererVersion,\n    );\n\n    // Temporarily support older standalone front-ends sending commands to newer embedded backends.\n    // We do this because React Native embeds the React DevTools backend,\n    // but cannot control which version of the frontend users use.\n    bridge.addListener('overrideContext', this.overrideContext);\n    bridge.addListener('overrideHookState', this.overrideHookState);\n    bridge.addListener('overrideProps', this.overrideProps);\n    bridge.addListener('overrideState', this.overrideState);\n\n    setupHighlighter(bridge, this);\n    setupTraceUpdates(this);\n\n    // By this time, Store should already be initialized and intercept events\n    bridge.send('backendInitialized');\n\n    if (this._isProfiling) {\n      bridge.send('profilingStatus', true);\n    }\n  }\n\n  get rendererInterfaces(): {[key: RendererID]: RendererInterface, ...} {\n    return this._rendererInterfaces;\n  }\n\n  clearErrorsAndWarnings: ({rendererID: RendererID}) => void = ({\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearErrorsAndWarnings();\n    }\n  };\n\n  clearErrorsForElementID: ElementAndRendererID => void = ({\n    id,\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearErrorsForElementID(id);\n    }\n  };\n\n  clearWarningsForElementID: ElementAndRendererID => void = ({\n    id,\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearWarningsForElementID(id);\n    }\n  };\n\n  copyElementPath: CopyElementParams => void = ({\n    id,\n    path,\n    rendererID,\n  }: CopyElementParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      const value = renderer.getSerializedElementValueByPath(id, path);\n\n      if (value != null) {\n        this._bridge.send('saveToClipboard', value);\n      } else {\n        console.warn(`Unable to obtain serialized value for element \"${id}\"`);\n      }\n    }\n  };\n\n  deletePath: DeletePathParams => void = ({\n    hookID,\n    id,\n    path,\n    rendererID,\n    type,\n  }: DeletePathParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.deletePath(type, id, hookID, path);\n    }\n  };\n\n  getInstanceAndStyle({\n    id,\n    rendererID,\n  }: ElementAndRendererID): InstanceAndStyle | null {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n      return null;\n    }\n    return renderer.getInstanceAndStyle(id);\n  }\n\n  getIDForHostInstance(\n    target: HostInstance,\n    onlySuspenseNodes?: boolean,\n  ): null | {id: number, rendererID: number} {\n    if (isReactNativeEnvironment() || typeof target.nodeType !== 'number') {\n      // In React Native or non-DOM we simply pick any renderer that has a match.\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        try {\n          const id = onlySuspenseNodes\n            ? renderer.getSuspenseNodeIDForHostInstance(target)\n            : renderer.getElementIDForHostInstance(target);\n          if (id !== null) {\n            return {\n              id: id,\n              rendererID: +rendererID,\n            };\n          }\n        } catch (error) {\n          // Some old React versions might throw if they can't find a match.\n          // If so we should ignore it...\n        }\n      }\n      return null;\n    } else {\n      // In the DOM we use a smarter mechanism to find the deepest a DOM node\n      // that is registered if there isn't an exact match.\n      let bestMatch: null | Element = null;\n      let bestRenderer: null | RendererInterface = null;\n      let bestRendererID: number = 0;\n      // Find the nearest ancestor which is mounted by a React.\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        const nearestNode: null | Element = renderer.getNearestMountedDOMNode(\n          (target: any),\n        );\n        if (nearestNode !== null) {\n          if (nearestNode === target) {\n            // Exact match we can exit early.\n            bestMatch = nearestNode;\n            bestRenderer = renderer;\n            bestRendererID = +rendererID;\n            break;\n          }\n          if (bestMatch === null || bestMatch.contains(nearestNode)) {\n            // If this is the first match or the previous match contains the new match,\n            // so the new match is a deeper and therefore better match.\n            bestMatch = nearestNode;\n            bestRenderer = renderer;\n            bestRendererID = +rendererID;\n          }\n        }\n      }\n      if (bestRenderer != null && bestMatch != null) {\n        try {\n          const id = onlySuspenseNodes\n            ? bestRenderer.getSuspenseNodeIDForHostInstance(bestMatch)\n            : bestRenderer.getElementIDForHostInstance(bestMatch);\n          if (id !== null) {\n            return {\n              id,\n              rendererID: bestRendererID,\n            };\n          }\n        } catch (error) {\n          // Some old React versions might throw if they can't find a match.\n          // If so we should ignore it...\n        }\n      }\n      return null;\n    }\n  }\n\n  getComponentNameForHostInstance(target: HostInstance): string | null {\n    const match = this.getIDForHostInstance(target);\n    if (match !== null) {\n      const renderer = ((this._rendererInterfaces[\n        (match.rendererID: any)\n      ]: any): RendererInterface);\n      return renderer.getDisplayNameForElementID(match.id);\n    }\n    return null;\n  }\n\n  getBackendVersion: () => void = () => {\n    const version = process.env.DEVTOOLS_VERSION;\n    if (version) {\n      this._bridge.send('backendVersion', version);\n    }\n  };\n\n  getBridgeProtocol: () => void = () => {\n    this._bridge.send('bridgeProtocol', currentBridgeProtocol);\n  };\n\n  getProfilingData: ({rendererID: RendererID}) => void = ({rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    }\n\n    this._bridge.send('profilingData', renderer.getProfilingData());\n  };\n\n  getProfilingStatus: () => void = () => {\n    this._bridge.send('profilingStatus', this._isProfiling);\n  };\n\n  getOwnersList: ElementAndRendererID => void = ({id, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      const owners = renderer.getOwnersList(id);\n      this._bridge.send('ownersList', ({id, owners}: OwnersList));\n    }\n  };\n\n  inspectElement: InspectElementParams => void = ({\n    forceFullData,\n    id,\n    path,\n    rendererID,\n    requestID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      this._bridge.send(\n        'inspectedElement',\n        renderer.inspectElement(requestID, id, path, forceFullData),\n      );\n\n      // When user selects an element, stop trying to restore the selection,\n      // and instead remember the current selection for the next reload.\n      if (\n        this._persistedSelectionMatch === null ||\n        this._persistedSelectionMatch.id !== id\n      ) {\n        this._persistedSelection = null;\n        this._persistedSelectionMatch = null;\n        renderer.setTrackedPath(null);\n        // Throttle persisting the selection.\n        this._lastSelectedElementID = id;\n        this._lastSelectedRendererID = rendererID;\n        if (!this._persistSelectionTimerScheduled) {\n          this._persistSelectionTimerScheduled = true;\n          setTimeout(this._persistSelection, 1000);\n        }\n      }\n\n      // TODO: If there was a way to change the selected DOM element\n      // in built-in Elements tab without forcing a switch to it, we'd do it here.\n      // For now, it doesn't seem like there is a way to do that:\n      // https://github.com/bvaughn/react-devtools-experimental/issues/102\n      // (Setting $0 doesn't work, and calling inspect() switches the tab.)\n    }\n  };\n\n  inspectScreen: InspectScreenParams => void = ({\n    requestID,\n    id,\n    forceFullData,\n    path: screenPath,\n  }) => {\n    let inspectedScreen: InspectedElement | null = null;\n    let found = false;\n    // the suspendedBy index will be from the previously merged roots.\n    // We need to keep track of how many suspendedBy we've already seen to know\n    // to which renderer the index belongs.\n    let suspendedByOffset = 0;\n    let suspendedByPathIndex: number | null = null;\n    // The path to hydrate for a specific renderer\n    let rendererPath: InspectElementParams['path'] = null;\n    if (screenPath !== null && screenPath.length > 1) {\n      const secondaryCategory = screenPath[0];\n      if (secondaryCategory !== 'suspendedBy') {\n        throw new Error(\n          'Only hydrating suspendedBy paths is supported. This is a bug.',\n        );\n      }\n      if (typeof screenPath[1] !== 'number') {\n        throw new Error(\n          `Expected suspendedBy index to be a number. Received '${screenPath[1]}' instead. This is a bug.`,\n        );\n      }\n      suspendedByPathIndex = screenPath[1];\n      rendererPath = screenPath.slice(2);\n    }\n\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      let path: InspectElementParams['path'] = null;\n      if (suspendedByPathIndex !== null && rendererPath !== null) {\n        const suspendedByPathRendererIndex =\n          suspendedByPathIndex - suspendedByOffset;\n        const rendererHasRequestedSuspendedByPath =\n          renderer.getElementAttributeByPath(id, [\n            'suspendedBy',\n            suspendedByPathRendererIndex,\n          ]) !== undefined;\n        if (rendererHasRequestedSuspendedByPath) {\n          path = ['suspendedBy', suspendedByPathRendererIndex].concat(\n            rendererPath,\n          );\n        }\n      }\n\n      const inspectedRootsPayload = renderer.inspectElement(\n        requestID,\n        id,\n        path,\n        forceFullData,\n      );\n      switch (inspectedRootsPayload.type) {\n        case 'hydrated-path':\n          // The path will be relative to the Roots of this renderer. We adjust it\n          // to be relative to all Roots of this implementation.\n          inspectedRootsPayload.path[1] += suspendedByOffset;\n          // TODO: Hydration logic is flawed since the Frontend path is not based\n          // on the original backend data but rather its own representation of it (e.g. due to reorder).\n          // So we can receive null here instead when hydration fails\n          if (inspectedRootsPayload.value !== null) {\n            for (\n              let i = 0;\n              i < inspectedRootsPayload.value.cleaned.length;\n              i++\n            ) {\n              inspectedRootsPayload.value.cleaned[i][1] += suspendedByOffset;\n            }\n          }\n          this._bridge.send('inspectedScreen', inspectedRootsPayload);\n          // If we hydrated a path, it must've been in a specific renderer so we can stop here.\n          return;\n        case 'full-data':\n          const inspectedRoots = inspectedRootsPayload.value;\n          if (inspectedScreen === null) {\n            inspectedScreen = createEmptyInspectedScreen(\n              inspectedRoots.id,\n              inspectedRoots.type,\n            );\n          }\n          mergeRoots(inspectedScreen, inspectedRoots, suspendedByOffset);\n          const dehydratedSuspendedBy: DehydratedData =\n            inspectedRoots.suspendedBy;\n          const suspendedBy = ((dehydratedSuspendedBy.data: any): Array<mixed>);\n          suspendedByOffset += suspendedBy.length;\n          found = true;\n          break;\n        case 'no-change':\n          found = true;\n          const rootsSuspendedBy: Array<mixed> =\n            (renderer.getElementAttributeByPath(id, ['suspendedBy']): any);\n          suspendedByOffset += rootsSuspendedBy.length;\n          break;\n        case 'not-found':\n          break;\n        case 'error':\n          // bail out and show the error\n          // TODO: aggregate errors\n          this._bridge.send('inspectedScreen', inspectedRootsPayload);\n          return;\n      }\n    }\n\n    if (inspectedScreen === null) {\n      if (found) {\n        this._bridge.send('inspectedScreen', {\n          type: 'no-change',\n          responseID: requestID,\n          id,\n        });\n      } else {\n        this._bridge.send('inspectedScreen', {\n          type: 'not-found',\n          responseID: requestID,\n          id,\n        });\n      }\n    } else {\n      this._bridge.send('inspectedScreen', {\n        type: 'full-data',\n        responseID: requestID,\n        id,\n        value: inspectedScreen,\n      });\n    }\n  };\n\n  logElementToConsole: ElementAndRendererID => void = ({id, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.logElementToConsole(id);\n    }\n  };\n\n  overrideError: OverrideErrorParams => void = ({\n    id,\n    rendererID,\n    forceError,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideError(id, forceError);\n    }\n  };\n\n  overrideSuspense: OverrideSuspenseParams => void = ({\n    id,\n    rendererID,\n    forceFallback,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideSuspense(id, forceFallback);\n    }\n  };\n\n  overrideSuspenseMilestone: OverrideSuspenseMilestoneParams => void = ({\n    suspendedSet,\n  }) => {\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      if (renderer.supportsTogglingSuspense) {\n        renderer.overrideSuspenseMilestone(suspendedSet);\n      }\n    }\n  };\n\n  overrideValueAtPath: OverrideValueAtPathParams => void = ({\n    hookID,\n    id,\n    path,\n    rendererID,\n    type,\n    value,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideValueAtPath(type, id, hookID, path, value);\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideContext: SetInParams => void = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'context',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideHookState: OverrideHookParams => void = ({\n    id,\n    hookID,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'hooks',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideProps: SetInParams => void = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'props',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideState: SetInParams => void = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'state',\n        value,\n      });\n    }\n  };\n\n  onReloadAndProfileSupportedByHost: () => void = () => {\n    this._bridge.send('isReloadAndProfileSupportedByBackend', true);\n  };\n\n  reloadAndProfile: ({\n    recordChangeDescriptions: boolean,\n    recordTimeline: boolean,\n  }) => void = ({recordChangeDescriptions, recordTimeline}) => {\n    if (typeof this._onReloadAndProfile === 'function') {\n      this._onReloadAndProfile(recordChangeDescriptions, recordTimeline);\n    }\n\n    // This code path should only be hit if the shell has explicitly told the Store that it supports profiling.\n    // In that case, the shell must also listen for this specific message to know when it needs to reload the app.\n    // The agent can't do this in a way that is renderer agnostic.\n    this._bridge.send('reloadAppForProfiling');\n  };\n\n  renamePath: RenamePathParams => void = ({\n    hookID,\n    id,\n    newPath,\n    oldPath,\n    rendererID,\n    type,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.renamePath(type, id, hookID, oldPath, newPath);\n    }\n  };\n\n  selectNode(target: HostInstance): void {\n    const match = this.getIDForHostInstance(target);\n    if (match !== null) {\n      this._bridge.send('selectElement', match.id);\n    }\n  }\n\n  registerRendererInterface(\n    rendererID: RendererID,\n    rendererInterface: RendererInterface,\n  ) {\n    this._rendererInterfaces[rendererID] = rendererInterface;\n\n    rendererInterface.setTraceUpdatesEnabled(this._traceUpdatesEnabled);\n\n    const renderer = rendererInterface.renderer;\n    if (renderer !== null) {\n      const devRenderer = renderer.bundleType === 1;\n      const enableSuspenseTab =\n        devRenderer && gte(renderer.version, '19.3.0-canary');\n      if (enableSuspenseTab) {\n        this._bridge.send('enableSuspenseTab');\n      }\n    }\n\n    // When the renderer is attached, we need to tell it whether\n    // we remember the previous selection that we'd like to restore.\n    // It'll start tracking mounts for matches to the last selection path.\n    const selection = this._persistedSelection;\n    if (selection !== null && selection.rendererID === rendererID) {\n      rendererInterface.setTrackedPath(selection.path);\n    }\n  }\n\n  setTraceUpdatesEnabled: (traceUpdatesEnabled: boolean) => void =\n    traceUpdatesEnabled => {\n      this._traceUpdatesEnabled = traceUpdatesEnabled;\n\n      setTraceUpdatesEnabled(traceUpdatesEnabled);\n\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        renderer.setTraceUpdatesEnabled(traceUpdatesEnabled);\n      }\n    };\n\n  syncSelectionFromBuiltinElementsPanel: () => void = () => {\n    const target = window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$0;\n    if (target == null) {\n      return;\n    }\n    this.selectNode(target);\n  };\n\n  shutdown: () => void = () => {\n    // Clean up the overlay if visible, and associated events.\n    this.emit('shutdown');\n\n    this._bridge.removeAllListeners();\n    this.removeAllListeners();\n  };\n\n  startProfiling: ({\n    recordChangeDescriptions: boolean,\n    recordTimeline: boolean,\n  }) => void = ({recordChangeDescriptions, recordTimeline}) => {\n    this._isProfiling = true;\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      renderer.startProfiling(recordChangeDescriptions, recordTimeline);\n    }\n    this._bridge.send('profilingStatus', this._isProfiling);\n  };\n\n  stopProfiling: () => void = () => {\n    this._isProfiling = false;\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      renderer.stopProfiling();\n    }\n    this._bridge.send('profilingStatus', this._isProfiling);\n  };\n\n  stopInspectingNative: (selected: boolean) => void = selected => {\n    this._bridge.send('stopInspectingHost', selected);\n  };\n\n  storeAsGlobal: StoreAsGlobalParams => void = ({\n    count,\n    id,\n    path,\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.storeAsGlobal(id, path, count);\n    }\n  };\n\n  updateHookSettings: (settings: $ReadOnly<DevToolsHookSettings>) => void =\n    settings => {\n      // Propagate the settings, so Backend can subscribe to it and modify hook\n      this.emit('updateHookSettings', settings);\n    };\n\n  getHookSettings: () => void = () => {\n    this.emit('getHookSettings');\n  };\n\n  onHookSettings: (settings: $ReadOnly<DevToolsHookSettings>) => void =\n    settings => {\n      this._bridge.send('hookSettings', settings);\n    };\n\n  updateComponentFilters: (componentFilters: Array<ComponentFilter>) => void =\n    componentFilters => {\n      for (const rendererIDString in this._rendererInterfaces) {\n        const rendererID = +rendererIDString;\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        if (this._lastSelectedRendererID === rendererID) {\n          // Changing component filters will unmount and remount the DevTools tree.\n          // Track the last selection's path so we can restore the selection.\n          const path = renderer.getPathForElement(this._lastSelectedElementID);\n          if (path !== null) {\n            renderer.setTrackedPath(path);\n            this._persistedSelection = {\n              rendererID,\n              path,\n            };\n          }\n        }\n        renderer.updateComponentFilters(componentFilters);\n      }\n    };\n\n  getEnvironmentNames: () => void = () => {\n    let accumulatedNames = null;\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = this._rendererInterfaces[+rendererID];\n      const names = renderer.getEnvironmentNames();\n      if (accumulatedNames === null) {\n        accumulatedNames = names;\n      } else {\n        for (let i = 0; i < names.length; i++) {\n          if (accumulatedNames.indexOf(names[i]) === -1) {\n            accumulatedNames.push(names[i]);\n          }\n        }\n      }\n    }\n    this._bridge.send('environmentNames', accumulatedNames || []);\n  };\n\n  onTraceUpdates: (nodes: Set<HostInstance>) => void = nodes => {\n    this.emit('traceUpdates', nodes);\n  };\n\n  onFastRefreshScheduled: () => void = () => {\n    if (__DEBUG__) {\n      debug('onFastRefreshScheduled');\n    }\n\n    this._bridge.send('fastRefreshScheduled');\n  };\n\n  onHookOperations: (operations: Array<number>) => void = operations => {\n    if (__DEBUG__) {\n      debug(\n        'onHookOperations',\n        `(${operations.length}) [${operations.join(', ')}]`,\n      );\n    }\n\n    // TODO:\n    // The chrome.runtime does not currently support transferables; it forces JSON serialization.\n    // See bug https://bugs.chromium.org/p/chromium/issues/detail?id=927134\n    //\n    // Regarding transferables, the postMessage doc states:\n    // If the ownership of an object is transferred, it becomes unusable (neutered)\n    // in the context it was sent from and becomes available only to the worker it was sent to.\n    //\n    // Even though Chrome is eventually JSON serializing the array buffer,\n    // using the transferable approach also sometimes causes it to throw:\n    //   DOMException: Failed to execute 'postMessage' on 'Window': ArrayBuffer at index 0 is already neutered.\n    //\n    // See bug https://github.com/bvaughn/react-devtools-experimental/issues/25\n    //\n    // The Store has a fallback in place that parses the message as JSON if the type isn't an array.\n    // For now the simplest fix seems to be to not transfer the array.\n    // This will negatively impact performance on Firefox so it's unfortunate,\n    // but until we're able to fix the Chrome error mentioned above, it seems necessary.\n    //\n    // this._bridge.send('operations', operations, [operations.buffer]);\n    this._bridge.send('operations', operations);\n\n    if (this._persistedSelection !== null) {\n      const rendererID = operations[0];\n      if (this._persistedSelection.rendererID === rendererID) {\n        // Check if we can select a deeper match for the persisted selection.\n        const renderer = this._rendererInterfaces[rendererID];\n        if (renderer == null) {\n          console.warn(`Invalid renderer id \"${rendererID}\"`);\n        } else {\n          const prevMatch = this._persistedSelectionMatch;\n          const nextMatch = renderer.getBestMatchForTrackedPath();\n          this._persistedSelectionMatch = nextMatch;\n          const prevMatchID = prevMatch !== null ? prevMatch.id : null;\n          const nextMatchID = nextMatch !== null ? nextMatch.id : null;\n          if (prevMatchID !== nextMatchID) {\n            if (nextMatchID !== null) {\n              // We moved forward, unlocking a deeper node.\n              this._bridge.send('selectElement', nextMatchID);\n            }\n          }\n          if (nextMatch !== null && nextMatch.isFullMatch) {\n            // We've just unlocked the innermost selected node.\n            // There's no point tracking it further.\n            this._persistedSelection = null;\n            this._persistedSelectionMatch = null;\n            renderer.setTrackedPath(null);\n          }\n        }\n      }\n    }\n  };\n\n  getIfHasUnsupportedRendererVersion: () => void = () => {\n    this.emit('getIfHasUnsupportedRendererVersion');\n  };\n\n  onUnsupportedRenderer() {\n    this._bridge.send('unsupportedRendererVersion');\n  }\n\n  _persistSelectionTimerScheduled: boolean = false;\n  _lastSelectedRendererID: number = -1;\n  _lastSelectedElementID: number = -1;\n  _persistSelection: any = () => {\n    this._persistSelectionTimerScheduled = false;\n    const rendererID = this._lastSelectedRendererID;\n    const id = this._lastSelectedElementID;\n    // This is throttled, so both renderer and selected ID\n    // might not be available by the time we read them.\n    // This is why we need the defensive checks here.\n    const renderer = this._rendererInterfaces[rendererID];\n    const path = renderer != null ? renderer.getPathForElement(id) : null;\n    if (path !== null) {\n      sessionStorageSetItem(\n        SESSION_STORAGE_LAST_SELECTION_KEY,\n        JSON.stringify(({rendererID, path}: PersistedSelection)),\n      );\n    } else {\n      sessionStorageRemoveItem(SESSION_STORAGE_LAST_SELECTION_KEY);\n    }\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of shared/ConsolePatchingDev.\n// The shared console patching code is DEV-only.\n// We can't use it since DevTools only ships production builds.\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\n\nlet disabledDepth = 0;\nlet prevLog;\nlet prevInfo;\nlet prevWarn;\nlet prevError;\nlet prevGroup;\nlet prevGroupCollapsed;\nlet prevGroupEnd;\n\nfunction disabledLog() {}\ndisabledLog.__reactDisabledLog = true;\n\nexport function disableLogs(): void {\n  if (disabledDepth === 0) {\n    prevLog = console.log;\n    prevInfo = console.info;\n    prevWarn = console.warn;\n    prevError = console.error;\n    prevGroup = console.group;\n    prevGroupCollapsed = console.groupCollapsed;\n    prevGroupEnd = console.groupEnd;\n    // https://github.com/facebook/react/issues/19099\n    const props = {\n      configurable: true,\n      enumerable: true,\n      value: disabledLog,\n      writable: true,\n    };\n    // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n    Object.defineProperties(console, {\n      info: props,\n      log: props,\n      warn: props,\n      error: props,\n      group: props,\n      groupCollapsed: props,\n      groupEnd: props,\n    });\n    /* eslint-enable react-internal/no-production-logging */\n  }\n  disabledDepth++;\n}\n\nexport function reenableLogs(): void {\n  disabledDepth--;\n  if (disabledDepth === 0) {\n    const props = {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n    };\n    // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n    Object.defineProperties(console, {\n      log: {...props, value: prevLog},\n      info: {...props, value: prevInfo},\n      warn: {...props, value: prevWarn},\n      error: {...props, value: prevError},\n      group: {...props, value: prevGroup},\n      groupCollapsed: {...props, value: prevGroupCollapsed},\n      groupEnd: {...props, value: prevGroupEnd},\n    });\n    /* eslint-enable react-internal/no-production-logging */\n  }\n  if (disabledDepth < 0) {\n    console.error(\n      'disabledDepth fell below zero. ' +\n        'This is a bug in React. Please file an issue.',\n    );\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of ReactComponentStackFrame.\n// This fork enables DevTools to use the same \"native\" component stack format,\n// while still maintaining support for multiple renderer versions\n// (which use different values for ReactTypeOfWork).\n\nimport type {CurrentDispatcherRef} from '../types';\n\n// The shared console patching code is DEV-only.\n// We can't use it since DevTools only ships production builds.\nimport {disableLogs, reenableLogs} from './DevToolsConsolePatching';\n\nlet prefix;\nexport function describeBuiltInComponentFrame(name: string): string {\n  if (prefix === undefined) {\n    // Extract the VM specific prefix used by each line.\n    try {\n      throw Error();\n    } catch (x) {\n      const match = x.stack.trim().match(/\\n( *(at )?)/);\n      prefix = (match && match[1]) || '';\n    }\n  }\n  let suffix = '';\n  if (__IS_CHROME__ || __IS_EDGE__ || __IS_NATIVE__) {\n    suffix = ' (<anonymous>)';\n  } else if (__IS_FIREFOX__) {\n    suffix = '@unknown:0:0';\n  }\n  // We use the prefix to ensure our stacks line up with native stack frames.\n  // We use a suffix to ensure it gets parsed natively.\n  return '\\n' + prefix + name + suffix;\n}\n\nexport function describeDebugInfoFrame(name: string, env: ?string): string {\n  return describeBuiltInComponentFrame(name + (env ? ' [' + env + ']' : ''));\n}\n\nlet reentry = false;\nlet componentFrameCache;\nif (__DEV__) {\n  const PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap<$FlowFixMe, string>();\n}\n\nexport function describeNativeComponentFrame(\n  fn: Function,\n  construct: boolean,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if (!fn || reentry) {\n    return '';\n  }\n\n  if (__DEV__) {\n    const frame = componentFrameCache.get(fn);\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  const previousPrepareStackTrace = Error.prepareStackTrace;\n  // $FlowFixMe[incompatible-type] It does accept undefined.\n  Error.prepareStackTrace = undefined;\n\n  reentry = true;\n\n  // Override the dispatcher so effects scheduled by this shallow render are thrown away.\n  //\n  // Note that unlike the code this was forked from (in ReactComponentStackFrame)\n  // DevTools should override the dispatcher even when DevTools is compiled in production mode,\n  // because the app itself may be in development mode and log errors/warnings.\n  const previousDispatcher = currentDispatcherRef.H;\n  currentDispatcherRef.H = null;\n  disableLogs();\n  try {\n    // NOTE: keep in sync with the implementation in ReactComponentStackFrame\n\n    /**\n     * Finding a common stack frame between sample and control errors can be\n     * tricky given the different types and levels of stack trace truncation from\n     * different JS VMs. So instead we'll attempt to control what that common\n     * frame should be through this object method:\n     * Having both the sample and control errors be in the function under the\n     * `DescribeNativeComponentFrameRoot` property, + setting the `name` and\n     * `displayName` properties of the function ensures that a stack\n     * frame exists that has the method name `DescribeNativeComponentFrameRoot` in\n     * it for both control and sample stacks.\n     */\n    const RunInRootFrame = {\n      DetermineComponentFrameRoot(): [?string, ?string] {\n        let control;\n        try {\n          // This should throw.\n          if (construct) {\n            // Something should be setting the props in the constructor.\n            const Fake = function () {\n              throw Error();\n            };\n            // $FlowFixMe[prop-missing]\n            Object.defineProperty(Fake.prototype, 'props', {\n              set: function () {\n                // We use a throwing setter instead of frozen or non-writable props\n                // because that won't throw in a non-strict mode function.\n                throw Error();\n              },\n            });\n            if (typeof Reflect === 'object' && Reflect.construct) {\n              // We construct a different control for this case to include any extra\n              // frames added by the construct call.\n              try {\n                Reflect.construct(Fake, []);\n              } catch (x) {\n                control = x;\n              }\n              Reflect.construct(fn, [], Fake);\n            } else {\n              try {\n                Fake.call();\n              } catch (x) {\n                control = x;\n              }\n              // $FlowFixMe[prop-missing] found when upgrading Flow\n              fn.call(Fake.prototype);\n            }\n          } else {\n            try {\n              throw Error();\n            } catch (x) {\n              control = x;\n            }\n            // TODO(luna): This will currently only throw if the function component\n            // tries to access React/ReactDOM/props. We should probably make this throw\n            // in simple components too\n            const maybePromise = fn();\n\n            // If the function component returns a promise, it's likely an async\n            // component, which we don't yet support. Attach a noop catch handler to\n            // silence the error.\n            // TODO: Implement component stacks for async client components?\n            if (maybePromise && typeof maybePromise.catch === 'function') {\n              maybePromise.catch(() => {});\n            }\n          }\n        } catch (sample) {\n          // This is inlined manually because closure doesn't do it for us.\n          if (sample && control && typeof sample.stack === 'string') {\n            return [sample.stack, control.stack];\n          }\n        }\n        return [null, null];\n      },\n    };\n    // $FlowFixMe[prop-missing]\n    RunInRootFrame.DetermineComponentFrameRoot.displayName =\n      'DetermineComponentFrameRoot';\n    const namePropDescriptor = Object.getOwnPropertyDescriptor(\n      RunInRootFrame.DetermineComponentFrameRoot,\n      'name',\n    );\n    // Before ES6, the `name` property was not configurable.\n    if (namePropDescriptor && namePropDescriptor.configurable) {\n      // V8 utilizes a function's `name` property when generating a stack trace.\n      Object.defineProperty(\n        RunInRootFrame.DetermineComponentFrameRoot,\n        // Configurable properties can be updated even if its writable descriptor\n        // is set to `false`.\n        // $FlowFixMe[cannot-write]\n        'name',\n        {value: 'DetermineComponentFrameRoot'},\n      );\n    }\n\n    const [sampleStack, controlStack] =\n      RunInRootFrame.DetermineComponentFrameRoot();\n    if (sampleStack && controlStack) {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      const sampleLines = sampleStack.split('\\n');\n      const controlLines = controlStack.split('\\n');\n      let s = 0;\n      let c = 0;\n      while (\n        s < sampleLines.length &&\n        !sampleLines[s].includes('DetermineComponentFrameRoot')\n      ) {\n        s++;\n      }\n      while (\n        c < controlLines.length &&\n        !controlLines[c].includes('DetermineComponentFrameRoot')\n      ) {\n        c++;\n      }\n      // We couldn't find our intentionally injected common root frame, attempt\n      // to find another common root frame by search from the bottom of the\n      // control stack...\n      if (s === sampleLines.length || c === controlLines.length) {\n        s = sampleLines.length - 1;\n        c = controlLines.length - 1;\n        while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n          // We expect at least one stack frame to be shared.\n          // Typically this will be the root most one. However, stack frames may be\n          // cut off due to maximum stack limits. In this case, one maybe cut off\n          // earlier than the other. We assume that the sample is longer or the same\n          // and there for cut off earlier. So we should find the root most frame in\n          // the sample somewhere in the control.\n          c--;\n        }\n      }\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--;\n              // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                let frame = '\\n' + sampleLines[s].replace(' at new ', ' at ');\n\n                // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n                if (fn.displayName && frame.includes('<anonymous>')) {\n                  frame = frame.replace('<anonymous>', fn.displayName);\n                }\n\n                if (__DEV__) {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, frame);\n                  }\n                }\n                // Return the line we found.\n                return frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n\n    currentDispatcherRef.H = previousDispatcher;\n    reenableLogs();\n  }\n  // Fallback to just using the name if we couldn't make it throw.\n  const name = fn ? fn.displayName || fn.name : '';\n  const syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n  if (__DEV__) {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n  return syntheticFrame;\n}\n\nexport function describeClassComponentFrame(\n  ctor: Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  return describeNativeComponentFrame(ctor, true, currentDispatcherRef);\n}\n\nexport function describeFunctionComponentFrame(\n  fn: Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  return describeNativeComponentFrame(fn, false, currentDispatcherRef);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of shared/ReactOwnerStackFrames.\n\nexport function formatOwnerStack(error: Error): string {\n  const prevPrepareStackTrace = Error.prepareStackTrace;\n  // $FlowFixMe[incompatible-type] It does accept undefined.\n  Error.prepareStackTrace = undefined;\n  let stack = error.stack;\n  Error.prepareStackTrace = prevPrepareStackTrace;\n\n  if (stack.startsWith('Error: react-stack-top-frame\\n')) {\n    // V8's default formatting prefixes with the error message which we\n    // don't want/need.\n    stack = stack.slice(29);\n  }\n  let idx = stack.indexOf('\\n');\n  if (idx !== -1) {\n    // Pop the JSX frame.\n    stack = stack.slice(idx + 1);\n  }\n  idx = stack.indexOf('react_stack_bottom_frame');\n  if (idx === -1) {\n    idx = stack.indexOf('react-stack-bottom-frame');\n  }\n  if (idx !== -1) {\n    idx = stack.lastIndexOf('\\n', idx);\n  }\n  if (idx !== -1) {\n    // Cut off everything after the bottom frame since it'll be internals.\n    stack = stack.slice(0, idx);\n  } else {\n    // We didn't find any internal callsite out to user space.\n    // This means that this was called outside an owner or the owner is fully internal.\n    // To keep things light we exclude the entire trace in this case.\n    return '';\n  }\n  return stack;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of ReactComponentInfoStack.\n// This fork enables DevTools to use the same \"native\" component stack format,\n// while still maintaining support for multiple renderer versions\n// (which use different values for ReactTypeOfWork).\n\nimport type {ReactComponentInfo} from 'shared/ReactTypes';\n\nimport {describeBuiltInComponentFrame} from '../shared/DevToolsComponentStackFrame';\n\nimport {formatOwnerStack} from '../shared/DevToolsOwnerStack';\n\nexport function getOwnerStackByComponentInfoInDev(\n  componentInfo: ReactComponentInfo,\n): string {\n  try {\n    let info = '';\n\n    // The owner stack of the current component will be where it was created, i.e. inside its owner.\n    // There's no actual name of the currently executing component. Instead, that is available\n    // on the regular stack that's currently executing. However, if there is no owner at all, then\n    // there's no stack frame so we add the name of the root component to the stack to know which\n    // component is currently executing.\n    if (!componentInfo.owner && typeof componentInfo.name === 'string') {\n      return describeBuiltInComponentFrame(componentInfo.name);\n    }\n\n    let owner: void | null | ReactComponentInfo = componentInfo;\n\n    while (owner) {\n      const ownerStack: ?Error = owner.debugStack;\n      if (ownerStack != null) {\n        // Server Component\n        owner = owner.owner;\n        if (owner) {\n          // TODO: Should we stash this somewhere for caching purposes?\n          info += '\\n' + formatOwnerStack(ownerStack);\n        }\n      } else {\n        break;\n      }\n    }\n    return info;\n  } catch (x) {\n    return '\\nError generating stack: ' + x.message + '\\n' + x.stack;\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This keeps track of Server Component logs which may come from.\n// This is in a shared module because Server Component logs don't come from a specific renderer\n// but can become associated with a Virtual Instance of any renderer.\n\nimport type {ReactComponentInfo} from 'shared/ReactTypes';\n\ntype ComponentLogs = {\n  errors: Map<string, number>,\n  errorsCount: number,\n  warnings: Map<string, number>,\n  warningsCount: number,\n};\n\n// This keeps it around as long as the ComponentInfo is alive which\n// lets the Fiber get reparented/remounted and still observe the previous errors/warnings.\n// Unless we explicitly clear the logs from a Fiber.\nexport const componentInfoToComponentLogsMap: WeakMap<\n  ReactComponentInfo,\n  ComponentLogs,\n> = new WeakMap();\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {ReactComponentInfo} from 'shared/ReactTypes';\n\nimport type {DevToolsHook, ReactRenderer, RendererInterface} from '../types';\n\nimport {getOwnerStackByComponentInfoInDev} from './DevToolsComponentInfoStack';\n\nimport {formatOwnerStack} from '../shared/DevToolsOwnerStack';\n\nimport {componentInfoToComponentLogsMap} from '../shared/DevToolsServerComponentLogs';\n\nimport {formatConsoleArgumentsToSingleString} from 'react-devtools-shared/src/backend/utils';\n\nfunction supportsConsoleTasks(componentInfo: ReactComponentInfo): boolean {\n  // If this ReactComponentInfo supports native console.createTask then we are already running\n  // inside a native async stack trace if it's active - meaning the DevTools is open.\n  // Ideally we'd detect if this task was created while the DevTools was open or not.\n  return !!componentInfo.debugTask;\n}\n\nexport function attach(\n  hook: DevToolsHook,\n  rendererID: number,\n  renderer: ReactRenderer,\n  global: Object,\n): RendererInterface {\n  const {getCurrentComponentInfo} = renderer;\n\n  function getComponentStack(\n    topFrame: Error,\n  ): null | {enableOwnerStacks: boolean, componentStack: string} {\n    if (getCurrentComponentInfo === undefined) {\n      // Expected this to be part of the renderer. Ignore.\n      return null;\n    }\n    const current = getCurrentComponentInfo();\n    if (current === null) {\n      // Outside of our render scope.\n      return null;\n    }\n\n    if (supportsConsoleTasks(current)) {\n      // This will be handled natively by console.createTask. No need for\n      // DevTools to add it.\n      return null;\n    }\n\n    const enableOwnerStacks = current.debugStack != null;\n    let componentStack = '';\n    if (enableOwnerStacks) {\n      // Prefix the owner stack with the current stack. I.e. what called\n      // console.error. While this will also be part of the native stack,\n      // it is hidden and not presented alongside this argument so we print\n      // them all together.\n      const topStackFrames = formatOwnerStack(topFrame);\n      if (topStackFrames) {\n        componentStack += '\\n' + topStackFrames;\n      }\n      componentStack += getOwnerStackByComponentInfoInDev(current);\n    }\n    return {enableOwnerStacks, componentStack};\n  }\n\n  // Called when an error or warning is logged during render, commit, or passive (including unmount functions).\n  function onErrorOrWarning(\n    type: 'error' | 'warn',\n    args: $ReadOnlyArray<any>,\n  ): void {\n    if (getCurrentComponentInfo === undefined) {\n      // Expected this to be part of the renderer. Ignore.\n      return;\n    }\n    const componentInfo = getCurrentComponentInfo();\n    if (componentInfo === null) {\n      // Outside of our render scope.\n      return;\n    }\n\n    if (\n      args.length > 3 &&\n      typeof args[0] === 'string' &&\n      args[0].startsWith('%c%s%c ') &&\n      typeof args[1] === 'string' &&\n      typeof args[2] === 'string' &&\n      typeof args[3] === 'string'\n    ) {\n      // This looks like the badge we prefixed to the log. Our UI doesn't support formatted logs.\n      // We remove the formatting. If the environment of the log is the same as the environment of\n      // the component (the common case) we remove the badge completely otherwise leave it plain\n      const format = args[0].slice(7);\n      const env = args[2].trim();\n      args = args.slice(4);\n      if (env !== componentInfo.env) {\n        args.unshift('[' + env + '] ' + format);\n      } else {\n        args.unshift(format);\n      }\n    }\n\n    // We can't really use this message as a unique key, since we can't distinguish\n    // different objects in this implementation. We have to delegate displaying of the objects\n    // to the environment, the browser console, for example, so this is why this should be kept\n    // as an array of arguments, instead of the plain string.\n    // [Warning: %o, {...}] and [Warning: %o, {...}] will be considered as the same message,\n    // even if objects are different\n    const message = formatConsoleArgumentsToSingleString(...args);\n\n    // Track the warning/error for later.\n    let componentLogsEntry = componentInfoToComponentLogsMap.get(componentInfo);\n    if (componentLogsEntry === undefined) {\n      componentLogsEntry = {\n        errors: new Map(),\n        errorsCount: 0 as number,\n        warnings: new Map(),\n        warningsCount: 0 as number,\n      };\n      componentInfoToComponentLogsMap.set(componentInfo, componentLogsEntry);\n    }\n\n    const messageMap =\n      type === 'error'\n        ? componentLogsEntry.errors\n        : componentLogsEntry.warnings;\n    const count = messageMap.get(message) || 0;\n    messageMap.set(message, count + 1);\n    if (type === 'error') {\n      componentLogsEntry.errorsCount++;\n    } else {\n      componentLogsEntry.warningsCount++;\n    }\n\n    // The changes will be flushed later when we commit this tree to Fiber.\n  }\n\n  const supportsTogglingSuspense = false;\n\n  return {\n    cleanup() {},\n    clearErrorsAndWarnings() {},\n    clearErrorsForElementID() {},\n    clearWarningsForElementID() {},\n    getSerializedElementValueByPath() {},\n    deletePath() {},\n    findHostInstancesForElementID() {\n      return null;\n    },\n    findLastKnownRectsForID() {\n      return null;\n    },\n    flushInitialOperations() {},\n    getBestMatchForTrackedPath() {\n      return null;\n    },\n    getComponentStack,\n    getDisplayNameForElementID() {\n      return null;\n    },\n    getNearestMountedDOMNode() {\n      return null;\n    },\n    getElementIDForHostInstance() {\n      return null;\n    },\n    getSuspenseNodeIDForHostInstance() {\n      return null;\n    },\n    getInstanceAndStyle() {\n      return {\n        instance: null,\n        style: null,\n      };\n    },\n    getOwnersList() {\n      return null;\n    },\n    getPathForElement() {\n      return null;\n    },\n    getProfilingData() {\n      throw new Error('getProfilingData not supported by this renderer');\n    },\n    handleCommitFiberRoot() {},\n    handleCommitFiberUnmount() {},\n    handlePostCommitFiberRoot() {},\n    hasElementWithId() {\n      return false;\n    },\n    inspectElement(\n      requestID: number,\n      id: number,\n      path: Array<string | number> | null,\n    ) {\n      return {\n        id,\n        responseID: requestID,\n        type: 'not-found',\n      };\n    },\n    logElementToConsole() {},\n    getElementAttributeByPath() {},\n    getElementSourceFunctionById() {},\n    onErrorOrWarning,\n    overrideError() {},\n    overrideSuspense() {},\n    overrideSuspenseMilestone() {},\n    overrideValueAtPath() {},\n    renamePath() {},\n    renderer,\n    setTraceUpdatesEnabled() {},\n    setTrackedPath() {},\n    startProfiling() {},\n    stopProfiling() {},\n    storeAsGlobal() {},\n    supportsTogglingSuspense,\n    updateComponentFilters() {},\n    getEnvironmentNames() {\n      return [];\n    },\n  };\n}\n","/**\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {ReactStackTrace, ReactFunctionLocation} from 'shared/ReactTypes';\n\nfunction parseStackTraceFromChromeStack(\n  stack: string,\n  skipFrames: number,\n): ReactStackTrace {\n  if (stack.startsWith('Error: react-stack-top-frame\\n')) {\n    // V8's default formatting prefixes with the error message which we\n    // don't want/need.\n    stack = stack.slice(29);\n  }\n  let idx = stack.indexOf('react_stack_bottom_frame');\n  if (idx === -1) {\n    idx = stack.indexOf('react-stack-bottom-frame');\n  }\n  if (idx !== -1) {\n    idx = stack.lastIndexOf('\\n', idx);\n  }\n  if (idx !== -1) {\n    // Cut off everything after the bottom frame since it'll be internals.\n    stack = stack.slice(0, idx);\n  }\n  const frames = stack.split('\\n');\n  const parsedFrames: ReactStackTrace = [];\n  // We skip top frames here since they may or may not be parseable but we\n  // want to skip the same number of frames regardless. I.e. we can't do it\n  // in the caller.\n  for (let i = skipFrames; i < frames.length; i++) {\n    const parsed = chromeFrameRegExp.exec(frames[i]);\n    if (!parsed) {\n      continue;\n    }\n    let name = parsed[1] || '';\n    let isAsync = parsed[8] === 'async ';\n    if (name === '<anonymous>') {\n      name = '';\n    } else if (name.startsWith('async ')) {\n      name = name.slice(5);\n      isAsync = true;\n    }\n    let filename = parsed[2] || parsed[5] || '';\n    if (filename === '<anonymous>') {\n      filename = '';\n    }\n    const line = +(parsed[3] || parsed[6] || 0);\n    const col = +(parsed[4] || parsed[7] || 0);\n    parsedFrames.push([name, filename, line, col, 0, 0, isAsync]);\n  }\n  return parsedFrames;\n}\n\nconst firefoxFrameRegExp = /^((?:.*\".+\")?[^@]*)@(.+):(\\d+):(\\d+)$/;\nfunction parseStackTraceFromFirefoxStack(\n  stack: string,\n  skipFrames: number,\n): ReactStackTrace {\n  let idx = stack.indexOf('react_stack_bottom_frame');\n  if (idx === -1) {\n    idx = stack.indexOf('react-stack-bottom-frame');\n  }\n  if (idx !== -1) {\n    idx = stack.lastIndexOf('\\n', idx);\n  }\n  if (idx !== -1) {\n    // Cut off everything after the bottom frame since it'll be internals.\n    stack = stack.slice(0, idx);\n  }\n  const frames = stack.split('\\n');\n  const parsedFrames: ReactStackTrace = [];\n  // We skip top frames here since they may or may not be parseable but we\n  // want to skip the same number of frames regardless. I.e. we can't do it\n  // in the caller.\n  for (let i = skipFrames; i < frames.length; i++) {\n    const parsed = firefoxFrameRegExp.exec(frames[i]);\n    if (!parsed) {\n      continue;\n    }\n    const name = parsed[1] || '';\n    const filename = parsed[2] || '';\n    const line = +parsed[3];\n    const col = +parsed[4];\n    parsedFrames.push([name, filename, line, col, 0, 0, false]);\n  }\n  return parsedFrames;\n}\n\nconst CHROME_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\nexport function parseStackTraceFromString(\n  stack: string,\n  skipFrames: number,\n): ReactStackTrace {\n  if (stack.match(CHROME_STACK_REGEXP)) {\n    return parseStackTraceFromChromeStack(stack, skipFrames);\n  }\n  return parseStackTraceFromFirefoxStack(stack, skipFrames);\n}\n\nlet framesToSkip: number = 0;\nlet collectedStackTrace: null | ReactStackTrace = null;\n\nconst identifierRegExp = /^[a-zA-Z_$][0-9a-zA-Z_$]*$/;\n\nfunction getMethodCallName(callSite: CallSite): string {\n  const typeName = callSite.getTypeName();\n  const methodName = callSite.getMethodName();\n  const functionName = callSite.getFunctionName();\n  let result = '';\n  if (functionName) {\n    if (\n      typeName &&\n      identifierRegExp.test(functionName) &&\n      functionName !== typeName\n    ) {\n      result += typeName + '.';\n    }\n    result += functionName;\n    if (\n      methodName &&\n      functionName !== methodName &&\n      !functionName.endsWith('.' + methodName) &&\n      !functionName.endsWith(' ' + methodName)\n    ) {\n      result += ' [as ' + methodName + ']';\n    }\n  } else {\n    if (typeName) {\n      result += typeName + '.';\n    }\n    if (methodName) {\n      result += methodName;\n    } else {\n      result += '<anonymous>';\n    }\n  }\n  return result;\n}\n\nfunction collectStackTrace(\n  error: Error,\n  structuredStackTrace: CallSite[],\n): string {\n  const result: ReactStackTrace = [];\n  // Collect structured stack traces from the callsites.\n  // We mirror how V8 serializes stack frames and how we later parse them.\n  for (let i = framesToSkip; i < structuredStackTrace.length; i++) {\n    const callSite = structuredStackTrace[i];\n    let name = callSite.getFunctionName() || '<anonymous>';\n    if (\n      name.includes('react_stack_bottom_frame') ||\n      name.includes('react-stack-bottom-frame')\n    ) {\n      // Skip everything after the bottom frame since it'll be internals.\n      break;\n    } else if (callSite.isNative()) {\n      // $FlowFixMe[prop-missing]\n      const isAsync = callSite.isAsync();\n      result.push([name, '', 0, 0, 0, 0, isAsync]);\n    } else {\n      // We encode complex function calls as if they're part of the function\n      // name since we cannot simulate the complex ones and they look the same\n      // as function names in UIs on the client as well as stacks.\n      if (callSite.isConstructor()) {\n        name = 'new ' + name;\n      } else if (!callSite.isToplevel()) {\n        name = getMethodCallName(callSite);\n      }\n      if (name === '<anonymous>') {\n        name = '';\n      }\n      let filename = callSite.getScriptNameOrSourceURL() || '<anonymous>';\n      if (filename === '<anonymous>') {\n        filename = '';\n        if (callSite.isEval()) {\n          const origin = callSite.getEvalOrigin();\n          if (origin) {\n            filename = origin.toString() + ', <anonymous>';\n          }\n        }\n      }\n      const line = callSite.getLineNumber() || 0;\n      const col = callSite.getColumnNumber() || 0;\n      const enclosingLine: number =\n        // $FlowFixMe[prop-missing]\n        typeof callSite.getEnclosingLineNumber === 'function'\n          ? (callSite: any).getEnclosingLineNumber() || 0\n          : 0;\n      const enclosingCol: number =\n        // $FlowFixMe[prop-missing]\n        typeof callSite.getEnclosingColumnNumber === 'function'\n          ? (callSite: any).getEnclosingColumnNumber() || 0\n          : 0;\n      // $FlowFixMe[prop-missing]\n      const isAsync = callSite.isAsync();\n      result.push([\n        name,\n        filename,\n        line,\n        col,\n        enclosingLine,\n        enclosingCol,\n        isAsync,\n      ]);\n    }\n  }\n  collectedStackTrace = result;\n\n  // At the same time we generate a string stack trace just in case someone\n  // else reads it. Ideally, we'd call the previous prepareStackTrace to\n  // ensure it's in the expected format but it's common for that to be\n  // source mapped and since we do a lot of eager parsing of errors, it\n  // would be slow in those environments. We could maybe just rely on those\n  // environments having to disable source mapping globally to speed things up.\n  // For now, we just generate a default V8 formatted stack trace without\n  // source mapping as a fallback.\n  const name = error.name || 'Error';\n  const message = error.message || '';\n  let stack = name + ': ' + message;\n  for (let i = 0; i < structuredStackTrace.length; i++) {\n    stack += '\\n    at ' + structuredStackTrace[i].toString();\n  }\n  return stack;\n}\n\n// This matches either of these V8 formats.\n//     at name (filename:0:0)\n//     at filename:0:0\n//     at async filename:0:0\n//     at Array.map (<anonymous>)\nconst chromeFrameRegExp =\n  /^ *at (?:(.+) \\((?:(.+):(\\d+):(\\d+)|\\<anonymous\\>)\\)|(?:async )?(.+):(\\d+):(\\d+)|\\<anonymous\\>)$/;\n\nconst stackTraceCache: WeakMap<Error, ReactStackTrace> = new WeakMap();\n\nexport function parseStackTrace(\n  error: Error,\n  skipFrames: number,\n): ReactStackTrace {\n  // We can only get structured data out of error objects once. So we cache the information\n  // so we can get it again each time. It also helps performance when the same error is\n  // referenced more than once.\n  const existing = stackTraceCache.get(error);\n  if (existing !== undefined) {\n    return existing;\n  }\n  // We override Error.prepareStackTrace with our own version that collects\n  // the structured data. We need more information than the raw stack gives us\n  // and we need to ensure that we don't get the source mapped version.\n  collectedStackTrace = null;\n  framesToSkip = skipFrames;\n  const previousPrepare = Error.prepareStackTrace;\n  Error.prepareStackTrace = collectStackTrace;\n  let stack;\n  try {\n    stack = String(error.stack);\n  } finally {\n    Error.prepareStackTrace = previousPrepare;\n  }\n\n  if (collectedStackTrace !== null) {\n    const result = collectedStackTrace;\n    collectedStackTrace = null;\n    stackTraceCache.set(error, result);\n    return result;\n  }\n\n  // If the stack has already been read, or this is not actually a V8 compatible\n  // engine then we might not get a normalized stack and it might still have been\n  // source mapped. Regardless we try our best to parse it.\n\n  const parsedFrames = parseStackTraceFromString(stack, skipFrames);\n  stackTraceCache.set(error, parsedFrames);\n  return parsedFrames;\n}\n\nexport function extractLocationFromOwnerStack(\n  error: Error,\n): ReactFunctionLocation | null {\n  const stackTrace = parseStackTrace(error, 1);\n  const stack = error.stack;\n  if (\n    !stack.includes('react_stack_bottom_frame') &&\n    !stack.includes('react-stack-bottom-frame')\n  ) {\n    // This didn't have a bottom to it, we can't trust it.\n    return null;\n  }\n  // We start from the bottom since that will have the best location for the owner itself.\n  for (let i = stackTrace.length - 1; i >= 0; i--) {\n    const [functionName, fileName, line, col, encLine, encCol] = stackTrace[i];\n    // Take the first match with a colon in the file name.\n    if (fileName.indexOf(':') !== -1) {\n      return [\n        functionName,\n        fileName,\n        // Use enclosing line if available, since that points to the start of the function.\n        encLine || line,\n        encCol || col,\n      ];\n    }\n  }\n  return null;\n}\n\nexport function extractLocationFromComponentStack(\n  stack: string,\n): ReactFunctionLocation | null {\n  const stackTrace = parseStackTraceFromString(stack, 0);\n  for (let i = 0; i < stackTrace.length; i++) {\n    const [functionName, fileName, line, col, encLine, encCol] = stackTrace[i];\n    // Take the first match with a colon in the file name.\n    if (fileName.indexOf(':') !== -1) {\n      return [\n        functionName,\n        fileName,\n        // Use enclosing line if available. (Never the case here because we parse from string.)\n        encLine || line,\n        encCol || col,\n      ];\n    }\n  }\n  return null;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This list should be kept updated to reflect additions to 'shared/ReactSymbols'.\n// DevTools can't import symbols from 'shared/ReactSymbols' directly for two reasons:\n// 1. DevTools requires symbols which may have been deleted in more recent versions (e.g. concurrent mode)\n// 2. DevTools must support both Symbol and numeric forms of each symbol;\n//    Since e.g. standalone DevTools runs in a separate process, it can't rely on its own ES capabilities.\n\nexport const CONCURRENT_MODE_NUMBER = 0xeacf;\nexport const CONCURRENT_MODE_SYMBOL_STRING = 'Symbol(react.concurrent_mode)';\n\nexport const CONTEXT_NUMBER = 0xeace;\nexport const CONTEXT_SYMBOL_STRING = 'Symbol(react.context)';\n\nexport const SERVER_CONTEXT_SYMBOL_STRING = 'Symbol(react.server_context)';\n\nexport const DEPRECATED_ASYNC_MODE_SYMBOL_STRING = 'Symbol(react.async_mode)';\n\nexport const ELEMENT_SYMBOL_STRING = 'Symbol(react.transitional.element)';\nexport const LEGACY_ELEMENT_NUMBER = 0xeac7;\nexport const LEGACY_ELEMENT_SYMBOL_STRING = 'Symbol(react.element)';\n\nexport const DEBUG_TRACING_MODE_NUMBER = 0xeae1;\nexport const DEBUG_TRACING_MODE_SYMBOL_STRING =\n  'Symbol(react.debug_trace_mode)';\n\nexport const FORWARD_REF_NUMBER = 0xead0;\nexport const FORWARD_REF_SYMBOL_STRING = 'Symbol(react.forward_ref)';\n\nexport const FRAGMENT_NUMBER = 0xeacb;\nexport const FRAGMENT_SYMBOL_STRING = 'Symbol(react.fragment)';\n\nexport const LAZY_NUMBER = 0xead4;\nexport const LAZY_SYMBOL_STRING = 'Symbol(react.lazy)';\n\nexport const MEMO_NUMBER = 0xead3;\nexport const MEMO_SYMBOL_STRING = 'Symbol(react.memo)';\n\nexport const PORTAL_NUMBER = 0xeaca;\nexport const PORTAL_SYMBOL_STRING = 'Symbol(react.portal)';\n\nexport const PROFILER_NUMBER = 0xead2;\nexport const PROFILER_SYMBOL_STRING = 'Symbol(react.profiler)';\n\nexport const PROVIDER_NUMBER = 0xeacd;\nexport const PROVIDER_SYMBOL_STRING = 'Symbol(react.provider)';\n\nexport const CONSUMER_SYMBOL_STRING = 'Symbol(react.consumer)';\n\nexport const SCOPE_NUMBER = 0xead7;\nexport const SCOPE_SYMBOL_STRING = 'Symbol(react.scope)';\n\nexport const STRICT_MODE_NUMBER = 0xeacc;\nexport const STRICT_MODE_SYMBOL_STRING = 'Symbol(react.strict_mode)';\n\nexport const SUSPENSE_NUMBER = 0xead1;\nexport const SUSPENSE_SYMBOL_STRING = 'Symbol(react.suspense)';\n\nexport const SUSPENSE_LIST_NUMBER = 0xead8;\nexport const SUSPENSE_LIST_SYMBOL_STRING = 'Symbol(react.suspense_list)';\n\nexport const SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED_SYMBOL_STRING =\n  'Symbol(react.server_context.defaultValue)';\n\nexport const REACT_MEMO_CACHE_SENTINEL: symbol = Symbol.for(\n  'react.memo_cache_sentinel',\n);\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/************************************************************************\n * This file is forked between different DevTools implementations.\n * It should never be imported directly!\n * It should always be imported from \"react-devtools-feature-flags\".\n ************************************************************************/\n\nexport const enableLogger: boolean = false;\nexport const enableStyleXFeatures: boolean = false;\nexport const isInternalFacebookBuild: boolean = false;\n\n/************************************************************************\n * Do not edit the code below.\n * It ensures this fork exports the same types as the default flags file.\n ************************************************************************/\n\nimport typeof * as FeatureFlagsType from './DevToolsFeatureFlags.default';\nimport typeof * as ExportsType from './DevToolsFeatureFlags.core-oss';\n\n// Flow magic to verify the exports of this file match the original version.\n((((null: any): ExportsType): FeatureFlagsType): ExportsType);\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x: any, y: any) {\n  return (\n    (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y) // eslint-disable-line no-self-compare\n  );\n}\n\nconst objectIs: (x: any, y: any) => boolean =\n  // $FlowFixMe[method-unbinding]\n  typeof Object.is === 'function' ? Object.is : is;\n\nexport default objectIs;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// $FlowFixMe[method-unbinding]\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nexport default hasOwnProperty;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport function getIODescription(value: mixed): string {\n  if (!__DEV__) {\n    return '';\n  }\n  try {\n    switch (typeof value) {\n      case 'function':\n        return value.name || '';\n      case 'object':\n        // Test the object for a bunch of common property names that are useful identifiers.\n        // While we only have the return value here, it should ideally be a name that\n        // describes the arguments requested.\n        if (value === null) {\n          return '';\n        } else if (value instanceof Error) {\n          // eslint-disable-next-line react-internal/safe-string-coercion\n          return String(value.message);\n        } else if (typeof value.url === 'string') {\n          return value.url;\n        } else if (typeof value.href === 'string') {\n          return value.href;\n        } else if (typeof value.src === 'string') {\n          return value.src;\n        } else if (typeof value.currentSrc === 'string') {\n          return value.currentSrc;\n        } else if (typeof value.command === 'string') {\n          return value.command;\n        } else if (\n          typeof value.request === 'object' &&\n          value.request !== null &&\n          typeof value.request.url === 'string'\n        ) {\n          return value.request.url;\n        } else if (\n          typeof value.response === 'object' &&\n          value.response !== null &&\n          typeof value.response.url === 'string'\n        ) {\n          return value.response.url;\n        } else if (\n          typeof value.id === 'string' ||\n          typeof value.id === 'number' ||\n          typeof value.id === 'bigint'\n        ) {\n          // eslint-disable-next-line react-internal/safe-string-coercion\n          return String(value.id);\n        } else if (typeof value.name === 'string') {\n          return value.name;\n        } else {\n          const str = value.toString();\n          if (\n            str.startsWith('[object ') ||\n            str.length < 5 ||\n            str.length > 500\n          ) {\n            // This is probably not a useful description.\n            return '';\n          }\n          return str;\n        }\n      case 'string':\n        if (value.length < 5 || value.length > 500) {\n          return '';\n        }\n        return value;\n      case 'number':\n      case 'bigint':\n        // eslint-disable-next-line react-internal/safe-string-coercion\n        return String(value);\n      default:\n        // Not useful descriptors.\n        return '';\n    }\n  } catch (x) {\n    return '';\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of ReactFiberComponentStack.\n// This fork enables DevTools to use the same \"native\" component stack format,\n// while still maintaining support for multiple renderer versions\n// (which use different values for ReactTypeOfWork).\n\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {CurrentDispatcherRef, WorkTagMap} from '../types';\n\nimport type {ReactComponentInfo} from 'shared/ReactTypes';\n\nimport {\n  describeBuiltInComponentFrame,\n  describeFunctionComponentFrame,\n  describeClassComponentFrame,\n  describeDebugInfoFrame,\n} from '../shared/DevToolsComponentStackFrame';\n\nimport {formatOwnerStack} from '../shared/DevToolsOwnerStack';\n\nexport function describeFiber(\n  workTagMap: WorkTagMap,\n  workInProgress: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  const {\n    HostHoistable,\n    HostSingleton,\n    HostComponent,\n    LazyComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    FunctionComponent,\n    IndeterminateComponent,\n    SimpleMemoComponent,\n    ForwardRef,\n    ClassComponent,\n    ViewTransitionComponent,\n    ActivityComponent,\n  } = workTagMap;\n\n  switch (workInProgress.tag) {\n    case HostHoistable:\n    case HostSingleton:\n    case HostComponent:\n      return describeBuiltInComponentFrame(workInProgress.type);\n    case LazyComponent:\n      // TODO: When we support Thenables as component types we should rename this.\n      return describeBuiltInComponentFrame('Lazy');\n    case SuspenseComponent:\n      return describeBuiltInComponentFrame('Suspense');\n    case SuspenseListComponent:\n      return describeBuiltInComponentFrame('SuspenseList');\n    case ViewTransitionComponent:\n      return describeBuiltInComponentFrame('ViewTransition');\n    case ActivityComponent:\n      return describeBuiltInComponentFrame('Activity');\n    case FunctionComponent:\n    case IndeterminateComponent:\n    case SimpleMemoComponent:\n      return describeFunctionComponentFrame(\n        workInProgress.type,\n        currentDispatcherRef,\n      );\n    case ForwardRef:\n      return describeFunctionComponentFrame(\n        workInProgress.type.render,\n        currentDispatcherRef,\n      );\n    case ClassComponent:\n      return describeClassComponentFrame(\n        workInProgress.type,\n        currentDispatcherRef,\n      );\n    default:\n      return '';\n  }\n}\n\nexport function getStackByFiberInDevAndProd(\n  workTagMap: WorkTagMap,\n  workInProgress: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  try {\n    let info = '';\n    let node: Fiber = workInProgress;\n    do {\n      info += describeFiber(workTagMap, node, currentDispatcherRef);\n      // Add any Server Component stack frames in reverse order.\n      const debugInfo = node._debugInfo;\n      if (debugInfo) {\n        for (let i = debugInfo.length - 1; i >= 0; i--) {\n          const entry = debugInfo[i];\n          if (typeof entry.name === 'string') {\n            info += describeDebugInfoFrame(entry.name, entry.env);\n          }\n        }\n      }\n      // $FlowFixMe[incompatible-type] we bail out when we get a null\n      node = node.return;\n    } while (node);\n    return info;\n  } catch (x) {\n    return '\\nError generating stack: ' + x.message + '\\n' + x.stack;\n  }\n}\n\nexport function getSourceLocationByFiber(\n  workTagMap: WorkTagMap,\n  fiber: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): null | string {\n  // This is like getStackByFiberInDevAndProd but just the first stack frame.\n  try {\n    const info = describeFiber(workTagMap, fiber, currentDispatcherRef);\n    if (info !== '') {\n      return info.slice(1); // skip the leading newline\n    }\n  } catch (x) {\n    console.error(x);\n  }\n  return null;\n}\n\nexport function supportsConsoleTasks(fiber: Fiber): boolean {\n  // If this Fiber supports native console.createTask then we are already running\n  // inside a native async stack trace if it's active - meaning the DevTools is open.\n  // Ideally we'd detect if this task was created while the DevTools was open or not.\n  return !!fiber._debugTask;\n}\n\nexport function supportsOwnerStacks(fiber: Fiber): boolean {\n  // If this Fiber supports owner stacks then it'll have the _debugStack field.\n  // It might be null but that still means we should use the owner stack logic.\n  return fiber._debugStack !== undefined;\n}\n\nexport function getOwnerStackByFiberInDev(\n  workTagMap: WorkTagMap,\n  workInProgress: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  const {\n    HostHoistable,\n    HostSingleton,\n    HostText,\n    HostComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    ViewTransitionComponent,\n    ActivityComponent,\n  } = workTagMap;\n  try {\n    let info = '';\n\n    if (workInProgress.tag === HostText) {\n      // Text nodes never have an owner/stack because they're not created through JSX.\n      // We use the parent since text nodes are always created through a host parent.\n      workInProgress = (workInProgress.return: any);\n    }\n\n    // The owner stack of the current fiber will be where it was created, i.e. inside its owner.\n    // There's no actual name of the currently executing component. Instead, that is available\n    // on the regular stack that's currently executing. However, for built-ins there is no such\n    // named stack frame and it would be ignored as being internal anyway. Therefore we add\n    // add one extra frame just to describe the \"current\" built-in component by name.\n    switch (workInProgress.tag) {\n      case HostHoistable:\n      case HostSingleton:\n      case HostComponent:\n        info += describeBuiltInComponentFrame(workInProgress.type);\n        break;\n      case SuspenseComponent:\n        info += describeBuiltInComponentFrame('Suspense');\n        break;\n      case SuspenseListComponent:\n        info += describeBuiltInComponentFrame('SuspenseList');\n        break;\n      case ViewTransitionComponent:\n        info += describeBuiltInComponentFrame('ViewTransition');\n        break;\n      case ActivityComponent:\n        info += describeBuiltInComponentFrame('Activity');\n        break;\n    }\n\n    let owner: void | null | Fiber | ReactComponentInfo = workInProgress;\n\n    while (owner) {\n      if (typeof owner.tag === 'number') {\n        const fiber: Fiber = (owner: any);\n        owner = fiber._debugOwner;\n        let debugStack: void | null | string | Error = fiber._debugStack;\n        // If we don't actually print the stack if there is no owner of this JSX element.\n        // In a real app it's typically not useful since the root app is always controlled\n        // by the framework. These also tend to have noisy stacks because they're not rooted\n        // in a React render but in some imperative bootstrapping code. It could be useful\n        // if the element was created in module scope. E.g. hoisted. We could add a a single\n        // stack frame for context for example but it doesn't say much if that's a wrapper.\n        if (owner && debugStack) {\n          if (typeof debugStack !== 'string') {\n            debugStack = formatOwnerStack(debugStack);\n          }\n          if (debugStack !== '') {\n            info += '\\n' + debugStack;\n          }\n        }\n      } else if (owner.debugStack != null) {\n        // Server Component\n        const ownerStack: Error = owner.debugStack;\n        owner = owner.owner;\n        if (owner && ownerStack) {\n          info += '\\n' + formatOwnerStack(ownerStack);\n        }\n      } else {\n        break;\n      }\n    }\n    return info;\n  } catch (x) {\n    return '\\nError generating stack: ' + x.message + '\\n' + x.stack;\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {StyleXPlugin} from 'react-devtools-shared/src/frontend/types';\nimport isArray from 'react-devtools-shared/src/isArray';\n\nconst cachedStyleNameToValueMap: Map<string, string> = new Map();\n\nexport function getStyleXData(data: any): StyleXPlugin {\n  const sources = new Set<string>();\n  const resolvedStyles = {};\n\n  crawlData(data, sources, resolvedStyles);\n\n  return {\n    sources: Array.from(sources).sort(),\n    resolvedStyles,\n  };\n}\n\nexport function crawlData(\n  data: any,\n  sources: Set<string>,\n  resolvedStyles: Object,\n): void {\n  if (data == null) {\n    return;\n  }\n\n  if (isArray(data)) {\n    data.forEach(entry => {\n      if (entry == null) {\n        return;\n      }\n\n      if (isArray(entry)) {\n        crawlData(entry, sources, resolvedStyles);\n      } else {\n        crawlObjectProperties(entry, sources, resolvedStyles);\n      }\n    });\n  } else {\n    crawlObjectProperties(data, sources, resolvedStyles);\n  }\n\n  resolvedStyles = Object.fromEntries<string, any>(\n    Object.entries(resolvedStyles).sort(),\n  );\n}\n\nfunction crawlObjectProperties(\n  entry: Object,\n  sources: Set<string>,\n  resolvedStyles: Object,\n): void {\n  const keys = Object.keys(entry);\n  keys.forEach(key => {\n    const value = entry[key];\n    if (typeof value === 'string') {\n      if (key === value) {\n        // Special case; this key is the name of the style's source/file/module.\n        sources.add(key);\n      } else {\n        const propertyValue = getPropertyValueForStyleName(value);\n        if (propertyValue != null) {\n          resolvedStyles[key] = propertyValue;\n        }\n      }\n    } else {\n      const nestedStyle = {};\n      resolvedStyles[key] = nestedStyle;\n      crawlData([value], sources, nestedStyle);\n    }\n  });\n}\n\nfunction getPropertyValueForStyleName(styleName: string): string | null {\n  if (cachedStyleNameToValueMap.has(styleName)) {\n    return ((cachedStyleNameToValueMap.get(styleName): any): string);\n  }\n\n  for (\n    let styleSheetIndex = 0;\n    styleSheetIndex < document.styleSheets.length;\n    styleSheetIndex++\n  ) {\n    const styleSheet = ((document.styleSheets[\n      styleSheetIndex\n    ]: any): CSSStyleSheet);\n    let rules: CSSRuleList | null = null;\n    // this might throw if CORS rules are enforced https://www.w3.org/TR/cssom-1/#the-cssstylesheet-interface\n    try {\n      rules = styleSheet.cssRules;\n    } catch (_e) {\n      continue;\n    }\n\n    for (let ruleIndex = 0; ruleIndex < rules.length; ruleIndex++) {\n      if (!(rules[ruleIndex] instanceof CSSStyleRule)) {\n        continue;\n      }\n      const rule = ((rules[ruleIndex]: any): CSSStyleRule);\n      const {cssText, selectorText, style} = rule;\n\n      if (selectorText != null) {\n        if (selectorText.startsWith(`.${styleName}`)) {\n          const match = cssText.match(/{ *([a-z\\-]+):/);\n          if (match !== null) {\n            const property = match[1];\n            const value = style.getPropertyValue(property);\n\n            cachedStyleNameToValueMap.set(styleName, value);\n\n            return value;\n          } else {\n            return null;\n          }\n        }\n      }\n    }\n  }\n\n  return null;\n}\n","export const CHANGE_LOG_URL =\n  'https://github.com/facebook/react/blob/main/packages/react-devtools/CHANGELOG.md';\n\nexport const UNSUPPORTED_VERSION_URL =\n  'https://reactjs.org/blog/2019/08/15/new-react-devtools.html#how-do-i-get-the-old-version-back';\n\nexport const REACT_DEVTOOLS_WORKPLACE_URL =\n  'https://fburl.com/react-devtools-workplace-group';\n\nimport type {\n  Theme,\n  DisplayDensity,\n} from './devtools/views/Settings/SettingsContext';\n\nexport const THEME_STYLES: {[style: Theme | DisplayDensity]: any, ...} = {\n  light: {\n    '--color-attribute-name': '#ef6632',\n    '--color-attribute-name-not-editable': '#23272f',\n    '--color-attribute-name-inverted': 'rgba(255, 255, 255, 0.7)',\n    '--color-attribute-value': '#1a1aa6',\n    '--color-attribute-value-inverted': '#ffffff',\n    '--color-attribute-editable-value': '#1a1aa6',\n    '--color-background': '#ffffff',\n    '--color-background-hover': 'rgba(0, 136, 250, 0.1)',\n    '--color-background-inactive': '#e5e5e5',\n    '--color-background-invalid': '#fff0f0',\n    '--color-background-selected': '#0088fa',\n    '--color-button-background': '#ffffff',\n    '--color-button-background-focus': '#ededed',\n    '--color-button-background-hover': 'rgba(0, 0, 0, 0.2)',\n    '--color-button': '#5f6673',\n    '--color-button-disabled': '#cfd1d5',\n    '--color-button-active': '#0088fa',\n    '--color-button-focus': '#23272f',\n    '--color-button-hover': '#23272f',\n    '--color-border': '#eeeeee',\n    '--color-commit-did-not-render-fill': '#cfd1d5',\n    '--color-commit-did-not-render-fill-text': '#000000',\n    '--color-commit-did-not-render-pattern': '#cfd1d5',\n    '--color-commit-did-not-render-pattern-text': '#333333',\n    '--color-commit-gradient-0': '#37afa9',\n    '--color-commit-gradient-1': '#63b19e',\n    '--color-commit-gradient-2': '#80b393',\n    '--color-commit-gradient-3': '#97b488',\n    '--color-commit-gradient-4': '#abb67d',\n    '--color-commit-gradient-5': '#beb771',\n    '--color-commit-gradient-6': '#cfb965',\n    '--color-commit-gradient-7': '#dfba57',\n    '--color-commit-gradient-8': '#efbb49',\n    '--color-commit-gradient-9': '#febc38',\n    '--color-commit-gradient-text': '#000000',\n    '--color-component-name': '#6a51b2',\n    '--color-component-name-inverted': '#ffffff',\n    '--color-component-badge-background': '#e6e6e6',\n    '--color-component-badge-background-inverted': 'rgba(255, 255, 255, 0.25)',\n    '--color-component-badge-count': '#777d88',\n    '--color-component-badge-count-inverted': 'rgba(255, 255, 255, 0.7)',\n    '--color-console-error-badge-text': '#ffffff',\n    '--color-console-error-background': '#fff0f0',\n    '--color-console-error-border': '#ffd6d6',\n    '--color-console-error-icon': '#eb3941',\n    '--color-console-error-text': '#fe2e31',\n    '--color-console-warning-badge-text': '#000000',\n    '--color-console-warning-background': '#fffbe5',\n    '--color-console-warning-border': '#fff5c1',\n    '--color-console-warning-icon': '#f4bd00',\n    '--color-console-warning-text': '#64460c',\n    '--color-context-background': 'rgba(0,0,0,.9)',\n    '--color-context-background-hover': 'rgba(255, 255, 255, 0.1)',\n    '--color-context-background-selected': '#178fb9',\n    '--color-context-border': '#3d424a',\n    '--color-context-text': '#ffffff',\n    '--color-context-text-selected': '#ffffff',\n    '--color-dim': '#777d88',\n    '--color-dimmer': '#cfd1d5',\n    '--color-dimmest': '#eff0f1',\n    '--color-error-background': 'hsl(0, 100%, 97%)',\n    '--color-error-border': 'hsl(0, 100%, 92%)',\n    '--color-error-text': '#ff0000',\n    '--color-expand-collapse-toggle': '#777d88',\n    '--color-forget-badge-background': '#2683e2',\n    '--color-forget-badge-background-inverted': '#1a6bbc',\n    '--color-forget-text': '#fff',\n    '--color-link': '#0000ff',\n    '--color-modal-background': 'rgba(255, 255, 255, 0.75)',\n    '--color-bridge-version-npm-background': '#eff0f1',\n    '--color-bridge-version-npm-text': '#000000',\n    '--color-bridge-version-number': '#0088fa',\n    '--color-primitive-hook-badge-background': '#e5e5e5',\n    '--color-primitive-hook-badge-text': '#5f6673',\n    '--color-record-active': '#fc3a4b',\n    '--color-record-hover': '#3578e5',\n    '--color-record-inactive': '#0088fa',\n    '--color-resize-bar': '#eeeeee',\n    '--color-resize-bar-active': '#dcdcdc',\n    '--color-resize-bar-border': '#d1d1d1',\n    '--color-resize-bar-dot': '#333333',\n    '--color-timeline-internal-module': '#d1d1d1',\n    '--color-timeline-internal-module-hover': '#c9c9c9',\n    '--color-timeline-internal-module-text': '#444',\n    '--color-timeline-native-event': '#ccc',\n    '--color-timeline-native-event-hover': '#aaa',\n    '--color-timeline-network-primary': '#fcf3dc',\n    '--color-timeline-network-primary-hover': '#f0e7d1',\n    '--color-timeline-network-secondary': '#efc457',\n    '--color-timeline-network-secondary-hover': '#e3ba52',\n    '--color-timeline-priority-background': '#f6f6f6',\n    '--color-timeline-priority-border': '#eeeeee',\n    '--color-timeline-user-timing': '#c9cacd',\n    '--color-timeline-user-timing-hover': '#93959a',\n    '--color-timeline-react-idle': '#d3e5f6',\n    '--color-timeline-react-idle-hover': '#c3d9ef',\n    '--color-timeline-react-render': '#9fc3f3',\n    '--color-timeline-react-render-hover': '#83afe9',\n    '--color-timeline-react-render-text': '#11365e',\n    '--color-timeline-react-commit': '#c88ff0',\n    '--color-timeline-react-commit-hover': '#b281d6',\n    '--color-timeline-react-commit-text': '#3e2c4a',\n    '--color-timeline-react-layout-effects': '#b281d6',\n    '--color-timeline-react-layout-effects-hover': '#9d71bd',\n    '--color-timeline-react-layout-effects-text': '#3e2c4a',\n    '--color-timeline-react-passive-effects': '#b281d6',\n    '--color-timeline-react-passive-effects-hover': '#9d71bd',\n    '--color-timeline-react-passive-effects-text': '#3e2c4a',\n    '--color-timeline-react-schedule': '#9fc3f3',\n    '--color-timeline-react-schedule-hover': '#2683E2',\n    '--color-timeline-react-suspense-rejected': '#f1cc14',\n    '--color-timeline-react-suspense-rejected-hover': '#ffdf37',\n    '--color-timeline-react-suspense-resolved': '#a6e59f',\n    '--color-timeline-react-suspense-resolved-hover': '#89d281',\n    '--color-timeline-react-suspense-unresolved': '#c9cacd',\n    '--color-timeline-react-suspense-unresolved-hover': '#93959a',\n    '--color-timeline-thrown-error': '#ee1638',\n    '--color-timeline-thrown-error-hover': '#da1030',\n    '--color-timeline-text-color': '#000000',\n    '--color-timeline-text-dim-color': '#ccc',\n    '--color-timeline-react-work-border': '#eeeeee',\n    '--color-timebar-background': '#f6f6f6',\n    '--color-search-match': 'yellow',\n    '--color-search-match-current': '#f7923b',\n    '--color-selected-tree-highlight-active': 'rgba(0, 136, 250, 0.1)',\n    '--color-selected-tree-highlight-inactive': 'rgba(0, 0, 0, 0.05)',\n    '--color-scroll-caret': 'rgba(150, 150, 150, 0.5)',\n    '--color-tab-selected-border': '#0088fa',\n    '--color-text': '#000000',\n    '--color-text-invalid': '#ff0000',\n    '--color-text-selected': '#ffffff',\n    '--color-toggle-background-invalid': '#fc3a4b',\n    '--color-toggle-background-on': '#0088fa',\n    '--color-toggle-background-off': '#cfd1d5',\n    '--color-toggle-text': '#ffffff',\n    '--color-warning-background': '#fb3655',\n    '--color-warning-background-hover': '#f82042',\n    '--color-warning-text-color': '#ffffff',\n    '--color-warning-text-color-inverted': '#fd4d69',\n\n    '--color-suspense-default': '#0088fa',\n    '--color-transition-default': '#6a51b2',\n    '--color-suspense-server': '#62bc6a',\n    '--color-transition-server': '#3f7844',\n    '--color-suspense-other': '#f3ce49',\n    '--color-transition-other': '#917b2c',\n    '--color-suspense-errored': '#d57066',\n\n    // The styles below should be kept in sync with 'root.css'\n    // They are repeated there because they're used by e.g. tooltips or context menus\n    // which get rendered outside of the DOM subtree (where normal theme/styles are written).\n    '--color-scroll-thumb': '#c2c2c2',\n    '--color-scroll-track': '#fafafa',\n    '--color-tooltip-background': 'rgba(0, 0, 0, 0.9)',\n    '--color-tooltip-text': '#ffffff',\n\n    '--elevation-4':\n      '0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)',\n  },\n  dark: {\n    '--color-attribute-name': '#9d87d2',\n    '--color-attribute-name-not-editable': '#ededed',\n    '--color-attribute-name-inverted': '#282828',\n    '--color-attribute-value': '#cedae0',\n    '--color-attribute-value-inverted': '#ffffff',\n    '--color-attribute-editable-value': 'yellow',\n    '--color-background': '#282c34',\n    '--color-background-hover': 'rgba(255, 255, 255, 0.1)',\n    '--color-background-inactive': '#3d424a',\n    '--color-background-invalid': '#5c0000',\n    '--color-background-selected': '#178fb9',\n    '--color-button-background': '#282c34',\n    '--color-button-background-focus': '#3d424a',\n    '--color-button-background-hover': 'rgba(255, 255, 255, 0.2)',\n    '--color-button': '#afb3b9',\n    '--color-button-active': '#61dafb',\n    '--color-button-disabled': '#4f5766',\n    '--color-button-focus': '#a2e9fc',\n    '--color-button-hover': '#ededed',\n    '--color-border': '#3d424a',\n    '--color-commit-did-not-render-fill': '#777d88',\n    '--color-commit-did-not-render-fill-text': '#000000',\n    '--color-commit-did-not-render-pattern': '#666c77',\n    '--color-commit-did-not-render-pattern-text': '#ffffff',\n    '--color-commit-gradient-0': '#37afa9',\n    '--color-commit-gradient-1': '#63b19e',\n    '--color-commit-gradient-2': '#80b393',\n    '--color-commit-gradient-3': '#97b488',\n    '--color-commit-gradient-4': '#abb67d',\n    '--color-commit-gradient-5': '#beb771',\n    '--color-commit-gradient-6': '#cfb965',\n    '--color-commit-gradient-7': '#dfba57',\n    '--color-commit-gradient-8': '#efbb49',\n    '--color-commit-gradient-9': '#febc38',\n    '--color-commit-gradient-text': '#000000',\n    '--color-component-name': '#61dafb',\n    '--color-component-name-inverted': '#282828',\n    '--color-component-badge-background': '#5e6167',\n    '--color-component-badge-background-inverted': '#46494e',\n    '--color-component-badge-count': '#8f949d',\n    '--color-component-badge-count-inverted': 'rgba(255, 255, 255, 0.85)',\n    '--color-console-error-badge-text': '#000000',\n    '--color-console-error-background': '#290000',\n    '--color-console-error-border': '#5c0000',\n    '--color-console-error-icon': '#eb3941',\n    '--color-console-error-text': '#fc7f7f',\n    '--color-console-warning-badge-text': '#000000',\n    '--color-console-warning-background': '#332b00',\n    '--color-console-warning-border': '#665500',\n    '--color-console-warning-icon': '#f4bd00',\n    '--color-console-warning-text': '#f5f2ed',\n    '--color-context-background': 'rgba(255,255,255,.95)',\n    '--color-context-background-hover': 'rgba(0, 136, 250, 0.1)',\n    '--color-context-background-selected': '#0088fa',\n    '--color-context-border': '#eeeeee',\n    '--color-context-text': '#000000',\n    '--color-context-text-selected': '#ffffff',\n    '--color-dim': '#8f949d',\n    '--color-dimmer': '#777d88',\n    '--color-dimmest': '#4f5766',\n    '--color-error-background': '#200',\n    '--color-error-border': '#900',\n    '--color-error-text': '#f55',\n    '--color-expand-collapse-toggle': '#8f949d',\n    '--color-forget-badge-background': '#2683e2',\n    '--color-forget-badge-background-inverted': '#1a6bbc',\n    '--color-forget-text': '#fff',\n    '--color-link': '#61dafb',\n    '--color-modal-background': 'rgba(0, 0, 0, 0.75)',\n    '--color-bridge-version-npm-background': 'rgba(0, 0, 0, 0.25)',\n    '--color-bridge-version-npm-text': '#ffffff',\n    '--color-bridge-version-number': 'yellow',\n    '--color-primitive-hook-badge-background': 'rgba(0, 0, 0, 0.25)',\n    '--color-primitive-hook-badge-text': 'rgba(255, 255, 255, 0.7)',\n    '--color-record-active': '#fc3a4b',\n    '--color-record-hover': '#a2e9fc',\n    '--color-record-inactive': '#61dafb',\n    '--color-resize-bar': '#282c34',\n    '--color-resize-bar-active': '#31363f',\n    '--color-resize-bar-border': '#3d424a',\n    '--color-resize-bar-dot': '#cfd1d5',\n    '--color-timeline-internal-module': '#303542',\n    '--color-timeline-internal-module-hover': '#363b4a',\n    '--color-timeline-internal-module-text': '#7f8899',\n    '--color-timeline-native-event': '#b2b2b2',\n    '--color-timeline-native-event-hover': '#949494',\n    '--color-timeline-network-primary': '#fcf3dc',\n    '--color-timeline-network-primary-hover': '#e3dbc5',\n    '--color-timeline-network-secondary': '#efc457',\n    '--color-timeline-network-secondary-hover': '#d6af4d',\n    '--color-timeline-priority-background': '#1d2129',\n    '--color-timeline-priority-border': '#282c34',\n    '--color-timeline-user-timing': '#c9cacd',\n    '--color-timeline-user-timing-hover': '#93959a',\n    '--color-timeline-react-idle': '#3d485b',\n    '--color-timeline-react-idle-hover': '#465269',\n    '--color-timeline-react-render': '#2683E2',\n    '--color-timeline-react-render-hover': '#1a76d4',\n    '--color-timeline-react-render-text': '#11365e',\n    '--color-timeline-react-commit': '#731fad',\n    '--color-timeline-react-commit-hover': '#611b94',\n    '--color-timeline-react-commit-text': '#e5c1ff',\n    '--color-timeline-react-layout-effects': '#611b94',\n    '--color-timeline-react-layout-effects-hover': '#51167a',\n    '--color-timeline-react-layout-effects-text': '#e5c1ff',\n    '--color-timeline-react-passive-effects': '#611b94',\n    '--color-timeline-react-passive-effects-hover': '#51167a',\n    '--color-timeline-react-passive-effects-text': '#e5c1ff',\n    '--color-timeline-react-schedule': '#2683E2',\n    '--color-timeline-react-schedule-hover': '#1a76d4',\n    '--color-timeline-react-suspense-rejected': '#f1cc14',\n    '--color-timeline-react-suspense-rejected-hover': '#e4c00f',\n    '--color-timeline-react-suspense-resolved': '#a6e59f',\n    '--color-timeline-react-suspense-resolved-hover': '#89d281',\n    '--color-timeline-react-suspense-unresolved': '#c9cacd',\n    '--color-timeline-react-suspense-unresolved-hover': '#93959a',\n    '--color-timeline-thrown-error': '#fb3655',\n    '--color-timeline-thrown-error-hover': '#f82042',\n    '--color-timeline-text-color': '#282c34',\n    '--color-timeline-text-dim-color': '#555b66',\n    '--color-timeline-react-work-border': '#3d424a',\n    '--color-timebar-background': '#1d2129',\n    '--color-search-match': 'yellow',\n    '--color-search-match-current': '#f7923b',\n    '--color-selected-tree-highlight-active': 'rgba(23, 143, 185, 0.15)',\n    '--color-selected-tree-highlight-inactive': 'rgba(255, 255, 255, 0.05)',\n    '--color-scroll-caret': '#4f5766',\n    '--color-shadow': 'rgba(0, 0, 0, 0.5)',\n    '--color-tab-selected-border': '#178fb9',\n    '--color-text': '#ffffff',\n    '--color-text-invalid': '#ff8080',\n    '--color-text-selected': '#ffffff',\n    '--color-toggle-background-invalid': '#fc3a4b',\n    '--color-toggle-background-on': '#178fb9',\n    '--color-toggle-background-off': '#777d88',\n    '--color-toggle-text': '#ffffff',\n    '--color-warning-background': '#ee1638',\n    '--color-warning-background-hover': '#da1030',\n    '--color-warning-text-color': '#ffffff',\n    '--color-warning-text-color-inverted': '#ee1638',\n\n    '--color-suspense-default': '#61dafb',\n    '--color-transition-default': '#6a51b2',\n    '--color-suspense-server': '#62bc6a',\n    '--color-transition-server': '#3f7844',\n    '--color-suspense-other': '#f3ce49',\n    '--color-transition-other': '#917b2c',\n    '--color-suspense-errored': '#d57066',\n\n    // The styles below should be kept in sync with 'root.css'\n    // They are repeated there because they're used by e.g. tooltips or context menus\n    // which get rendered outside of the DOM subtree (where normal theme/styles are written).\n    '--color-scroll-thumb': '#afb3b9',\n    '--color-scroll-track': '#313640',\n    '--color-tooltip-background': 'rgba(255, 255, 255, 0.95)',\n    '--color-tooltip-text': '#000000',\n\n    '--elevation-4':\n      '0 2px 8px 0 rgba(0,0,0,0.32),0 4px 12px 0 rgba(0,0,0,0.24),0 1px 10px 0 rgba(0,0,0,0.18)',\n  },\n  compact: {\n    '--font-size-monospace-small': '9px',\n    '--font-size-monospace-normal': '11px',\n    '--font-size-monospace-large': '15px',\n    '--font-size-sans-small': '10px',\n    '--font-size-sans-normal': '12px',\n    '--font-size-sans-large': '14px',\n    '--line-height-data': '18px',\n  },\n  comfortable: {\n    '--font-size-monospace-small': '10px',\n    '--font-size-monospace-normal': '13px',\n    '--font-size-monospace-large': '17px',\n    '--font-size-sans-small': '12px',\n    '--font-size-sans-normal': '14px',\n    '--font-size-sans-large': '16px',\n    '--line-height-data': '22px',\n  },\n};\n\n// HACK\n//\n// Sometimes the inline target is rendered before root styles are applied,\n// which would result in e.g. NaN itemSize being passed to react-window list.\nconst COMFORTABLE_LINE_HEIGHT: number = parseInt(\n  THEME_STYLES.comfortable['--line-height-data'],\n  10,\n);\nconst COMPACT_LINE_HEIGHT: number = parseInt(\n  THEME_STYLES.compact['--line-height-data'],\n  10,\n);\n\nexport {COMFORTABLE_LINE_HEIGHT, COMPACT_LINE_HEIGHT};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport {\n  COMFORTABLE_LINE_HEIGHT,\n  COMPACT_LINE_HEIGHT,\n} from 'react-devtools-shared/src/devtools/constants.js';\n\nexport const REACT_TOTAL_NUM_LANES = 31;\n\n// Increment this number any time a backwards breaking change is made to the profiler metadata.\nexport const SCHEDULING_PROFILER_VERSION = 1;\n\nexport const SNAPSHOT_MAX_HEIGHT = 60;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {\n  Lane,\n  Lanes,\n  DevToolsProfilingHooks,\n  WorkTagMap,\n  CurrentDispatcherRef,\n} from 'react-devtools-shared/src/backend/types';\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {Wakeable} from 'shared/ReactTypes';\nimport type {\n  BatchUID,\n  InternalModuleSourceToRanges,\n  LaneToLabelMap,\n  ReactComponentMeasure,\n  ReactLane,\n  ReactMeasure,\n  ReactMeasureType,\n  ReactScheduleStateUpdateEvent,\n  SchedulingEvent,\n  SuspenseEvent,\n  TimelineData,\n} from 'react-devtools-timeline/src/types';\n\nimport isArray from 'shared/isArray';\nimport {\n  REACT_TOTAL_NUM_LANES,\n  SCHEDULING_PROFILER_VERSION,\n} from 'react-devtools-timeline/src/constants';\nimport {describeFiber} from './fiber/DevToolsFiberComponentStack';\n\n// Add padding to the start/stop time of the profile.\n// This makes the UI nicer to use.\nconst TIME_OFFSET = 10;\n\nlet performanceTarget: Performance | null = null;\n\n// If performance exists and supports the subset of the User Timing API that we require.\nlet supportsUserTiming =\n  typeof performance !== 'undefined' &&\n  // $FlowFixMe[method-unbinding]\n  typeof performance.mark === 'function' &&\n  // $FlowFixMe[method-unbinding]\n  typeof performance.clearMarks === 'function';\n\nlet supportsUserTimingV3 = false;\nif (supportsUserTiming) {\n  const CHECK_V3_MARK = '__v3';\n  const markOptions: {\n    detail?: mixed,\n    startTime?: number,\n  } = {};\n  Object.defineProperty(markOptions, 'startTime', {\n    get: function () {\n      supportsUserTimingV3 = true;\n      return 0;\n    },\n    set: function () {},\n  });\n\n  try {\n    performance.mark(CHECK_V3_MARK, markOptions);\n  } catch (error) {\n    // Ignore\n  } finally {\n    performance.clearMarks(CHECK_V3_MARK);\n  }\n}\n\nif (supportsUserTimingV3) {\n  performanceTarget = performance;\n}\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  // $FlowFixMe[method-unbinding]\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\n// Mocking the Performance Object (and User Timing APIs) for testing is fragile.\n// This API allows tests to directly override the User Timing APIs.\nexport function setPerformanceMock_ONLY_FOR_TESTING(\n  performanceMock: Performance | null,\n) {\n  performanceTarget = performanceMock;\n  supportsUserTiming = performanceMock !== null;\n  supportsUserTimingV3 = performanceMock !== null;\n}\n\nexport type GetTimelineData = () => TimelineData | null;\nexport type ToggleProfilingStatus = (\n  value: boolean,\n  recordTimeline?: boolean,\n) => void;\n\ntype Response = {\n  getTimelineData: GetTimelineData,\n  profilingHooks: DevToolsProfilingHooks,\n  toggleProfilingStatus: ToggleProfilingStatus,\n};\n\nexport function createProfilingHooks({\n  getDisplayNameForFiber,\n  getIsProfiling,\n  getLaneLabelMap,\n  workTagMap,\n  currentDispatcherRef,\n  reactVersion,\n}: {\n  getDisplayNameForFiber: (fiber: Fiber) => string | null,\n  getIsProfiling: () => boolean,\n  getLaneLabelMap?: () => Map<Lane, string> | null,\n  currentDispatcherRef?: CurrentDispatcherRef,\n  workTagMap: WorkTagMap,\n  reactVersion: string,\n}): Response {\n  let currentBatchUID: BatchUID = 0;\n  let currentReactComponentMeasure: ReactComponentMeasure | null = null;\n  let currentReactMeasuresStack: Array<ReactMeasure> = [];\n  let currentTimelineData: TimelineData | null = null;\n  let currentFiberStacks: Map<SchedulingEvent, Array<Fiber>> = new Map();\n  let isProfiling: boolean = false;\n  let nextRenderShouldStartNewBatch: boolean = false;\n\n  function getRelativeTime() {\n    const currentTime = getCurrentTime();\n\n    if (currentTimelineData) {\n      if (currentTimelineData.startTime === 0) {\n        currentTimelineData.startTime = currentTime - TIME_OFFSET;\n      }\n\n      return currentTime - currentTimelineData.startTime;\n    }\n\n    return 0;\n  }\n\n  function getInternalModuleRanges() {\n    /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n    if (\n      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.getInternalModuleRanges ===\n        'function'\n    ) {\n      // Ask the DevTools hook for module ranges that may have been reported by the current renderer(s).\n      // Don't do this eagerly like the laneToLabelMap,\n      // because some modules might not yet have registered their boundaries when the renderer is injected.\n      const ranges = __REACT_DEVTOOLS_GLOBAL_HOOK__.getInternalModuleRanges();\n\n      // This check would not be required,\n      // except that it's possible for things to override __REACT_DEVTOOLS_GLOBAL_HOOK__.\n      if (isArray(ranges)) {\n        return ranges;\n      }\n    }\n\n    return null;\n  }\n\n  function getTimelineData(): TimelineData | null {\n    return currentTimelineData;\n  }\n\n  function laneToLanesArray(lanes: Lane) {\n    const lanesArray = [];\n\n    let lane = 1;\n    for (let index = 0; index < REACT_TOTAL_NUM_LANES; index++) {\n      if (lane & lanes) {\n        lanesArray.push(lane);\n      }\n      lane *= 2;\n    }\n\n    return lanesArray;\n  }\n\n  const laneToLabelMap: LaneToLabelMap | null =\n    typeof getLaneLabelMap === 'function' ? getLaneLabelMap() : null;\n\n  function markMetadata() {\n    markAndClear(`--react-version-${reactVersion}`);\n    markAndClear(`--profiler-version-${SCHEDULING_PROFILER_VERSION}`);\n\n    const ranges = getInternalModuleRanges();\n    if (ranges) {\n      for (let i = 0; i < ranges.length; i++) {\n        const range = ranges[i];\n        if (isArray(range) && range.length === 2) {\n          const [startStackFrame, stopStackFrame] = ranges[i];\n\n          markAndClear(`--react-internal-module-start-${startStackFrame}`);\n          markAndClear(`--react-internal-module-stop-${stopStackFrame}`);\n        }\n      }\n    }\n\n    if (laneToLabelMap != null) {\n      const labels = Array.from(laneToLabelMap.values()).join(',');\n      markAndClear(`--react-lane-labels-${labels}`);\n    }\n  }\n\n  function markAndClear(markName: string) {\n    // This method won't be called unless these functions are defined, so we can skip the extra typeof check.\n    ((performanceTarget: any): Performance).mark(markName);\n    ((performanceTarget: any): Performance).clearMarks(markName);\n  }\n\n  function recordReactMeasureStarted(\n    type: ReactMeasureType,\n    lanes: Lanes,\n  ): void {\n    // Decide what depth thi work should be rendered at, based on what's on the top of the stack.\n    // It's okay to render over top of \"idle\" work but everything else should be on its own row.\n    let depth = 0;\n    if (currentReactMeasuresStack.length > 0) {\n      const top =\n        currentReactMeasuresStack[currentReactMeasuresStack.length - 1];\n      depth = top.type === 'render-idle' ? top.depth : top.depth + 1;\n    }\n\n    const lanesArray = laneToLanesArray(lanes);\n\n    const reactMeasure: ReactMeasure = {\n      type,\n      batchUID: currentBatchUID,\n      depth,\n      lanes: lanesArray,\n      timestamp: getRelativeTime(),\n      duration: 0,\n    };\n\n    currentReactMeasuresStack.push(reactMeasure);\n\n    if (currentTimelineData) {\n      const {batchUIDToMeasuresMap, laneToReactMeasureMap} =\n        currentTimelineData;\n\n      let reactMeasures = batchUIDToMeasuresMap.get(currentBatchUID);\n      if (reactMeasures != null) {\n        reactMeasures.push(reactMeasure);\n      } else {\n        batchUIDToMeasuresMap.set(currentBatchUID, [reactMeasure]);\n      }\n\n      lanesArray.forEach(lane => {\n        reactMeasures = laneToReactMeasureMap.get(lane);\n        if (reactMeasures) {\n          reactMeasures.push(reactMeasure);\n        }\n      });\n    }\n  }\n\n  function recordReactMeasureCompleted(type: ReactMeasureType): void {\n    const currentTime = getRelativeTime();\n\n    if (currentReactMeasuresStack.length === 0) {\n      console.error(\n        'Unexpected type \"%s\" completed at %sms while currentReactMeasuresStack is empty.',\n        type,\n        currentTime,\n      );\n      // Ignore work \"completion\" user timing mark that doesn't complete anything\n      return;\n    }\n\n    const top = currentReactMeasuresStack.pop();\n    // $FlowFixMe[incompatible-type]\n    // $FlowFixMe[incompatible-use]\n    if (top.type !== type) {\n      console.error(\n        'Unexpected type \"%s\" completed at %sms before \"%s\" completed.',\n        type,\n        currentTime,\n        // $FlowFixMe[incompatible-use]\n        top.type,\n      );\n    }\n\n    // $FlowFixMe[cannot-write] This property should not be writable outside of this function.\n    // $FlowFixMe[incompatible-use]\n    top.duration = currentTime - top.timestamp;\n\n    if (currentTimelineData) {\n      currentTimelineData.duration = getRelativeTime() + TIME_OFFSET;\n    }\n  }\n\n  function markCommitStarted(lanes: Lanes): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    recordReactMeasureStarted('commit', lanes);\n\n    // TODO (timeline) Re-think this approach to \"batching\"; I don't think it works for Suspense or pre-rendering.\n    // This issue applies to the User Timing data also.\n    nextRenderShouldStartNewBatch = true;\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--commit-start-${lanes}`);\n\n      // Some metadata only needs to be logged once per session,\n      // but if profiling information is being recorded via the Performance tab,\n      // DevTools has no way of knowing when the recording starts.\n      // Because of that, we log thie type of data periodically (once per commit).\n      markMetadata();\n    }\n  }\n\n  function markCommitStopped(): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    recordReactMeasureCompleted('commit');\n    recordReactMeasureCompleted('render-idle');\n    if (supportsUserTimingV3) {\n      markAndClear('--commit-stop');\n    }\n  }\n\n  function markComponentRenderStarted(fiber: Fiber): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n    // TODO (timeline) Record and cache component stack\n    currentReactComponentMeasure = {\n      componentName,\n      duration: 0,\n      timestamp: getRelativeTime(),\n      type: 'render',\n      warning: null,\n    };\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--component-render-start-${componentName}`);\n    }\n  }\n\n  function markComponentRenderStopped(): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    if (currentReactComponentMeasure) {\n      if (currentTimelineData) {\n        currentTimelineData.componentMeasures.push(\n          currentReactComponentMeasure,\n        );\n      }\n\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      currentReactComponentMeasure.duration =\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        getRelativeTime() - currentReactComponentMeasure.timestamp;\n      currentReactComponentMeasure = null;\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-render-stop');\n    }\n  }\n\n  function markComponentLayoutEffectMountStarted(fiber: Fiber): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n    // TODO (timeline) Record and cache component stack\n    currentReactComponentMeasure = {\n      componentName,\n      duration: 0,\n      timestamp: getRelativeTime(),\n      type: 'layout-effect-mount',\n      warning: null,\n    };\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--component-layout-effect-mount-start-${componentName}`);\n    }\n  }\n\n  function markComponentLayoutEffectMountStopped(): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    if (currentReactComponentMeasure) {\n      if (currentTimelineData) {\n        currentTimelineData.componentMeasures.push(\n          currentReactComponentMeasure,\n        );\n      }\n\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      currentReactComponentMeasure.duration =\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        getRelativeTime() - currentReactComponentMeasure.timestamp;\n      currentReactComponentMeasure = null;\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-layout-effect-mount-stop');\n    }\n  }\n\n  function markComponentLayoutEffectUnmountStarted(fiber: Fiber): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n    // TODO (timeline) Record and cache component stack\n    currentReactComponentMeasure = {\n      componentName,\n      duration: 0,\n      timestamp: getRelativeTime(),\n      type: 'layout-effect-unmount',\n      warning: null,\n    };\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--component-layout-effect-unmount-start-${componentName}`);\n    }\n  }\n\n  function markComponentLayoutEffectUnmountStopped(): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    if (currentReactComponentMeasure) {\n      if (currentTimelineData) {\n        currentTimelineData.componentMeasures.push(\n          currentReactComponentMeasure,\n        );\n      }\n\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      currentReactComponentMeasure.duration =\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        getRelativeTime() - currentReactComponentMeasure.timestamp;\n      currentReactComponentMeasure = null;\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-layout-effect-unmount-stop');\n    }\n  }\n\n  function markComponentPassiveEffectMountStarted(fiber: Fiber): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n    // TODO (timeline) Record and cache component stack\n    currentReactComponentMeasure = {\n      componentName,\n      duration: 0,\n      timestamp: getRelativeTime(),\n      type: 'passive-effect-mount',\n      warning: null,\n    };\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--component-passive-effect-mount-start-${componentName}`);\n    }\n  }\n\n  function markComponentPassiveEffectMountStopped(): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    if (currentReactComponentMeasure) {\n      if (currentTimelineData) {\n        currentTimelineData.componentMeasures.push(\n          currentReactComponentMeasure,\n        );\n      }\n\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      currentReactComponentMeasure.duration =\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        getRelativeTime() - currentReactComponentMeasure.timestamp;\n      currentReactComponentMeasure = null;\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-passive-effect-mount-stop');\n    }\n  }\n\n  function markComponentPassiveEffectUnmountStarted(fiber: Fiber): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n    // TODO (timeline) Record and cache component stack\n    currentReactComponentMeasure = {\n      componentName,\n      duration: 0,\n      timestamp: getRelativeTime(),\n      type: 'passive-effect-unmount',\n      warning: null,\n    };\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--component-passive-effect-unmount-start-${componentName}`);\n    }\n  }\n\n  function markComponentPassiveEffectUnmountStopped(): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    if (currentReactComponentMeasure) {\n      if (currentTimelineData) {\n        currentTimelineData.componentMeasures.push(\n          currentReactComponentMeasure,\n        );\n      }\n\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      currentReactComponentMeasure.duration =\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        getRelativeTime() - currentReactComponentMeasure.timestamp;\n      currentReactComponentMeasure = null;\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-passive-effect-unmount-stop');\n    }\n  }\n\n  function markComponentErrored(\n    fiber: Fiber,\n    thrownValue: mixed,\n    lanes: Lanes,\n  ): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n    const phase = fiber.alternate === null ? 'mount' : 'update';\n\n    let message = '';\n    if (\n      thrownValue !== null &&\n      typeof thrownValue === 'object' &&\n      typeof thrownValue.message === 'string'\n    ) {\n      message = thrownValue.message;\n    } else if (typeof thrownValue === 'string') {\n      message = thrownValue;\n    }\n\n    // TODO (timeline) Record and cache component stack\n    if (currentTimelineData) {\n      currentTimelineData.thrownErrors.push({\n        componentName,\n        message,\n        phase,\n        timestamp: getRelativeTime(),\n        type: 'thrown-error',\n      });\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--error-${componentName}-${phase}-${message}`);\n    }\n  }\n\n  const PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n\n  // $FlowFixMe[incompatible-type]: Flow cannot handle polymorphic WeakMaps\n  const wakeableIDs: WeakMap<Wakeable, number> = new PossiblyWeakMap();\n  let wakeableID: number = 0;\n  function getWakeableID(wakeable: Wakeable): number {\n    if (!wakeableIDs.has(wakeable)) {\n      wakeableIDs.set(wakeable, wakeableID++);\n    }\n    return ((wakeableIDs.get(wakeable): any): number);\n  }\n\n  function markComponentSuspended(\n    fiber: Fiber,\n    wakeable: Wakeable,\n    lanes: Lanes,\n  ): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    const eventType = wakeableIDs.has(wakeable) ? 'resuspend' : 'suspend';\n    const id = getWakeableID(wakeable);\n    const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n    const phase = fiber.alternate === null ? 'mount' : 'update';\n\n    // Following the non-standard fn.displayName convention,\n    // frameworks like Relay may also annotate Promises with a displayName,\n    // describing what operation/data the thrown Promise is related to.\n    // When this is available we should pass it along to the Timeline.\n    const displayName = (wakeable: any).displayName || '';\n\n    let suspenseEvent: SuspenseEvent | null = null;\n    // TODO (timeline) Record and cache component stack\n    suspenseEvent = {\n      componentName,\n      depth: 0,\n      duration: 0,\n      id: `${id}`,\n      phase,\n      promiseName: displayName,\n      resolution: 'unresolved',\n      timestamp: getRelativeTime(),\n      type: 'suspense',\n      warning: null,\n    };\n\n    if (currentTimelineData) {\n      currentTimelineData.suspenseEvents.push(suspenseEvent);\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(\n        `--suspense-${eventType}-${id}-${componentName}-${phase}-${lanes}-${displayName}`,\n      );\n\n      wakeable.then(\n        () => {\n          if (suspenseEvent) {\n            suspenseEvent.duration =\n              getRelativeTime() - suspenseEvent.timestamp;\n            suspenseEvent.resolution = 'resolved';\n          }\n\n          if (supportsUserTimingV3) {\n            markAndClear(`--suspense-resolved-${id}-${componentName}`);\n          }\n        },\n        () => {\n          if (suspenseEvent) {\n            suspenseEvent.duration =\n              getRelativeTime() - suspenseEvent.timestamp;\n            suspenseEvent.resolution = 'rejected';\n          }\n\n          if (supportsUserTimingV3) {\n            markAndClear(`--suspense-rejected-${id}-${componentName}`);\n          }\n        },\n      );\n    }\n  }\n\n  function markLayoutEffectsStarted(lanes: Lanes): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    recordReactMeasureStarted('layout-effects', lanes);\n    if (supportsUserTimingV3) {\n      markAndClear(`--layout-effects-start-${lanes}`);\n    }\n  }\n\n  function markLayoutEffectsStopped(): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    recordReactMeasureCompleted('layout-effects');\n    if (supportsUserTimingV3) {\n      markAndClear('--layout-effects-stop');\n    }\n  }\n\n  function markPassiveEffectsStarted(lanes: Lanes): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    recordReactMeasureStarted('passive-effects', lanes);\n    if (supportsUserTimingV3) {\n      markAndClear(`--passive-effects-start-${lanes}`);\n    }\n  }\n\n  function markPassiveEffectsStopped(): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    recordReactMeasureCompleted('passive-effects');\n    if (supportsUserTimingV3) {\n      markAndClear('--passive-effects-stop');\n    }\n  }\n\n  function markRenderStarted(lanes: Lanes): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    if (nextRenderShouldStartNewBatch) {\n      nextRenderShouldStartNewBatch = false;\n      currentBatchUID++;\n    }\n\n    // If this is a new batch of work, wrap an \"idle\" measure around it.\n    // Log it before the \"render\" measure to preserve the stack ordering.\n    if (\n      currentReactMeasuresStack.length === 0 ||\n      currentReactMeasuresStack[currentReactMeasuresStack.length - 1].type !==\n        'render-idle'\n    ) {\n      recordReactMeasureStarted('render-idle', lanes);\n    }\n\n    recordReactMeasureStarted('render', lanes);\n    if (supportsUserTimingV3) {\n      markAndClear(`--render-start-${lanes}`);\n    }\n  }\n\n  function markRenderYielded(): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    recordReactMeasureCompleted('render');\n    if (supportsUserTimingV3) {\n      markAndClear('--render-yield');\n    }\n  }\n\n  function markRenderStopped(): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    recordReactMeasureCompleted('render');\n    if (supportsUserTimingV3) {\n      markAndClear('--render-stop');\n    }\n  }\n\n  function markRenderScheduled(lane: Lane): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    if (currentTimelineData) {\n      currentTimelineData.schedulingEvents.push({\n        lanes: laneToLanesArray(lane),\n        timestamp: getRelativeTime(),\n        type: 'schedule-render',\n        warning: null,\n      });\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--schedule-render-${lane}`);\n    }\n  }\n\n  function markForceUpdateScheduled(fiber: Fiber, lane: Lane): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n    // TODO (timeline) Record and cache component stack\n    if (currentTimelineData) {\n      currentTimelineData.schedulingEvents.push({\n        componentName,\n        lanes: laneToLanesArray(lane),\n        timestamp: getRelativeTime(),\n        type: 'schedule-force-update',\n        warning: null,\n      });\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--schedule-forced-update-${lane}-${componentName}`);\n    }\n  }\n\n  function getParentFibers(fiber: Fiber): Array<Fiber> {\n    const parents = [];\n    let parent: null | Fiber = fiber;\n    while (parent !== null) {\n      parents.push(parent);\n      parent = parent.return;\n    }\n    return parents;\n  }\n\n  function markStateUpdateScheduled(fiber: Fiber, lane: Lane): void {\n    if (!isProfiling) {\n      return;\n    }\n\n    const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n    // TODO (timeline) Record and cache component stack\n    if (currentTimelineData) {\n      const event: ReactScheduleStateUpdateEvent = {\n        componentName,\n        // Store the parent fibers so we can post process\n        // them after we finish profiling\n        lanes: laneToLanesArray(lane),\n        timestamp: getRelativeTime(),\n        type: 'schedule-state-update',\n        warning: null,\n      };\n      currentFiberStacks.set(event, getParentFibers(fiber));\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      currentTimelineData.schedulingEvents.push(event);\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--schedule-state-update-${lane}-${componentName}`);\n    }\n  }\n\n  function toggleProfilingStatus(\n    value: boolean,\n    recordTimeline: boolean = false,\n  ) {\n    if (isProfiling !== value) {\n      isProfiling = value;\n\n      if (isProfiling) {\n        const internalModuleSourceToRanges: InternalModuleSourceToRanges =\n          new Map();\n\n        if (supportsUserTimingV3) {\n          const ranges = getInternalModuleRanges();\n          if (ranges) {\n            for (let i = 0; i < ranges.length; i++) {\n              const range = ranges[i];\n              if (isArray(range) && range.length === 2) {\n                const [startStackFrame, stopStackFrame] = ranges[i];\n\n                markAndClear(\n                  `--react-internal-module-start-${startStackFrame}`,\n                );\n                markAndClear(`--react-internal-module-stop-${stopStackFrame}`);\n              }\n            }\n          }\n        }\n\n        const laneToReactMeasureMap = new Map<ReactLane, ReactMeasure[]>();\n        let lane = 1;\n        for (let index = 0; index < REACT_TOTAL_NUM_LANES; index++) {\n          laneToReactMeasureMap.set(lane, []);\n          lane *= 2;\n        }\n\n        currentBatchUID = 0;\n        currentReactComponentMeasure = null;\n        currentReactMeasuresStack = [];\n        currentFiberStacks = new Map();\n        if (recordTimeline) {\n          currentTimelineData = {\n            // Session wide metadata; only collected once.\n            internalModuleSourceToRanges,\n            laneToLabelMap: laneToLabelMap || new Map(),\n            reactVersion,\n\n            // Data logged by React during profiling session.\n            componentMeasures: [],\n            schedulingEvents: [],\n            suspenseEvents: [],\n            thrownErrors: [],\n\n            // Data inferred based on what React logs.\n            batchUIDToMeasuresMap: new Map(),\n            duration: 0,\n            laneToReactMeasureMap,\n            startTime: 0,\n\n            // Data only available in Chrome profiles.\n            flamechart: [],\n            nativeEvents: [],\n            networkMeasures: [],\n            otherUserTimingMarks: [],\n            snapshots: [],\n            snapshotHeight: 0,\n          };\n        }\n        nextRenderShouldStartNewBatch = true;\n      } else {\n        // This is __EXPENSIVE__.\n        // We could end up with hundreds of state updated, and for each one of them\n        // would try to create a component stack with possibly hundreds of Fibers.\n        // Creating a cache of component stacks won't help, generating a single stack is already expensive enough.\n        // We should find a way to lazily generate component stacks on demand, when user inspects a specific event.\n        // If we succeed with moving React DevTools Timeline Profiler to Performance panel, then Timeline Profiler would probably be removed.\n        // Now that owner stacks are adopted, revisit this again and cache component stacks per Fiber,\n        // but only return them when needed, sending hundreds of component stacks is beyond the Bridge's bandwidth.\n\n        // Postprocess Profile data\n        if (currentTimelineData !== null) {\n          currentTimelineData.schedulingEvents.forEach(event => {\n            if (event.type === 'schedule-state-update') {\n              // TODO(luna): We can optimize this by creating a map of\n              // fiber to component stack instead of generating the stack\n              // for every fiber every time\n              const fiberStack = currentFiberStacks.get(event);\n              if (fiberStack && currentDispatcherRef != null) {\n                event.componentStack = fiberStack.reduce((trace, fiber) => {\n                  return (\n                    trace +\n                    describeFiber(workTagMap, fiber, currentDispatcherRef)\n                  );\n                }, '');\n              }\n            }\n          });\n        }\n\n        // Clear the current fiber stacks so we don't hold onto the fibers\n        // in memory after profiling finishes\n        currentFiberStacks.clear();\n      }\n    }\n  }\n\n  return {\n    getTimelineData,\n    profilingHooks: {\n      markCommitStarted,\n      markCommitStopped,\n      markComponentRenderStarted,\n      markComponentRenderStopped,\n      markComponentPassiveEffectMountStarted,\n      markComponentPassiveEffectMountStopped,\n      markComponentPassiveEffectUnmountStarted,\n      markComponentPassiveEffectUnmountStopped,\n      markComponentLayoutEffectMountStarted,\n      markComponentLayoutEffectMountStopped,\n      markComponentLayoutEffectUnmountStarted,\n      markComponentLayoutEffectUnmountStopped,\n      markComponentErrored,\n      markComponentSuspended,\n      markLayoutEffectsStarted,\n      markLayoutEffectsStopped,\n      markPassiveEffectsStarted,\n      markPassiveEffectsStopped,\n      markRenderStarted,\n      markRenderYielded,\n      markRenderStopped,\n      markRenderScheduled,\n      markForceUpdateScheduled,\n      markStateUpdateScheduled,\n    },\n    toggleProfilingStatus,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {\n  Thenable,\n  ReactComponentInfo,\n  ReactDebugInfo,\n  ReactAsyncInfo,\n  ReactIOInfo,\n  ReactStackTrace,\n  ReactCallSite,\n  Wakeable,\n} from 'shared/ReactTypes';\n\nimport type {HooksTree} from 'react-debug-tools/src/ReactDebugHooks';\n\nimport {\n  ComponentFilterDisplayName,\n  ComponentFilterElementType,\n  ComponentFilterHOC,\n  ComponentFilterLocation,\n  ComponentFilterEnvironmentName,\n  ElementTypeClass,\n  ElementTypeContext,\n  ElementTypeFunction,\n  ElementTypeForwardRef,\n  ElementTypeHostComponent,\n  ElementTypeMemo,\n  ElementTypeOtherOrUnknown,\n  ElementTypeProfiler,\n  ElementTypeRoot,\n  ElementTypeSuspense,\n  ElementTypeSuspenseList,\n  ElementTypeTracingMarker,\n  ElementTypeViewTransition,\n  ElementTypeActivity,\n  ElementTypeVirtual,\n  StrictMode,\n} from 'react-devtools-shared/src/frontend/types';\nimport {\n  deletePathInObject,\n  getDisplayName,\n  getWrappedDisplayName,\n  getDefaultComponentFilters,\n  getInObject,\n  getUID,\n  renamePathInObject,\n  setInObject,\n  utfEncodeString,\n  filterOutLocationComponentFilters,\n} from 'react-devtools-shared/src/utils';\nimport {\n  formatConsoleArgumentsToSingleString,\n  formatDurationToMicrosecondsGranularity,\n  gt,\n  gte,\n  serializeToString,\n} from 'react-devtools-shared/src/backend/utils';\nimport {\n  extractLocationFromComponentStack,\n  extractLocationFromOwnerStack,\n  parseStackTrace,\n} from 'react-devtools-shared/src/backend/utils/parseStackTrace';\nimport {\n  cleanForBridge,\n  copyWithDelete,\n  copyWithRename,\n  copyWithSet,\n  getEffectDurations,\n} from '../utils';\nimport {\n  __DEBUG__,\n  PROFILING_FLAG_BASIC_SUPPORT,\n  PROFILING_FLAG_TIMELINE_SUPPORT,\n  PROFILING_FLAG_PERFORMANCE_TRACKS_SUPPORT,\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REORDER_CHILDREN,\n  TREE_OPERATION_SET_SUBTREE_MODE,\n  TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS,\n  TREE_OPERATION_UPDATE_TREE_BASE_DURATION,\n  SUSPENSE_TREE_OPERATION_ADD,\n  SUSPENSE_TREE_OPERATION_REMOVE,\n  SUSPENSE_TREE_OPERATION_REORDER_CHILDREN,\n  SUSPENSE_TREE_OPERATION_RESIZE,\n  SUSPENSE_TREE_OPERATION_SUSPENDERS,\n  UNKNOWN_SUSPENDERS_NONE,\n  UNKNOWN_SUSPENDERS_REASON_PRODUCTION,\n  UNKNOWN_SUSPENDERS_REASON_OLD_VERSION,\n  UNKNOWN_SUSPENDERS_REASON_THROWN_PROMISE,\n} from '../../constants';\nimport {inspectHooksOfFiber} from 'react-debug-tools';\nimport {\n  CONCURRENT_MODE_NUMBER,\n  CONCURRENT_MODE_SYMBOL_STRING,\n  DEPRECATED_ASYNC_MODE_SYMBOL_STRING,\n  PROVIDER_NUMBER,\n  PROVIDER_SYMBOL_STRING,\n  CONTEXT_NUMBER,\n  CONTEXT_SYMBOL_STRING,\n  CONSUMER_SYMBOL_STRING,\n  STRICT_MODE_NUMBER,\n  STRICT_MODE_SYMBOL_STRING,\n  PROFILER_NUMBER,\n  PROFILER_SYMBOL_STRING,\n  REACT_MEMO_CACHE_SENTINEL,\n  SCOPE_NUMBER,\n  SCOPE_SYMBOL_STRING,\n  FORWARD_REF_NUMBER,\n  FORWARD_REF_SYMBOL_STRING,\n  MEMO_NUMBER,\n  MEMO_SYMBOL_STRING,\n  SERVER_CONTEXT_SYMBOL_STRING,\n  LAZY_SYMBOL_STRING,\n} from '../shared/ReactSymbols';\nimport {enableStyleXFeatures} from 'react-devtools-feature-flags';\n\nimport {componentInfoToComponentLogsMap} from '../shared/DevToolsServerComponentLogs';\n\nimport is from 'shared/objectIs';\nimport hasOwnProperty from 'shared/hasOwnProperty';\n\nimport {getIODescription} from 'shared/ReactIODescription';\n\nimport {\n  getStackByFiberInDevAndProd,\n  getOwnerStackByFiberInDev,\n  supportsOwnerStacks,\n  supportsConsoleTasks,\n} from './DevToolsFiberComponentStack';\n\n// $FlowFixMe[method-unbinding]\nconst toString = Object.prototype.toString;\n\nfunction isError(object: mixed) {\n  return toString.call(object) === '[object Error]';\n}\n\nimport {getStyleXData} from '../StyleX/utils';\nimport {createProfilingHooks} from '../profilingHooks';\n\nimport type {GetTimelineData, ToggleProfilingStatus} from '../profilingHooks';\nimport type {Fiber, FiberRoot} from 'react-reconciler/src/ReactInternalTypes';\nimport type {\n  ChangeDescription,\n  CommitDataBackend,\n  DevToolsHook,\n  InspectedElement,\n  InspectedElementPayload,\n  InstanceAndStyle,\n  HostInstance,\n  PathFrame,\n  PathMatch,\n  ProfilingDataBackend,\n  ProfilingDataForRootBackend,\n  ReactRenderer,\n  RendererInterface,\n  SerializedElement,\n  SerializedAsyncInfo,\n  WorkTagMap,\n  CurrentDispatcherRef,\n  LegacyDispatcherRef,\n  ProfilingSettings,\n} from '../types';\nimport type {\n  ComponentFilter,\n  ElementType,\n  Plugins,\n} from 'react-devtools-shared/src/frontend/types';\nimport type {ReactFunctionLocation} from 'shared/ReactTypes';\nimport {getSourceLocationByFiber} from './DevToolsFiberComponentStack';\nimport {formatOwnerStack} from '../shared/DevToolsOwnerStack';\n\n// Kinds\nconst FIBER_INSTANCE = 0;\nconst VIRTUAL_INSTANCE = 1;\nconst FILTERED_FIBER_INSTANCE = 2;\n\n// This type represents a stateful instance of a Client Component i.e. a Fiber pair.\n// These instances also let us track stateful DevTools meta data like id and warnings.\ntype FiberInstance = {\n  kind: 0,\n  id: number,\n  parent: null | DevToolsInstance,\n  firstChild: null | DevToolsInstance,\n  nextSibling: null | DevToolsInstance,\n  source: null | string | Error | ReactFunctionLocation, // source location of this component function, or owned child stack\n  logCount: number, // total number of errors/warnings last seen\n  treeBaseDuration: number, // the profiled time of the last render of this subtree\n  suspendedBy: null | Array<ReactAsyncInfo>, // things that suspended in the children position of this component\n  suspenseNode: null | SuspenseNode,\n  data: Fiber, // one of a Fiber pair\n};\n\nfunction createFiberInstance(fiber: Fiber): FiberInstance {\n  return {\n    kind: FIBER_INSTANCE,\n    id: getUID(),\n    parent: null,\n    firstChild: null,\n    nextSibling: null,\n    source: null,\n    logCount: 0,\n    treeBaseDuration: 0,\n    suspendedBy: null,\n    suspenseNode: null,\n    data: fiber,\n  };\n}\n\ntype FilteredFiberInstance = {\n  kind: 2,\n  // We exclude id from the type to get errors if we try to access it.\n  // However it is still in the object to preserve hidden class.\n  // id: number,\n  parent: null | DevToolsInstance,\n  firstChild: null | DevToolsInstance,\n  nextSibling: null | DevToolsInstance,\n  source: null | string | Error | ReactFunctionLocation, // always null here.\n  logCount: number, // total number of errors/warnings last seen\n  treeBaseDuration: number, // the profiled time of the last render of this subtree\n  suspendedBy: null | Array<ReactAsyncInfo>, // only used at the root\n  suspenseNode: null | SuspenseNode,\n  data: Fiber, // one of a Fiber pair\n};\n\n// This is used to represent a filtered Fiber but still lets us find its host instance.\nfunction createFilteredFiberInstance(fiber: Fiber): FilteredFiberInstance {\n  return ({\n    kind: FILTERED_FIBER_INSTANCE,\n    id: 0,\n    parent: null,\n    firstChild: null,\n    nextSibling: null,\n    source: null,\n    logCount: 0,\n    treeBaseDuration: 0,\n    suspendedBy: null,\n    suspenseNode: null,\n    data: fiber,\n  }: any);\n}\n\n// This type represents a stateful instance of a Server Component or a Component\n// that gets optimized away - e.g. call-through without creating a Fiber.\n// It's basically a virtual Fiber. This is not a semantic concept in React.\n// It only exists as a virtual concept to let the same Element in the DevTools\n// persist. To be selectable separately from all ReactComponentInfo and overtime.\ntype VirtualInstance = {\n  kind: 1,\n  id: number,\n  parent: null | DevToolsInstance,\n  firstChild: null | DevToolsInstance,\n  nextSibling: null | DevToolsInstance,\n  source: null | string | Error | ReactFunctionLocation, // source location of this server component, or owned child stack\n  logCount: number, // total number of errors/warnings last seen\n  treeBaseDuration: number, // the profiled time of the last render of this subtree\n  suspendedBy: null | Array<ReactAsyncInfo>, // things that blocked the server component's child from rendering\n  suspenseNode: null,\n  // The latest info for this instance. This can be updated over time and the\n  // same info can appear in more than once ServerComponentInstance.\n  data: ReactComponentInfo,\n};\n\nfunction createVirtualInstance(\n  debugEntry: ReactComponentInfo,\n): VirtualInstance {\n  return {\n    kind: VIRTUAL_INSTANCE,\n    id: getUID(),\n    parent: null,\n    firstChild: null,\n    nextSibling: null,\n    source: null,\n    logCount: 0,\n    treeBaseDuration: 0,\n    suspendedBy: null,\n    suspenseNode: null,\n    data: debugEntry,\n  };\n}\n\ntype DevToolsInstance = FiberInstance | VirtualInstance | FilteredFiberInstance;\n\n// A Generic Rect super type which can include DOMRect and other objects with similar shape like in React Native.\ntype Rect = {x: number, y: number, width: number, height: number, ...};\n\ntype SuspenseNode = {\n  // The Instance can be a Suspense boundary, a SuspenseList Row, or HostRoot.\n  // It can also be disconnected from the main tree if it's a Filtered Instance.\n  instance: FiberInstance | FilteredFiberInstance,\n  parent: null | SuspenseNode,\n  firstChild: null | SuspenseNode,\n  nextSibling: null | SuspenseNode,\n  rects: null | Array<Rect>, // The bounding rects of content children.\n  suspendedBy: Map<ReactIOInfo, Set<DevToolsInstance>>, // Tracks which data we're suspended by and the children that suspend it.\n  environments: Map<string, number>, // Tracks the Flight environment names that suspended this. I.e. if the server blocked this.\n  // Track whether any of the items in suspendedBy are unique this this Suspense boundaries or if they're all\n  // also in the parent sets. This determine whether this could contribute in the loading sequence.\n  hasUniqueSuspenders: boolean,\n  // Track whether anything suspended in this boundary that we can't track either because it was using throw\n  // a promise, an older version of React or because we're inspecting prod.\n  hasUnknownSuspenders: boolean,\n};\n\n// Update flags need to be propagated up until the caller that put the corresponding\n// node on the stack.\n// If you push a new node, you need to handle ShouldResetChildren when you pop it.\n// If you push a new Suspense node, you need to handle ShouldResetSuspenseChildren when you pop it.\ntype UpdateFlags = number;\nconst NoUpdate = /*                          */ 0b000;\nconst ShouldResetChildren = /*               */ 0b001;\nconst ShouldResetSuspenseChildren = /*       */ 0b010;\nconst ShouldResetParentSuspenseChildren = /* */ 0b100;\n\nfunction createSuspenseNode(\n  instance: FiberInstance | FilteredFiberInstance,\n): SuspenseNode {\n  return (instance.suspenseNode = {\n    instance: instance,\n    parent: null,\n    firstChild: null,\n    nextSibling: null,\n    rects: null,\n    suspendedBy: new Map(),\n    environments: new Map(),\n    hasUniqueSuspenders: false,\n    hasUnknownSuspenders: false,\n  });\n}\n\ntype getDisplayNameForFiberType = (fiber: Fiber) => string | null;\ntype getTypeSymbolType = (type: any) => symbol | string | number;\n\ntype ReactPriorityLevelsType = {\n  ImmediatePriority: number,\n  UserBlockingPriority: number,\n  NormalPriority: number,\n  LowPriority: number,\n  IdlePriority: number,\n  NoPriority: number,\n};\n\nexport function getDispatcherRef(renderer: {\n  +currentDispatcherRef?: LegacyDispatcherRef | CurrentDispatcherRef,\n  ...\n}): void | CurrentDispatcherRef {\n  if (renderer.currentDispatcherRef === undefined) {\n    return undefined;\n  }\n  const injectedRef = renderer.currentDispatcherRef;\n  if (\n    typeof injectedRef.H === 'undefined' &&\n    typeof injectedRef.current !== 'undefined'\n  ) {\n    // We got a legacy dispatcher injected, let's create a wrapper proxy to translate.\n    return {\n      get H() {\n        return (injectedRef: any).current;\n      },\n      set H(value) {\n        (injectedRef: any).current = value;\n      },\n    };\n  }\n  return (injectedRef: any);\n}\n\nfunction getFiberFlags(fiber: Fiber): number {\n  // The name of this field changed from \"effectTag\" to \"flags\"\n  return fiber.flags !== undefined ? fiber.flags : (fiber: any).effectTag;\n}\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  // $FlowFixMe[method-unbinding]\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\nexport function getInternalReactConstants(version: string): {\n  getDisplayNameForFiber: getDisplayNameForFiberType,\n  getTypeSymbol: getTypeSymbolType,\n  ReactPriorityLevels: ReactPriorityLevelsType,\n  ReactTypeOfWork: WorkTagMap,\n  StrictModeBits: number,\n  SuspenseyImagesMode: number,\n} {\n  // **********************************************************\n  // The section below is copied from files in React repo.\n  // Keep it in sync, and add version guards if it changes.\n  //\n  // Technically these priority levels are invalid for versions before 16.9,\n  // but 16.9 is the first version to report priority level to DevTools,\n  // so we can avoid checking for earlier versions and support pre-16.9 canary releases in the process.\n  let ReactPriorityLevels: ReactPriorityLevelsType = {\n    ImmediatePriority: 99,\n    UserBlockingPriority: 98,\n    NormalPriority: 97,\n    LowPriority: 96,\n    IdlePriority: 95,\n    NoPriority: 90,\n  };\n\n  if (gt(version, '17.0.2')) {\n    ReactPriorityLevels = {\n      ImmediatePriority: 1,\n      UserBlockingPriority: 2,\n      NormalPriority: 3,\n      LowPriority: 4,\n      IdlePriority: 5,\n      NoPriority: 0,\n    };\n  }\n\n  let StrictModeBits = 0;\n  if (gte(version, '18.0.0-alpha')) {\n    // 18+\n    StrictModeBits = 0b011000;\n  } else if (gte(version, '16.9.0')) {\n    // 16.9 - 17\n    StrictModeBits = 0b1;\n  } else if (gte(version, '16.3.0')) {\n    // 16.3 - 16.8\n    StrictModeBits = 0b10;\n  }\n\n  const SuspenseyImagesMode = 0b0100000;\n\n  let ReactTypeOfWork: WorkTagMap = ((null: any): WorkTagMap);\n\n  // **********************************************************\n  // The section below is copied from files in React repo.\n  // Keep it in sync, and add version guards if it changes.\n  //\n  // TODO Update the gt() check below to be gte() whichever the next version number is.\n  // Currently the version in Git is 17.0.2 (but that version has not been/may not end up being released).\n  if (gt(version, '17.0.1')) {\n    ReactTypeOfWork = {\n      CacheComponent: 24, // Experimental\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: 26, // In reality, 18.2+. But doesn't hurt to include it here\n      HostSingleton: 27, // Same as above\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IncompleteFunctionComponent: 28,\n      IndeterminateComponent: 2, // removed in 19.0.0\n      LazyComponent: 16,\n      LegacyHiddenComponent: 23, // Does not exist in 18+ OSS but exists in fb builds\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: 22, // Experimental in 17. Stable in 18+\n      Profiler: 12,\n      ScopeComponent: 21, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: 25, // Experimental - This is technically in 18 but we don't\n      // want to fork again so we're adding it here instead\n      YieldComponent: -1, // Removed\n      Throw: 29,\n      ViewTransitionComponent: 30, // Experimental\n      ActivityComponent: 31,\n    };\n  } else if (gte(version, '17.0.0-alpha')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      LegacyHiddenComponent: 24,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: 23, // Experimental\n      Profiler: 12,\n      ScopeComponent: 21, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n      Throw: -1, // Doesn't exist yet\n      ViewTransitionComponent: -1, // Doesn't exist yet\n      ActivityComponent: -1, // Doesn't exist yet\n    };\n  } else if (gte(version, '16.6.0-beta.0')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      LegacyHiddenComponent: -1,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 12,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n      Throw: -1, // Doesn't exist yet\n      ViewTransitionComponent: -1, // Doesn't exist yet\n      ActivityComponent: -1, // Doesn't exist yet\n    };\n  } else if (gte(version, '16.4.3-alpha')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 2,\n      ContextConsumer: 11,\n      ContextProvider: 12,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: -1, // Doesn't exist yet\n      ForwardRef: 13,\n      Fragment: 9,\n      FunctionComponent: 0,\n      HostComponent: 7,\n      HostPortal: 6,\n      HostRoot: 5,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 8,\n      IncompleteClassComponent: -1, // Doesn't exist yet\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 4,\n      LazyComponent: -1, // Doesn't exist yet\n      LegacyHiddenComponent: -1,\n      MemoComponent: -1, // Doesn't exist yet\n      Mode: 10,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 15,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: -1, // Doesn't exist yet\n      SuspenseComponent: 16,\n      SuspenseListComponent: -1, // Doesn't exist yet\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n      Throw: -1, // Doesn't exist yet\n      ViewTransitionComponent: -1, // Doesn't exist yet\n      ActivityComponent: -1, // Doesn't exist yet\n    };\n  } else {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 2,\n      ContextConsumer: 12,\n      ContextProvider: 13,\n      CoroutineComponent: 7,\n      CoroutineHandlerPhase: 8,\n      DehydratedSuspenseComponent: -1, // Doesn't exist yet\n      ForwardRef: 14,\n      Fragment: 10,\n      FunctionComponent: 1,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: -1, // Doesn't exist yet\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 0,\n      LazyComponent: -1, // Doesn't exist yet\n      LegacyHiddenComponent: -1,\n      MemoComponent: -1, // Doesn't exist yet\n      Mode: 11,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 15,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: -1, // Doesn't exist yet\n      SuspenseComponent: 16,\n      SuspenseListComponent: -1, // Doesn't exist yet\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: 9,\n      Throw: -1, // Doesn't exist yet\n      ViewTransitionComponent: -1, // Doesn't exist yet\n      ActivityComponent: -1, // Doesn't exist yet\n    };\n  }\n  // **********************************************************\n  // End of copied code.\n  // **********************************************************\n\n  function getTypeSymbol(type: any): symbol | string | number {\n    const symbolOrNumber =\n      typeof type === 'object' && type !== null ? type.$$typeof : type;\n\n    return typeof symbolOrNumber === 'symbol'\n      ? symbolOrNumber.toString()\n      : symbolOrNumber;\n  }\n\n  const {\n    CacheComponent,\n    ClassComponent,\n    IncompleteClassComponent,\n    IncompleteFunctionComponent,\n    FunctionComponent,\n    IndeterminateComponent,\n    ForwardRef,\n    HostRoot,\n    HostHoistable,\n    HostSingleton,\n    HostComponent,\n    HostPortal,\n    HostText,\n    Fragment,\n    LazyComponent,\n    LegacyHiddenComponent,\n    MemoComponent,\n    OffscreenComponent,\n    Profiler,\n    ScopeComponent,\n    SimpleMemoComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    TracingMarkerComponent,\n    Throw,\n    ViewTransitionComponent,\n    ActivityComponent,\n  } = ReactTypeOfWork;\n\n  function resolveFiberType(type: any): $FlowFixMe {\n    const typeSymbol = getTypeSymbol(type);\n    switch (typeSymbol) {\n      case MEMO_NUMBER:\n      case MEMO_SYMBOL_STRING:\n        // recursively resolving memo type in case of memo(forwardRef(Component))\n        return resolveFiberType(type.type);\n      case FORWARD_REF_NUMBER:\n      case FORWARD_REF_SYMBOL_STRING:\n        return type.render;\n      default:\n        return type;\n    }\n  }\n\n  // NOTICE Keep in sync with shouldFilterFiber() and other get*ForFiber methods\n  function getDisplayNameForFiber(\n    fiber: Fiber,\n    shouldSkipForgetCheck: boolean = false,\n  ): string | null {\n    const {elementType, type, tag} = fiber;\n\n    let resolvedType = type;\n    if (typeof type === 'object' && type !== null) {\n      resolvedType = resolveFiberType(type);\n    }\n\n    let resolvedContext: any = null;\n    if (\n      !shouldSkipForgetCheck &&\n      // $FlowFixMe[incompatible-type] fiber.updateQueue is mixed\n      (fiber.updateQueue?.memoCache != null ||\n        (Array.isArray(fiber.memoizedState?.memoizedState) &&\n          fiber.memoizedState.memoizedState[0]?.[REACT_MEMO_CACHE_SENTINEL]) ||\n        fiber.memoizedState?.memoizedState?.[REACT_MEMO_CACHE_SENTINEL])\n    ) {\n      const displayNameWithoutForgetWrapper = getDisplayNameForFiber(\n        fiber,\n        true,\n      );\n      if (displayNameWithoutForgetWrapper == null) {\n        return null;\n      }\n\n      return `Forget(${displayNameWithoutForgetWrapper})`;\n    }\n\n    switch (tag) {\n      case ActivityComponent:\n        return 'Activity';\n      case CacheComponent:\n        return 'Cache';\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IncompleteFunctionComponent:\n      case FunctionComponent:\n      case IndeterminateComponent:\n        return getDisplayName(resolvedType);\n      case ForwardRef:\n        return getWrappedDisplayName(\n          elementType,\n          resolvedType,\n          'ForwardRef',\n          'Anonymous',\n        );\n      case HostRoot:\n        const fiberRoot = fiber.stateNode;\n        if (fiberRoot != null && fiberRoot._debugRootType !== null) {\n          return fiberRoot._debugRootType;\n        }\n        return null;\n      case HostComponent:\n      case HostSingleton:\n      case HostHoistable:\n        return type;\n      case HostPortal:\n      case HostText:\n        return null;\n      case Fragment:\n        return 'Fragment';\n      case LazyComponent:\n        // This display name will not be user visible.\n        // Once a Lazy component loads its inner component, React replaces the tag and type.\n        // This display name will only show up in console logs when DevTools DEBUG mode is on.\n        return 'Lazy';\n      case MemoComponent:\n      case SimpleMemoComponent:\n        // Display name in React does not use `Memo` as a wrapper but fallback name.\n        return getWrappedDisplayName(\n          elementType,\n          resolvedType,\n          'Memo',\n          'Anonymous',\n        );\n      case SuspenseComponent:\n        return 'Suspense';\n      case LegacyHiddenComponent:\n        return 'LegacyHidden';\n      case OffscreenComponent:\n        return 'Offscreen';\n      case ScopeComponent:\n        return 'Scope';\n      case SuspenseListComponent:\n        return 'SuspenseList';\n      case Profiler:\n        return 'Profiler';\n      case TracingMarkerComponent:\n        return 'TracingMarker';\n      case ViewTransitionComponent:\n        return 'ViewTransition';\n      case Throw:\n        // This should really never be visible.\n        return 'Error';\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n            return null;\n          case PROVIDER_NUMBER:\n          case PROVIDER_SYMBOL_STRING:\n            // 16.3.0 exposed the context object as \"context\"\n            // PR #12501 changed it to \"_context\" for 16.3.1+\n            // NOTE Keep in sync with inspectElementRaw()\n            resolvedContext = fiber.type._context || fiber.type.context;\n            return `${resolvedContext.displayName || 'Context'}.Provider`;\n          case CONTEXT_NUMBER:\n          case CONTEXT_SYMBOL_STRING:\n          case SERVER_CONTEXT_SYMBOL_STRING:\n            if (\n              fiber.type._context === undefined &&\n              fiber.type.Provider === fiber.type\n            ) {\n              // In 19+, Context.Provider === Context, so this is a provider.\n              resolvedContext = fiber.type;\n              return `${resolvedContext.displayName || 'Context'}.Provider`;\n            }\n\n            // 16.3-16.5 read from \"type\" because the Consumer is the actual context object.\n            // 16.6+ should read from \"type._context\" because Consumer can be different (in DEV).\n            // NOTE Keep in sync with inspectElementRaw()\n            resolvedContext = fiber.type._context || fiber.type;\n\n            // NOTE: TraceUpdatesBackendManager depends on the name ending in '.Consumer'\n            // If you change the name, figure out a more resilient way to detect it.\n            return `${resolvedContext.displayName || 'Context'}.Consumer`;\n          case CONSUMER_SYMBOL_STRING:\n            // 19+\n            resolvedContext = fiber.type._context;\n            return `${resolvedContext.displayName || 'Context'}.Consumer`;\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return null;\n          case PROFILER_NUMBER:\n          case PROFILER_SYMBOL_STRING:\n            return `Profiler(${fiber.memoizedProps.id})`;\n          case SCOPE_NUMBER:\n          case SCOPE_SYMBOL_STRING:\n            return 'Scope';\n          default:\n            // Unknown element type.\n            // This may mean a new element type that has not yet been added to DevTools.\n            return null;\n        }\n    }\n  }\n\n  return {\n    getDisplayNameForFiber,\n    getTypeSymbol,\n    ReactPriorityLevels,\n    ReactTypeOfWork,\n    StrictModeBits,\n    SuspenseyImagesMode,\n  };\n}\n\n// All environment names we've seen so far. This lets us create a list of filters to apply.\n// This should ideally include env of filtered Components too so that you can add those as\n// filters at the same time as removing some other filter.\nconst knownEnvironmentNames: Set<string> = new Set();\n\n// Map of FiberRoot to their root FiberInstance.\nconst rootToFiberInstanceMap: Map<FiberRoot, FiberInstance> = new Map();\n\n// Map of id to FiberInstance or VirtualInstance.\n// This Map is used to e.g. get the display name for a Fiber or schedule an update,\n// operations that should be the same whether the current and work-in-progress Fiber is used.\nconst idToDevToolsInstanceMap: Map<\n  FiberInstance['id'] | VirtualInstance['id'],\n  FiberInstance | VirtualInstance,\n> = new Map();\n\nconst idToSuspenseNodeMap: Map<FiberInstance['id'], SuspenseNode> = new Map();\n\n// Map of canonical HostInstances to the nearest parent DevToolsInstance.\nconst publicInstanceToDevToolsInstanceMap: Map<HostInstance, DevToolsInstance> =\n  new Map();\n// Map of resource DOM nodes to all the nearest DevToolsInstances that depend on it.\nconst hostResourceToDevToolsInstanceMap: Map<\n  HostInstance,\n  Set<DevToolsInstance>,\n> = new Map();\n\n// Ideally, this should be injected from Reconciler config\nfunction getPublicInstance(instance: HostInstance): HostInstance {\n  // Typically the PublicInstance and HostInstance is the same thing but not in Fabric.\n  // So we need to detect this and use that as the public instance.\n\n  // React Native. Modern. Fabric.\n  if (typeof instance === 'object' && instance !== null) {\n    if (typeof instance.canonical === 'object' && instance.canonical !== null) {\n      if (\n        typeof instance.canonical.publicInstance === 'object' &&\n        instance.canonical.publicInstance !== null\n      ) {\n        return instance.canonical.publicInstance;\n      }\n    }\n\n    // React Native. Legacy. Paper.\n    if (typeof instance._nativeTag === 'number') {\n      return instance._nativeTag;\n    }\n  }\n\n  // React Web. Usually a DOM element.\n  return instance;\n}\n\nfunction getNativeTag(instance: HostInstance): number | null {\n  if (typeof instance !== 'object' || instance === null) {\n    return null;\n  }\n\n  // Modern. Fabric.\n  if (\n    instance.canonical != null &&\n    typeof instance.canonical.nativeTag === 'number'\n  ) {\n    return instance.canonical.nativeTag;\n  }\n\n  // Legacy.  Paper.\n  if (typeof instance._nativeTag === 'number') {\n    return instance._nativeTag;\n  }\n\n  return null;\n}\n\nfunction aquireHostInstance(\n  nearestInstance: DevToolsInstance,\n  hostInstance: HostInstance,\n): void {\n  const publicInstance = getPublicInstance(hostInstance);\n  publicInstanceToDevToolsInstanceMap.set(publicInstance, nearestInstance);\n}\n\nfunction releaseHostInstance(\n  nearestInstance: DevToolsInstance,\n  hostInstance: HostInstance,\n): void {\n  const publicInstance = getPublicInstance(hostInstance);\n  if (\n    publicInstanceToDevToolsInstanceMap.get(publicInstance) === nearestInstance\n  ) {\n    publicInstanceToDevToolsInstanceMap.delete(publicInstance);\n  }\n}\n\nfunction aquireHostResource(\n  nearestInstance: DevToolsInstance,\n  resource: ?{instance?: HostInstance},\n): void {\n  const hostInstance = resource && resource.instance;\n  if (hostInstance) {\n    const publicInstance = getPublicInstance(hostInstance);\n    let resourceInstances =\n      hostResourceToDevToolsInstanceMap.get(publicInstance);\n    if (resourceInstances === undefined) {\n      resourceInstances = new Set();\n      hostResourceToDevToolsInstanceMap.set(publicInstance, resourceInstances);\n      // Store the first match in the main map for quick access when selecting DOM node.\n      publicInstanceToDevToolsInstanceMap.set(publicInstance, nearestInstance);\n    }\n    resourceInstances.add(nearestInstance);\n  }\n}\n\nfunction releaseHostResource(\n  nearestInstance: DevToolsInstance,\n  resource: ?{instance?: HostInstance},\n): void {\n  const hostInstance = resource && resource.instance;\n  if (hostInstance) {\n    const publicInstance = getPublicInstance(hostInstance);\n    const resourceInstances =\n      hostResourceToDevToolsInstanceMap.get(publicInstance);\n    if (resourceInstances !== undefined) {\n      resourceInstances.delete(nearestInstance);\n      if (resourceInstances.size === 0) {\n        hostResourceToDevToolsInstanceMap.delete(publicInstance);\n        publicInstanceToDevToolsInstanceMap.delete(publicInstance);\n      } else if (\n        publicInstanceToDevToolsInstanceMap.get(publicInstance) ===\n        nearestInstance\n      ) {\n        // This was the first one. Store the next first one in the main map for easy access.\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const firstInstance of resourceInstances) {\n          publicInstanceToDevToolsInstanceMap.set(\n            firstInstance,\n            nearestInstance,\n          );\n          break;\n        }\n      }\n    }\n  }\n}\n\nexport function attach(\n  hook: DevToolsHook,\n  rendererID: number,\n  renderer: ReactRenderer,\n  global: Object,\n  shouldStartProfilingNow: boolean,\n  profilingSettings: ProfilingSettings,\n): RendererInterface {\n  // Newer versions of the reconciler package also specific reconciler version.\n  // If that version number is present, use it.\n  // Third party renderer versions may not match the reconciler version,\n  // and the latter is what's important in terms of tags and symbols.\n  const version = renderer.reconcilerVersion || renderer.version;\n\n  const {\n    getDisplayNameForFiber,\n    getTypeSymbol,\n    ReactPriorityLevels,\n    ReactTypeOfWork,\n    StrictModeBits,\n    SuspenseyImagesMode,\n  } = getInternalReactConstants(version);\n  const {\n    ActivityComponent,\n    ClassComponent,\n    ContextConsumer,\n    DehydratedSuspenseComponent,\n    ForwardRef,\n    Fragment,\n    FunctionComponent,\n    HostRoot,\n    HostHoistable,\n    HostSingleton,\n    HostPortal,\n    HostComponent,\n    HostText,\n    IncompleteClassComponent,\n    IncompleteFunctionComponent,\n    IndeterminateComponent,\n    LegacyHiddenComponent,\n    MemoComponent,\n    OffscreenComponent,\n    SimpleMemoComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    TracingMarkerComponent,\n    Throw,\n    ViewTransitionComponent,\n  } = ReactTypeOfWork;\n  const {\n    ImmediatePriority,\n    UserBlockingPriority,\n    NormalPriority,\n    LowPriority,\n    IdlePriority,\n    NoPriority,\n  } = ReactPriorityLevels;\n\n  const {\n    getLaneLabelMap,\n    injectProfilingHooks,\n    overrideHookState,\n    overrideHookStateDeletePath,\n    overrideHookStateRenamePath,\n    overrideProps,\n    overridePropsDeletePath,\n    overridePropsRenamePath,\n    scheduleRefresh,\n    setErrorHandler,\n    setSuspenseHandler,\n    scheduleUpdate,\n    scheduleRetry,\n    getCurrentFiber,\n  } = renderer;\n  const supportsTogglingError =\n    typeof setErrorHandler === 'function' &&\n    typeof scheduleUpdate === 'function';\n  const supportsTogglingSuspense =\n    typeof setSuspenseHandler === 'function' &&\n    typeof scheduleUpdate === 'function';\n  const supportsPerformanceTracks = gte(version, '19.2.0');\n\n  if (typeof scheduleRefresh === 'function') {\n    // When Fast Refresh updates a component, the frontend may need to purge cached information.\n    // For example, ASTs cached for the component (for named hooks) may no longer be valid.\n    // Send a signal to the frontend to purge this cached information.\n    // The \"fastRefreshScheduled\" dispatched is global (not Fiber or even Renderer specific).\n    // This is less effecient since it means the front-end will need to purge the entire cache,\n    // but this is probably an okay trade off in order to reduce coupling between the DevTools and Fast Refresh.\n    renderer.scheduleRefresh = (...args) => {\n      try {\n        hook.emit('fastRefreshScheduled');\n      } finally {\n        return scheduleRefresh(...args);\n      }\n    };\n  }\n\n  let getTimelineData: null | GetTimelineData = null;\n  let toggleProfilingStatus: null | ToggleProfilingStatus = null;\n  if (typeof injectProfilingHooks === 'function') {\n    const response = createProfilingHooks({\n      getDisplayNameForFiber,\n      getIsProfiling: () => isProfiling,\n      getLaneLabelMap,\n      currentDispatcherRef: getDispatcherRef(renderer),\n      workTagMap: ReactTypeOfWork,\n      reactVersion: version,\n    });\n\n    // Pass the Profiling hooks to the reconciler for it to call during render.\n    injectProfilingHooks(response.profilingHooks);\n\n    // Hang onto this toggle so we can notify the external methods of profiling status changes.\n    getTimelineData = response.getTimelineData;\n    toggleProfilingStatus = response.toggleProfilingStatus;\n  }\n\n  type ComponentLogs = {\n    errors: Map<string, number>,\n    errorsCount: number,\n    warnings: Map<string, number>,\n    warningsCount: number,\n  };\n  // Tracks Errors/Warnings logs added to a Fiber. They are added before the commit and get\n  // picked up a FiberInstance. This keeps it around as long as the Fiber is alive which\n  // lets the Fiber get reparented/remounted and still observe the previous errors/warnings.\n  // Unless we explicitly clear the logs from a Fiber.\n  const fiberToComponentLogsMap: WeakMap<Fiber, ComponentLogs> = new WeakMap();\n  // Tracks whether we've performed a commit since the last log. This is used to know\n  // whether we received any new logs between the commit and post commit phases. I.e.\n  // if any passive effects called console.warn / console.error.\n  let needsToFlushComponentLogs = false;\n\n  function bruteForceFlushErrorsAndWarnings() {\n    // Refresh error/warning count for all mounted unfiltered Fibers.\n    let hasChanges = false;\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const devtoolsInstance of idToDevToolsInstanceMap.values()) {\n      if (devtoolsInstance.kind === FIBER_INSTANCE) {\n        const fiber = devtoolsInstance.data;\n        const componentLogsEntry = fiberToComponentLogsMap.get(fiber);\n        const changed = recordConsoleLogs(devtoolsInstance, componentLogsEntry);\n        if (changed) {\n          hasChanges = true;\n          updateMostRecentlyInspectedElementIfNecessary(devtoolsInstance.id);\n        }\n      } else {\n        // Virtual Instances cannot log in passive effects and so never appear here.\n      }\n    }\n    if (hasChanges) {\n      flushPendingEvents();\n    }\n  }\n\n  function clearErrorsAndWarnings() {\n    // Note, this only clears logs for Fibers that have instances. If they're filtered\n    // and then mount, the logs are there. Ensuring we only clear what you've seen.\n    // If we wanted to clear the whole set, we'd replace fiberToComponentLogsMap with a\n    // new WeakMap. It's unclear whether we should clear componentInfoToComponentLogsMap\n    // since it's shared by other renderers but presumably it would.\n\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const devtoolsInstance of idToDevToolsInstanceMap.values()) {\n      if (devtoolsInstance.kind === FIBER_INSTANCE) {\n        const fiber = devtoolsInstance.data;\n        fiberToComponentLogsMap.delete(fiber);\n        if (fiber.alternate) {\n          fiberToComponentLogsMap.delete(fiber.alternate);\n        }\n      } else {\n        componentInfoToComponentLogsMap.delete(devtoolsInstance.data);\n      }\n      const changed = recordConsoleLogs(devtoolsInstance, undefined);\n      if (changed) {\n        updateMostRecentlyInspectedElementIfNecessary(devtoolsInstance.id);\n      }\n    }\n    flushPendingEvents();\n  }\n\n  function clearConsoleLogsHelper(instanceID: number, type: 'error' | 'warn') {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(instanceID);\n    if (devtoolsInstance !== undefined) {\n      let componentLogsEntry;\n      if (devtoolsInstance.kind === FIBER_INSTANCE) {\n        const fiber = devtoolsInstance.data;\n        componentLogsEntry = fiberToComponentLogsMap.get(fiber);\n\n        if (componentLogsEntry === undefined && fiber.alternate !== null) {\n          componentLogsEntry = fiberToComponentLogsMap.get(fiber.alternate);\n        }\n      } else {\n        const componentInfo = devtoolsInstance.data;\n        componentLogsEntry = componentInfoToComponentLogsMap.get(componentInfo);\n      }\n      if (componentLogsEntry !== undefined) {\n        if (type === 'error') {\n          componentLogsEntry.errors.clear();\n          componentLogsEntry.errorsCount = 0;\n        } else {\n          componentLogsEntry.warnings.clear();\n          componentLogsEntry.warningsCount = 0;\n        }\n        const changed = recordConsoleLogs(devtoolsInstance, componentLogsEntry);\n        if (changed) {\n          flushPendingEvents();\n          updateMostRecentlyInspectedElementIfNecessary(devtoolsInstance.id);\n        }\n      }\n    }\n  }\n\n  function clearErrorsForElementID(instanceID: number) {\n    clearConsoleLogsHelper(instanceID, 'error');\n  }\n\n  function clearWarningsForElementID(instanceID: number) {\n    clearConsoleLogsHelper(instanceID, 'warn');\n  }\n\n  function updateMostRecentlyInspectedElementIfNecessary(\n    fiberID: number,\n  ): void {\n    if (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === fiberID\n    ) {\n      hasElementUpdatedSinceLastInspected = true;\n    }\n  }\n\n  function getComponentStack(\n    topFrame: Error,\n  ): null | {enableOwnerStacks: boolean, componentStack: string} {\n    if (getCurrentFiber == null) {\n      // Expected this to be part of the renderer. Ignore.\n      return null;\n    }\n    const current = getCurrentFiber();\n    if (current === null) {\n      // Outside of our render scope.\n      return null;\n    }\n\n    if (supportsConsoleTasks(current)) {\n      // This will be handled natively by console.createTask. No need for\n      // DevTools to add it.\n      return null;\n    }\n\n    const dispatcherRef = getDispatcherRef(renderer);\n    if (dispatcherRef === undefined) {\n      return null;\n    }\n\n    const enableOwnerStacks = supportsOwnerStacks(current);\n    let componentStack = '';\n    if (enableOwnerStacks) {\n      // Prefix the owner stack with the current stack. I.e. what called\n      // console.error. While this will also be part of the native stack,\n      // it is hidden and not presented alongside this argument so we print\n      // them all together.\n      const topStackFrames = formatOwnerStack(topFrame);\n      if (topStackFrames) {\n        componentStack += '\\n' + topStackFrames;\n      }\n      componentStack += getOwnerStackByFiberInDev(\n        ReactTypeOfWork,\n        current,\n        dispatcherRef,\n      );\n    } else {\n      componentStack = getStackByFiberInDevAndProd(\n        ReactTypeOfWork,\n        current,\n        dispatcherRef,\n      );\n    }\n    return {enableOwnerStacks, componentStack};\n  }\n\n  // Called when an error or warning is logged during render, commit, or passive (including unmount functions).\n  function onErrorOrWarning(\n    type: 'error' | 'warn',\n    args: $ReadOnlyArray<any>,\n  ): void {\n    if (getCurrentFiber == null) {\n      // Expected this to be part of the renderer. Ignore.\n      return;\n    }\n    const fiber = getCurrentFiber();\n    if (fiber === null) {\n      // Outside of our render scope.\n      return;\n    }\n    if (type === 'error') {\n      // if this is an error simulated by us to trigger error boundary, ignore\n      if (\n        forceErrorForFibers.get(fiber) === true ||\n        (fiber.alternate !== null &&\n          forceErrorForFibers.get(fiber.alternate) === true)\n      ) {\n        return;\n      }\n    }\n\n    // We can't really use this message as a unique key, since we can't distinguish\n    // different objects in this implementation. We have to delegate displaying of the objects\n    // to the environment, the browser console, for example, so this is why this should be kept\n    // as an array of arguments, instead of the plain string.\n    // [Warning: %o, {...}] and [Warning: %o, {...}] will be considered as the same message,\n    // even if objects are different\n    const message = formatConsoleArgumentsToSingleString(...args);\n\n    // Track the warning/error for later.\n    let componentLogsEntry = fiberToComponentLogsMap.get(fiber);\n    if (componentLogsEntry === undefined && fiber.alternate !== null) {\n      componentLogsEntry = fiberToComponentLogsMap.get(fiber.alternate);\n      if (componentLogsEntry !== undefined) {\n        // Use the same set for both Fibers.\n        fiberToComponentLogsMap.set(fiber, componentLogsEntry);\n      }\n    }\n    if (componentLogsEntry === undefined) {\n      componentLogsEntry = {\n        errors: new Map(),\n        errorsCount: 0 as number,\n        warnings: new Map(),\n        warningsCount: 0 as number,\n      };\n      fiberToComponentLogsMap.set(fiber, componentLogsEntry);\n    }\n\n    const messageMap =\n      type === 'error'\n        ? componentLogsEntry.errors\n        : componentLogsEntry.warnings;\n    const count = messageMap.get(message) || 0;\n    messageMap.set(message, count + 1);\n    if (type === 'error') {\n      componentLogsEntry.errorsCount++;\n    } else {\n      componentLogsEntry.warningsCount++;\n    }\n\n    // The changes will be flushed later when we commit.\n\n    // If the log happened in a passive effect, then this happens after we've\n    // already committed the new tree so the change won't show up until we rerender\n    // that component again. We need to visit a Component with passive effects in\n    // handlePostCommitFiberRoot again to ensure that we flush the changes after passive.\n    needsToFlushComponentLogs = true;\n  }\n\n  function debug(\n    name: string,\n    instance: DevToolsInstance,\n    parentInstance: null | DevToolsInstance,\n    extraString: string = '',\n  ): void {\n    if (__DEBUG__) {\n      const displayName =\n        instance.kind === VIRTUAL_INSTANCE\n          ? instance.data.name || 'null'\n          : instance.data.tag +\n            ':' +\n            (getDisplayNameForFiber(instance.data) || 'null');\n\n      const maybeID =\n        instance.kind === FILTERED_FIBER_INSTANCE ? '<no id>' : instance.id;\n\n      const parentDisplayName =\n        parentInstance === null\n          ? ''\n          : parentInstance.kind === VIRTUAL_INSTANCE\n            ? parentInstance.data.name || 'null'\n            : parentInstance.data.tag +\n              ':' +\n              (getDisplayNameForFiber(parentInstance.data) || 'null');\n\n      const maybeParentID =\n        parentInstance === null ||\n        parentInstance.kind === FILTERED_FIBER_INSTANCE\n          ? '<no id>'\n          : parentInstance.id;\n\n      console.groupCollapsed(\n        `[renderer] %c${name} %c${displayName} (${maybeID}) %c${\n          parentInstance ? `${parentDisplayName} (${maybeParentID})` : ''\n        } %c${extraString}`,\n        'color: red; font-weight: bold;',\n        'color: blue;',\n        'color: purple;',\n        'color: black;',\n      );\n      console.log(new Error().stack.split('\\n').slice(1).join('\\n'));\n      console.groupEnd();\n    }\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  function debugTree(instance: DevToolsInstance, indent: number = 0) {\n    if (__DEBUG__) {\n      const name =\n        (instance.kind !== VIRTUAL_INSTANCE\n          ? getDisplayNameForFiber(instance.data)\n          : instance.data.name) || '';\n      console.log(\n        '  '.repeat(indent) +\n          '- ' +\n          (instance.kind === FILTERED_FIBER_INSTANCE ? 0 : instance.id) +\n          ' (' +\n          name +\n          ')',\n        'parent',\n        instance.parent === null\n          ? ' '\n          : instance.parent.kind === FILTERED_FIBER_INSTANCE\n            ? 0\n            : instance.parent.id,\n        'next',\n        instance.nextSibling === null ? ' ' : instance.nextSibling.id,\n      );\n      let child = instance.firstChild;\n      while (child !== null) {\n        debugTree(child, indent + 1);\n        child = child.nextSibling;\n      }\n    }\n  }\n\n  // Configurable Components tree filters.\n  const hideElementsWithDisplayNames: Set<RegExp> = new Set();\n  const hideElementsWithPaths: Set<RegExp> = new Set();\n  const hideElementsWithTypes: Set<ElementType> = new Set();\n  const hideElementsWithEnvs: Set<string> = new Set();\n\n  // Highlight updates\n  let traceUpdatesEnabled: boolean = false;\n  const traceUpdatesForNodes: Set<HostInstance> = new Set();\n\n  function applyComponentFilters(componentFilters: Array<ComponentFilter>) {\n    hideElementsWithTypes.clear();\n    hideElementsWithDisplayNames.clear();\n    hideElementsWithPaths.clear();\n    hideElementsWithEnvs.clear();\n\n    componentFilters.forEach(componentFilter => {\n      if (!componentFilter.isEnabled) {\n        return;\n      }\n\n      switch (componentFilter.type) {\n        case ComponentFilterDisplayName:\n          if (componentFilter.isValid && componentFilter.value !== '') {\n            hideElementsWithDisplayNames.add(\n              new RegExp(componentFilter.value, 'i'),\n            );\n          }\n          break;\n        case ComponentFilterElementType:\n          hideElementsWithTypes.add(componentFilter.value);\n          break;\n        case ComponentFilterLocation:\n          if (componentFilter.isValid && componentFilter.value !== '') {\n            hideElementsWithPaths.add(new RegExp(componentFilter.value, 'i'));\n          }\n          break;\n        case ComponentFilterHOC:\n          hideElementsWithDisplayNames.add(new RegExp('\\\\('));\n          break;\n        case ComponentFilterEnvironmentName:\n          hideElementsWithEnvs.add(componentFilter.value);\n          break;\n        default:\n          console.warn(\n            `Invalid component filter type \"${componentFilter.type}\"`,\n          );\n          break;\n      }\n    });\n  }\n\n  // The renderer interface can't read saved component filters directly,\n  // because they are stored in localStorage within the context of the extension.\n  // Instead it relies on the extension to pass filters through.\n  if (window.__REACT_DEVTOOLS_COMPONENT_FILTERS__ != null) {\n    const componentFiltersWithoutLocationBasedOnes =\n      filterOutLocationComponentFilters(\n        window.__REACT_DEVTOOLS_COMPONENT_FILTERS__,\n      );\n    applyComponentFilters(componentFiltersWithoutLocationBasedOnes);\n  } else {\n    // Unfortunately this feature is not expected to work for React Native for now.\n    // It would be annoying for us to spam YellowBox warnings with unactionable stuff,\n    // so for now just skip this message...\n    //console.warn(' DevTools: Could not locate saved component filters');\n\n    // Fallback to assuming the default filters in this case.\n    applyComponentFilters(getDefaultComponentFilters());\n  }\n\n  // If necessary, we can revisit optimizing this operation.\n  // For example, we could add a new recursive unmount tree operation.\n  // The unmount operations are already significantly smaller than mount operations though.\n  // This is something to keep in mind for later.\n  function updateComponentFilters(componentFilters: Array<ComponentFilter>) {\n    if (isProfiling) {\n      // Re-mounting a tree while profiling is in progress might break a lot of assumptions.\n      // If necessary, we could support this- but it doesn't seem like a necessary use case.\n      throw Error('Cannot modify filter preferences while profiling');\n    }\n\n    // Recursively unmount all roots.\n    hook.getFiberRoots(rendererID).forEach(root => {\n      const rootInstance = rootToFiberInstanceMap.get(root);\n      if (rootInstance === undefined) {\n        throw new Error(\n          'Expected the root instance to already exist when applying filters',\n        );\n      }\n      currentRoot = rootInstance;\n      unmountInstanceRecursively(rootInstance);\n      rootToFiberInstanceMap.delete(root);\n      flushPendingEvents();\n      currentRoot = (null: any);\n    });\n\n    applyComponentFilters(componentFilters);\n\n    // Reset pseudo counters so that new path selections will be persisted.\n    rootDisplayNameCounter.clear();\n\n    // Recursively re-mount all roots with new filter criteria applied.\n    hook.getFiberRoots(rendererID).forEach(root => {\n      const current = root.current;\n      const newRoot = createFiberInstance(current);\n      rootToFiberInstanceMap.set(root, newRoot);\n      idToDevToolsInstanceMap.set(newRoot.id, newRoot);\n\n      // Before the traversals, remember to start tracking\n      // our path in case we have selection to restore.\n      if (trackedPath !== null) {\n        mightBeOnTrackedPath = true;\n      }\n\n      currentRoot = newRoot;\n      setRootPseudoKey(currentRoot.id, root.current);\n      mountFiberRecursively(root.current, false);\n      flushPendingEvents();\n      currentRoot = (null: any);\n    });\n\n    flushPendingEvents();\n\n    needsToFlushComponentLogs = false;\n  }\n\n  function getEnvironmentNames(): Array<string> {\n    return Array.from(knownEnvironmentNames);\n  }\n\n  function isFiberHydrated(fiber: Fiber): boolean {\n    if (OffscreenComponent === -1) {\n      throw new Error('not implemented for legacy suspense');\n    }\n    switch (fiber.tag) {\n      case HostRoot:\n        const rootState = fiber.memoizedState;\n        return !rootState.isDehydrated;\n      case SuspenseComponent:\n        const suspenseState = fiber.memoizedState;\n        return suspenseState === null || suspenseState.dehydrated === null;\n      default:\n        throw new Error('not implemented for work tag ' + fiber.tag);\n    }\n  }\n\n  function shouldFilterVirtual(\n    data: ReactComponentInfo,\n    secondaryEnv: null | string,\n  ): boolean {\n    // For purposes of filtering Server Components are always Function Components.\n    // Environment will be used to filter Server vs Client.\n    // Technically they can be forwardRef and memo too but those filters will go away\n    // as those become just plain user space function components like any HoC.\n    if (hideElementsWithTypes.has(ElementTypeFunction)) {\n      return true;\n    }\n\n    if (hideElementsWithDisplayNames.size > 0) {\n      const displayName = data.name;\n      if (displayName != null) {\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const displayNameRegExp of hideElementsWithDisplayNames) {\n          if (displayNameRegExp.test(displayName)) {\n            return true;\n          }\n        }\n      }\n    }\n\n    if (\n      (data.env == null || hideElementsWithEnvs.has(data.env)) &&\n      (secondaryEnv === null || hideElementsWithEnvs.has(secondaryEnv))\n    ) {\n      // If a Component has two environments, you have to filter both for it not to appear.\n      return true;\n    }\n\n    return false;\n  }\n\n  // NOTICE Keep in sync with get*ForFiber methods\n  function shouldFilterFiber(fiber: Fiber): boolean {\n    const {tag, type, key} = fiber;\n\n    switch (tag) {\n      case DehydratedSuspenseComponent:\n        // TODO: ideally we would show dehydrated Suspense immediately.\n        // However, it has some special behavior (like disconnecting\n        // an alternate and turning into real Suspense) which breaks DevTools.\n        // For now, ignore it, and only show it once it gets hydrated.\n        // https://github.com/bvaughn/react-devtools-experimental/issues/197\n        return true;\n      case HostPortal:\n      case HostText:\n      case LegacyHiddenComponent:\n      case OffscreenComponent:\n      case Throw:\n        return true;\n      case HostRoot:\n        // It is never valid to filter the root element.\n        return false;\n      case Fragment:\n        return key === null;\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return true;\n          default:\n            break;\n        }\n    }\n\n    const elementType = getElementTypeForFiber(fiber);\n    if (hideElementsWithTypes.has(elementType)) {\n      return true;\n    }\n\n    if (hideElementsWithDisplayNames.size > 0) {\n      const displayName = getDisplayNameForFiber(fiber);\n      if (displayName != null) {\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const displayNameRegExp of hideElementsWithDisplayNames) {\n          if (displayNameRegExp.test(displayName)) {\n            return true;\n          }\n        }\n      }\n    }\n\n    if (hideElementsWithEnvs.has('Client')) {\n      // If we're filtering out the Client environment we should filter out all\n      // \"Client Components\". Technically that also includes the built-ins but\n      // since that doesn't actually include any additional code loading it's\n      // useful to not filter out the built-ins. Those can be filtered separately.\n      // There's no other way to filter out just Function components on the Client.\n      // Therefore, this only filters Class and Function components.\n      switch (tag) {\n        case ClassComponent:\n        case IncompleteClassComponent:\n        case IncompleteFunctionComponent:\n        case FunctionComponent:\n        case IndeterminateComponent:\n        case ForwardRef:\n        case MemoComponent:\n        case SimpleMemoComponent:\n          return true;\n      }\n    }\n\n    /* DISABLED: https://github.com/facebook/react/pull/28417\n    if (hideElementsWithPaths.size > 0) {\n      const source = getSourceForFiber(fiber);\n\n      if (source != null) {\n        const {fileName} = source;\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const pathRegExp of hideElementsWithPaths) {\n          if (pathRegExp.test(fileName)) {\n            return true;\n          }\n        }\n      }\n    }\n    */\n\n    return false;\n  }\n\n  // NOTICE Keep in sync with shouldFilterFiber() and other get*ForFiber methods\n  function getElementTypeForFiber(fiber: Fiber): ElementType {\n    const {type, tag} = fiber;\n\n    switch (tag) {\n      case ActivityComponent:\n        return ElementTypeActivity;\n      case ClassComponent:\n      case IncompleteClassComponent:\n        return ElementTypeClass;\n      case IncompleteFunctionComponent:\n      case FunctionComponent:\n      case IndeterminateComponent:\n        return ElementTypeFunction;\n      case ForwardRef:\n        return ElementTypeForwardRef;\n      case HostRoot:\n        return ElementTypeRoot;\n      case HostComponent:\n      case HostHoistable:\n      case HostSingleton:\n        return ElementTypeHostComponent;\n      case HostPortal:\n      case HostText:\n      case Fragment:\n        return ElementTypeOtherOrUnknown;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        return ElementTypeMemo;\n      case SuspenseComponent:\n        return ElementTypeSuspense;\n      case SuspenseListComponent:\n        return ElementTypeSuspenseList;\n      case TracingMarkerComponent:\n        return ElementTypeTracingMarker;\n      case ViewTransitionComponent:\n        return ElementTypeViewTransition;\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n            return ElementTypeOtherOrUnknown;\n          case PROVIDER_NUMBER:\n          case PROVIDER_SYMBOL_STRING:\n            return ElementTypeContext;\n          case CONTEXT_NUMBER:\n          case CONTEXT_SYMBOL_STRING:\n            return ElementTypeContext;\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return ElementTypeOtherOrUnknown;\n          case PROFILER_NUMBER:\n          case PROFILER_SYMBOL_STRING:\n            return ElementTypeProfiler;\n          default:\n            return ElementTypeOtherOrUnknown;\n        }\n    }\n  }\n\n  // When a mount or update is in progress, this value tracks the root that is being operated on.\n  let currentRoot: FiberInstance = (null: any);\n\n  // Removes a Fiber (and its alternate) from the Maps used to track their id.\n  // This method should always be called when a Fiber is unmounting.\n  function untrackFiber(nearestInstance: DevToolsInstance, fiber: Fiber) {\n    if (forceErrorForFibers.size > 0) {\n      forceErrorForFibers.delete(fiber);\n      if (fiber.alternate) {\n        forceErrorForFibers.delete(fiber.alternate);\n      }\n      if (forceErrorForFibers.size === 0 && setErrorHandler != null) {\n        setErrorHandler(shouldErrorFiberAlwaysNull);\n      }\n    }\n\n    if (forceFallbackForFibers.size > 0) {\n      forceFallbackForFibers.delete(fiber);\n      if (fiber.alternate) {\n        forceFallbackForFibers.delete(fiber.alternate);\n      }\n      if (forceFallbackForFibers.size === 0 && setSuspenseHandler != null) {\n        setSuspenseHandler(shouldSuspendFiberAlwaysFalse);\n      }\n    }\n\n    // TODO: Consider using a WeakMap instead. The only thing where that doesn't work\n    // is React Native Paper which tracks tags but that support is eventually going away\n    // and can use the old findFiberByHostInstance strategy.\n\n    if (fiber.tag === HostHoistable) {\n      releaseHostResource(nearestInstance, fiber.memoizedState);\n    } else if (\n      fiber.tag === HostComponent ||\n      fiber.tag === HostText ||\n      fiber.tag === HostSingleton\n    ) {\n      releaseHostInstance(nearestInstance, fiber.stateNode);\n    }\n\n    // Recursively clean up any filtered Fibers below this one as well since\n    // we won't recordUnmount on those.\n    for (let child = fiber.child; child !== null; child = child.sibling) {\n      if (shouldFilterFiber(child)) {\n        untrackFiber(nearestInstance, child);\n      }\n    }\n  }\n\n  function getChangeDescription(\n    prevFiber: Fiber | null,\n    nextFiber: Fiber,\n  ): ChangeDescription | null {\n    switch (nextFiber.tag) {\n      case ClassComponent:\n        if (prevFiber === null) {\n          return {\n            context: null,\n            didHooksChange: false,\n            isFirstMount: true,\n            props: null,\n            state: null,\n          };\n        } else {\n          const data: ChangeDescription = {\n            context: getContextChanged(prevFiber, nextFiber),\n            didHooksChange: false,\n            isFirstMount: false,\n            props: getChangedKeys(\n              prevFiber.memoizedProps,\n              nextFiber.memoizedProps,\n            ),\n            state: getChangedKeys(\n              prevFiber.memoizedState,\n              nextFiber.memoizedState,\n            ),\n          };\n          return data;\n        }\n      case IncompleteFunctionComponent:\n      case FunctionComponent:\n      case IndeterminateComponent:\n      case ForwardRef:\n      case MemoComponent:\n      case SimpleMemoComponent:\n        if (prevFiber === null) {\n          return {\n            context: null,\n            didHooksChange: false,\n            isFirstMount: true,\n            props: null,\n            state: null,\n          };\n        } else {\n          const indices = getChangedHooksIndices(\n            prevFiber.memoizedState,\n            nextFiber.memoizedState,\n          );\n          const data: ChangeDescription = {\n            context: getContextChanged(prevFiber, nextFiber),\n            didHooksChange: indices !== null && indices.length > 0,\n            isFirstMount: false,\n            props: getChangedKeys(\n              prevFiber.memoizedProps,\n              nextFiber.memoizedProps,\n            ),\n            state: null,\n            hooks: indices,\n          };\n          // Only traverse the hooks list once, depending on what info we're returning.\n          return data;\n        }\n      default:\n        return null;\n    }\n  }\n\n  function getContextChanged(prevFiber: Fiber, nextFiber: Fiber): boolean {\n    let prevContext =\n      prevFiber.dependencies && prevFiber.dependencies.firstContext;\n    let nextContext =\n      nextFiber.dependencies && nextFiber.dependencies.firstContext;\n\n    while (prevContext && nextContext) {\n      // Note this only works for versions of React that support this key (e.v. 18+)\n      // For older versions, there's no good way to read the current context value after render has completed.\n      // This is because React maintains a stack of context values during render,\n      // but by the time DevTools is called, render has finished and the stack is empty.\n      if (prevContext.context !== nextContext.context) {\n        // If the order of context has changed, then the later context values might have\n        // changed too but the main reason it rerendered was earlier. Either an earlier\n        // context changed value but then we would have exited already. If we end up here\n        // it's because a state or props change caused the order of contexts used to change.\n        // So the main cause is not the contexts themselves.\n        return false;\n      }\n      if (!is(prevContext.memoizedValue, nextContext.memoizedValue)) {\n        return true;\n      }\n\n      prevContext = prevContext.next;\n      nextContext = nextContext.next;\n    }\n    return false;\n  }\n\n  function isHookThatCanScheduleUpdate(hookObject: any) {\n    const queue = hookObject.queue;\n    if (!queue) {\n      return false;\n    }\n\n    const boundHasOwnProperty = hasOwnProperty.bind(queue);\n\n    // Detect the shape of useState() / useReducer() / useTransition()\n    // using the attributes that are unique to these hooks\n    // but also stable (e.g. not tied to current Lanes implementation)\n    // We don't check for dispatch property, because useTransition doesn't have it\n    if (boundHasOwnProperty('pending')) {\n      return true;\n    }\n\n    // Detect useSyncExternalStore()\n    return (\n      boundHasOwnProperty('value') &&\n      boundHasOwnProperty('getSnapshot') &&\n      typeof queue.getSnapshot === 'function'\n    );\n  }\n\n  function didStatefulHookChange(prev: any, next: any): boolean {\n    const prevMemoizedState = prev.memoizedState;\n    const nextMemoizedState = next.memoizedState;\n\n    if (isHookThatCanScheduleUpdate(prev)) {\n      return prevMemoizedState !== nextMemoizedState;\n    }\n\n    return false;\n  }\n\n  function getChangedHooksIndices(prev: any, next: any): null | Array<number> {\n    if (prev == null || next == null) {\n      return null;\n    }\n\n    const indices = [];\n    let index = 0;\n    while (next !== null) {\n      if (didStatefulHookChange(prev, next)) {\n        indices.push(index);\n      }\n      next = next.next;\n      prev = prev.next;\n      index++;\n    }\n\n    return indices;\n  }\n\n  function getChangedKeys(prev: any, next: any): null | Array<string> {\n    if (prev == null || next == null) {\n      return null;\n    }\n\n    const keys = new Set([...Object.keys(prev), ...Object.keys(next)]);\n    const changedKeys = [];\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const key of keys) {\n      if (prev[key] !== next[key]) {\n        changedKeys.push(key);\n      }\n    }\n\n    return changedKeys;\n  }\n\n  function didFiberRender(prevFiber: Fiber, nextFiber: Fiber): boolean {\n    switch (nextFiber.tag) {\n      case ClassComponent:\n      case FunctionComponent:\n      case ContextConsumer:\n      case MemoComponent:\n      case SimpleMemoComponent:\n      case ForwardRef:\n        // For types that execute user code, we check PerformedWork effect.\n        // We don't reflect bailouts (either referential or sCU) in DevTools.\n        // TODO: This flag is a leaked implementation detail. Once we start\n        // releasing DevTools in lockstep with React, we should import a\n        // function from the reconciler instead.\n        const PerformedWork = 0b000000000000000000000000001;\n        return (getFiberFlags(nextFiber) & PerformedWork) === PerformedWork;\n      // Note: ContextConsumer only gets PerformedWork effect in 16.3.3+\n      // so it won't get highlighted with React 16.3.0 to 16.3.2.\n      default:\n        // For host components and other types, we compare inputs\n        // to determine whether something is an update.\n        return (\n          prevFiber.memoizedProps !== nextFiber.memoizedProps ||\n          prevFiber.memoizedState !== nextFiber.memoizedState ||\n          prevFiber.ref !== nextFiber.ref\n        );\n    }\n  }\n\n  type OperationsArray = Array<number>;\n\n  type StringTableEntry = {\n    encodedString: Array<number>,\n    id: number,\n  };\n\n  const pendingOperations: OperationsArray = [];\n  const pendingRealUnmountedIDs: Array<FiberInstance['id']> = [];\n  const pendingRealUnmountedSuspenseIDs: Array<FiberInstance['id']> = [];\n  const pendingSuspenderChanges: Set<FiberInstance['id']> = new Set();\n  let pendingOperationsQueue: Array<OperationsArray> | null = [];\n  const pendingStringTable: Map<string, StringTableEntry> = new Map();\n  let pendingStringTableLength: number = 0;\n  let pendingUnmountedRootID: FiberInstance['id'] | null = null;\n\n  function pushOperation(op: number): void {\n    if (__DEV__) {\n      if (!Number.isInteger(op)) {\n        console.error(\n          'pushOperation() was called but the value is not an integer.',\n          op,\n        );\n      }\n    }\n    pendingOperations.push(op);\n  }\n\n  function shouldBailoutWithPendingOperations() {\n    if (isProfiling) {\n      if (\n        currentCommitProfilingMetadata != null &&\n        currentCommitProfilingMetadata.durations.length > 0\n      ) {\n        return false;\n      }\n    }\n\n    return (\n      pendingOperations.length === 0 &&\n      pendingRealUnmountedIDs.length === 0 &&\n      pendingRealUnmountedSuspenseIDs.length === 0 &&\n      pendingSuspenderChanges.size === 0 &&\n      pendingUnmountedRootID === null\n    );\n  }\n\n  function flushOrQueueOperations(operations: OperationsArray): void {\n    if (shouldBailoutWithPendingOperations()) {\n      return;\n    }\n\n    if (pendingOperationsQueue !== null) {\n      pendingOperationsQueue.push(operations);\n    } else {\n      hook.emit('operations', operations);\n    }\n  }\n\n  function recordConsoleLogs(\n    instance: FiberInstance | VirtualInstance,\n    componentLogsEntry: void | ComponentLogs,\n  ): boolean {\n    if (componentLogsEntry === undefined) {\n      if (instance.logCount === 0) {\n        // Nothing has changed.\n        return false;\n      }\n      // Reset to zero.\n      instance.logCount = 0;\n      pushOperation(TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS);\n      pushOperation(instance.id);\n      pushOperation(0);\n      pushOperation(0);\n      return true;\n    } else {\n      const totalCount =\n        componentLogsEntry.errorsCount + componentLogsEntry.warningsCount;\n      if (instance.logCount === totalCount) {\n        // Nothing has changed.\n        return false;\n      }\n      // Update counts.\n      instance.logCount = totalCount;\n      pushOperation(TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS);\n      pushOperation(instance.id);\n      pushOperation(componentLogsEntry.errorsCount);\n      pushOperation(componentLogsEntry.warningsCount);\n      return true;\n    }\n  }\n\n  function flushPendingEvents(): void {\n    if (shouldBailoutWithPendingOperations()) {\n      // If we aren't profiling, we can just bail out here.\n      // No use sending an empty update over the bridge.\n      //\n      // The Profiler stores metadata for each commit and reconstructs the app tree per commit using:\n      // (1) an initial tree snapshot and\n      // (2) the operations array for each commit\n      // Because of this, it's important that the operations and metadata arrays align,\n      // So it's important not to omit even empty operations while profiling is active.\n      return;\n    }\n\n    const numUnmountIDs =\n      pendingRealUnmountedIDs.length +\n      (pendingUnmountedRootID === null ? 0 : 1);\n    const numUnmountSuspenseIDs = pendingRealUnmountedSuspenseIDs.length;\n    const numSuspenderChanges = pendingSuspenderChanges.size;\n\n    const operations = new Array<number>(\n      // Identify which renderer this update is coming from.\n      2 + // [rendererID, rootFiberID]\n        // How big is the string table?\n        1 + // [stringTableLength]\n        // Then goes the actual string table.\n        pendingStringTableLength +\n        // All unmounts of Suspense boundaries are batched in a single message.\n        // [TREE_OPERATION_REMOVE_SUSPENSE, removedSuspenseIDLength, ...ids]\n        (numUnmountSuspenseIDs > 0 ? 2 + numUnmountSuspenseIDs : 0) +\n        // All unmounts are batched in a single message.\n        // [TREE_OPERATION_REMOVE, removedIDLength, ...ids]\n        (numUnmountIDs > 0 ? 2 + numUnmountIDs : 0) +\n        // Regular operations\n        pendingOperations.length +\n        // All suspender changes are batched in a single message.\n        // [SUSPENSE_TREE_OPERATION_SUSPENDERS, suspenderChangesLength, ...[id, hasUniqueSuspenders, isSuspended]]\n        (numSuspenderChanges > 0 ? 2 + numSuspenderChanges * 3 : 0),\n    );\n\n    // Identify which renderer this update is coming from.\n    // This enables roots to be mapped to renderers,\n    // Which in turn enables fiber props, states, and hooks to be inspected.\n    let i = 0;\n    operations[i++] = rendererID;\n    if (currentRoot === null) {\n      // TODO: This is not always safe so this field is probably not needed.\n      operations[i++] = -1;\n    } else {\n      operations[i++] = currentRoot.id;\n    }\n\n    // Now fill in the string table.\n    // [stringTableLength, str1Length, ...str1, str2Length, ...str2, ...]\n    operations[i++] = pendingStringTableLength;\n    pendingStringTable.forEach((entry, stringKey) => {\n      const encodedString = entry.encodedString;\n\n      // Don't use the string length.\n      // It won't work for multibyte characters (like emoji).\n      const length = encodedString.length;\n\n      operations[i++] = length;\n      for (let j = 0; j < length; j++) {\n        operations[i + j] = encodedString[j];\n      }\n\n      i += length;\n    });\n\n    if (numUnmountSuspenseIDs > 0) {\n      // All unmounts of Suspense boundaries are batched in a single message.\n      operations[i++] = SUSPENSE_TREE_OPERATION_REMOVE;\n      // The first number is how many unmounted IDs we're gonna send.\n      operations[i++] = numUnmountSuspenseIDs;\n      // Fill in the real unmounts in the reverse order.\n      // They were inserted parents-first by React, but we want children-first.\n      // So we traverse our array backwards.\n      for (let j = 0; j < pendingRealUnmountedSuspenseIDs.length; j++) {\n        operations[i++] = pendingRealUnmountedSuspenseIDs[j];\n      }\n    }\n\n    if (numUnmountIDs > 0) {\n      // All unmounts except roots are batched in a single message.\n      operations[i++] = TREE_OPERATION_REMOVE;\n      // The first number is how many unmounted IDs we're gonna send.\n      operations[i++] = numUnmountIDs;\n      // Fill in the real unmounts in the reverse order.\n      // They were inserted parents-first by React, but we want children-first.\n      // So we traverse our array backwards.\n      for (let j = 0; j < pendingRealUnmountedIDs.length; j++) {\n        operations[i++] = pendingRealUnmountedIDs[j];\n      }\n      // The root ID should always be unmounted last.\n      if (pendingUnmountedRootID !== null) {\n        operations[i] = pendingUnmountedRootID;\n        i++;\n      }\n    }\n\n    // Fill in pending operations.\n    for (let j = 0; j < pendingOperations.length; j++) {\n      operations[i + j] = pendingOperations[j];\n    }\n    i += pendingOperations.length;\n\n    // Suspender changes might affect newly mounted nodes that we already recorded\n    // in pending operations.\n    if (numSuspenderChanges > 0) {\n      operations[i++] = SUSPENSE_TREE_OPERATION_SUSPENDERS;\n      operations[i++] = numSuspenderChanges;\n      pendingSuspenderChanges.forEach(fiberIdWithChanges => {\n        const suspense = idToSuspenseNodeMap.get(fiberIdWithChanges);\n        if (suspense === undefined) {\n          // Probably forgot to cleanup pendingSuspenderChanges when this node was removed.\n          throw new Error(\n            `Could not send suspender changes for \"${fiberIdWithChanges}\" since the Fiber no longer exists.`,\n          );\n        }\n        operations[i++] = fiberIdWithChanges;\n        operations[i++] = suspense.hasUniqueSuspenders ? 1 : 0;\n        const instance = suspense.instance;\n        const isSuspended =\n          // TODO: Track if other SuspenseNode like SuspenseList rows are suspended.\n          (instance.kind === FIBER_INSTANCE ||\n            instance.kind === FILTERED_FIBER_INSTANCE) &&\n          instance.data.tag === SuspenseComponent &&\n          instance.data.memoizedState !== null;\n        operations[i++] = isSuspended ? 1 : 0;\n        operations[i++] = suspense.environments.size;\n        suspense.environments.forEach((count, env) => {\n          operations[i++] = getStringID(env);\n        });\n      });\n    }\n\n    // Let the frontend know about tree operations.\n    flushOrQueueOperations(operations);\n\n    // Reset all of the pending state now that we've told the frontend about it.\n    pendingOperations.length = 0;\n    pendingRealUnmountedIDs.length = 0;\n    pendingRealUnmountedSuspenseIDs.length = 0;\n    pendingSuspenderChanges.clear();\n    pendingUnmountedRootID = null;\n    pendingStringTable.clear();\n    pendingStringTableLength = 0;\n  }\n\n  function measureHostInstance(instance: HostInstance): null | Array<Rect> {\n    // Feature detect measurement capabilities of this environment.\n    // TODO: Consider making this capability injected by the ReactRenderer.\n    if (typeof instance !== 'object' || instance === null) {\n      return null;\n    }\n    if (\n      typeof instance.getClientRects === 'function' ||\n      instance.nodeType === 3\n    ) {\n      // DOM\n      const doc = instance.ownerDocument;\n      if (instance === doc.documentElement) {\n        // This is the document element. The size of this element is not actually\n        // what determines the whole scrollable area of the screen. Because any\n        // thing that overflows the document will also contribute to the scrollable.\n        // This is unlike overflow: scroll which clips those.\n        // Therefore, we use the scrollable size for this rect instead.\n        return [\n          {\n            x: 0,\n            y: 0,\n            width: instance.scrollWidth,\n            height: instance.scrollHeight,\n          },\n        ];\n      }\n      const result: Array<Rect> = [];\n      const win = doc && doc.defaultView;\n      const scrollX = win ? win.scrollX : 0;\n      const scrollY = win ? win.scrollY : 0;\n      let rects;\n      if (instance.nodeType === 3) {\n        // Text nodes cannot be measured directly but we can measure a Range.\n        if (typeof doc.createRange !== 'function') {\n          return null;\n        }\n        const range = doc.createRange();\n        if (typeof range.getClientRects !== 'function') {\n          return null;\n        }\n        range.selectNodeContents(instance);\n        rects = range.getClientRects();\n      } else {\n        rects = instance.getClientRects();\n      }\n      for (let i = 0; i < rects.length; i++) {\n        const rect = rects[i];\n        result.push({\n          x: rect.x + scrollX,\n          y: rect.y + scrollY,\n          width: rect.width,\n          height: rect.height,\n        });\n      }\n      return result;\n    }\n    if (instance.canonical) {\n      // Native\n      const publicInstance = instance.canonical.publicInstance;\n      if (!publicInstance) {\n        // The publicInstance may not have been initialized yet if there was no ref on this node.\n        // We can't initialize it from any existing Hook but we could fallback to this async form:\n        // renderer.extraDevToolsConfig.getInspectorDataForInstance(instance).hierarchy[last].getInspectorData().measure(callback)\n        return null;\n      }\n      if (typeof publicInstance.getBoundingClientRect === 'function') {\n        // enableAccessToHostTreeInFabric / ReadOnlyElement\n        return [publicInstance.getBoundingClientRect()];\n      }\n      if (typeof publicInstance.unstable_getBoundingClientRect === 'function') {\n        // ReactFabricHostComponent\n        return [publicInstance.unstable_getBoundingClientRect()];\n      }\n    }\n    return null;\n  }\n\n  function measureInstance(instance: DevToolsInstance): null | Array<Rect> {\n    // Synchronously return the client rects of the Host instances directly inside this Instance.\n    const hostInstances = findAllCurrentHostInstances(instance);\n    let result: null | Array<Rect> = null;\n    for (let i = 0; i < hostInstances.length; i++) {\n      const childResult = measureHostInstance(hostInstances[i]);\n      if (childResult !== null) {\n        if (result === null) {\n          result = childResult;\n        } else {\n          result = result.concat(childResult);\n        }\n      }\n    }\n    return result;\n  }\n\n  function getStringID(string: string | null): number {\n    if (string === null) {\n      return 0;\n    }\n    const existingEntry = pendingStringTable.get(string);\n    if (existingEntry !== undefined) {\n      return existingEntry.id;\n    }\n\n    const id = pendingStringTable.size + 1;\n    const encodedString = utfEncodeString(string);\n\n    pendingStringTable.set(string, {\n      encodedString,\n      id,\n    });\n\n    // The string table total length needs to account both for the string length,\n    // and for the array item that contains the length itself.\n    //\n    // Don't use string length for this table.\n    // It won't work for multibyte characters (like emoji).\n    pendingStringTableLength += encodedString.length + 1;\n\n    return id;\n  }\n\n  let isInDisconnectedSubtree = false;\n\n  function recordMount(\n    fiber: Fiber,\n    parentInstance: DevToolsInstance | null,\n  ): FiberInstance {\n    const isRoot = fiber.tag === HostRoot;\n    let fiberInstance;\n    if (isRoot) {\n      const entry = rootToFiberInstanceMap.get(fiber.stateNode);\n      if (entry === undefined) {\n        throw new Error('The root should have been registered at this point');\n      }\n      fiberInstance = entry;\n    } else {\n      fiberInstance = createFiberInstance(fiber);\n    }\n    idToDevToolsInstanceMap.set(fiberInstance.id, fiberInstance);\n\n    if (__DEBUG__) {\n      debug('recordMount()', fiberInstance, parentInstance);\n    }\n\n    recordReconnect(fiberInstance, parentInstance);\n    return fiberInstance;\n  }\n\n  function recordReconnect(\n    fiberInstance: FiberInstance,\n    parentInstance: DevToolsInstance | null,\n  ): void {\n    if (isInDisconnectedSubtree) {\n      // We're disconnected. We'll reconnect a hidden mount after the parent reappears.\n      return;\n    }\n    const id = fiberInstance.id;\n    const fiber = fiberInstance.data;\n\n    const isProfilingSupported = fiber.hasOwnProperty('treeBaseDuration');\n\n    const isRoot = fiber.tag === HostRoot;\n\n    if (isRoot) {\n      const hasOwnerMetadata = fiber.hasOwnProperty('_debugOwner');\n\n      // Adding a new field here would require a bridge protocol version bump (a backwads breaking change).\n      // Instead let's re-purpose a pre-existing field to carry more information.\n      let profilingFlags = 0;\n      if (isProfilingSupported) {\n        profilingFlags = PROFILING_FLAG_BASIC_SUPPORT;\n        if (typeof injectProfilingHooks === 'function') {\n          profilingFlags |= PROFILING_FLAG_TIMELINE_SUPPORT;\n        }\n        if (supportsPerformanceTracks) {\n          profilingFlags |= PROFILING_FLAG_PERFORMANCE_TRACKS_SUPPORT;\n        }\n      }\n\n      // Set supportsStrictMode to false for production renderer builds\n      const isProductionBuildOfRenderer = renderer.bundleType === 0;\n\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(ElementTypeRoot);\n      pushOperation((fiber.mode & StrictModeBits) !== 0 ? 1 : 0);\n      pushOperation(profilingFlags);\n      pushOperation(\n        !isProductionBuildOfRenderer && StrictModeBits !== 0 ? 1 : 0,\n      );\n      pushOperation(hasOwnerMetadata ? 1 : 0);\n\n      if (isProfiling) {\n        if (displayNamesByRootID !== null) {\n          displayNamesByRootID.set(id, getDisplayNameForRoot(fiber));\n        }\n      }\n    } else {\n      const {key} = fiber;\n      const displayName = getDisplayNameForFiber(fiber);\n      const elementType = getElementTypeForFiber(fiber);\n\n      // Finding the owner instance might require traversing the whole parent path which\n      // doesn't have great big O notation. Ideally we'd lazily fetch the owner when we\n      // need it but we have some synchronous operations in the front end like Alt+Left\n      // which selects the owner immediately. Typically most owners are only a few parents\n      // away so maybe it's not so bad.\n      const debugOwner = getUnfilteredOwner(fiber);\n      const ownerInstance = findNearestOwnerInstance(\n        parentInstance,\n        debugOwner,\n      );\n      if (\n        ownerInstance !== null &&\n        debugOwner === fiber._debugOwner &&\n        fiber._debugStack != null &&\n        ownerInstance.source === null\n      ) {\n        // The new Fiber is directly owned by the ownerInstance. Therefore somewhere on\n        // the debugStack will be a stack frame inside the ownerInstance's source.\n        ownerInstance.source = fiber._debugStack;\n      }\n\n      let unfilteredParent = parentInstance;\n      while (\n        unfilteredParent !== null &&\n        unfilteredParent.kind === FILTERED_FIBER_INSTANCE\n      ) {\n        unfilteredParent = unfilteredParent.parent;\n      }\n\n      const ownerID = ownerInstance === null ? 0 : ownerInstance.id;\n      const parentID = unfilteredParent === null ? 0 : unfilteredParent.id;\n\n      const displayNameStringID = getStringID(displayName);\n\n      // This check is a guard to handle a React element that has been modified\n      // in such a way as to bypass the default stringification of the \"key\" property.\n      const keyString = key === null ? null : String(key);\n      const keyStringID = getStringID(keyString);\n\n      const nameProp =\n        fiber.tag === SuspenseComponent\n          ? fiber.memoizedProps.name\n          : fiber.tag === ActivityComponent\n            ? fiber.memoizedProps.name\n            : null;\n      const namePropString = nameProp == null ? null : String(nameProp);\n      const namePropStringID = getStringID(namePropString);\n\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(elementType);\n      pushOperation(parentID);\n      pushOperation(ownerID);\n      pushOperation(displayNameStringID);\n      pushOperation(keyStringID);\n      pushOperation(namePropStringID);\n\n      // If this subtree has a new mode, let the frontend know.\n      if ((fiber.mode & StrictModeBits) !== 0) {\n        let parentFiber = null;\n        let parentFiberInstance = parentInstance;\n        while (parentFiberInstance !== null) {\n          if (parentFiberInstance.kind === FIBER_INSTANCE) {\n            parentFiber = parentFiberInstance.data;\n            break;\n          }\n          parentFiberInstance = parentFiberInstance.parent;\n        }\n        if (parentFiber === null || (parentFiber.mode & StrictModeBits) === 0) {\n          pushOperation(TREE_OPERATION_SET_SUBTREE_MODE);\n          pushOperation(id);\n          pushOperation(StrictMode);\n        }\n      }\n    }\n\n    let componentLogsEntry = fiberToComponentLogsMap.get(fiber);\n    if (componentLogsEntry === undefined && fiber.alternate !== null) {\n      componentLogsEntry = fiberToComponentLogsMap.get(fiber.alternate);\n    }\n    recordConsoleLogs(fiberInstance, componentLogsEntry);\n\n    if (isProfilingSupported) {\n      recordProfilingDurations(fiberInstance, null);\n    }\n  }\n\n  function recordVirtualMount(\n    instance: VirtualInstance,\n    parentInstance: DevToolsInstance | null,\n    secondaryEnv: null | string,\n  ): void {\n    const id = instance.id;\n\n    idToDevToolsInstanceMap.set(id, instance);\n\n    recordVirtualReconnect(instance, parentInstance, secondaryEnv);\n  }\n\n  function recordVirtualReconnect(\n    instance: VirtualInstance,\n    parentInstance: DevToolsInstance | null,\n    secondaryEnv: null | string,\n  ): void {\n    if (isInDisconnectedSubtree) {\n      // We're disconnected. We'll reconnect a hidden mount after the parent reappears.\n      return;\n    }\n    const componentInfo = instance.data;\n\n    const key =\n      typeof componentInfo.key === 'string' ? componentInfo.key : null;\n    const env = componentInfo.env;\n    let displayName = componentInfo.name || '';\n    if (typeof env === 'string') {\n      // We model environment as an HoC name for now.\n      if (secondaryEnv !== null) {\n        displayName = secondaryEnv + '(' + displayName + ')';\n      }\n      displayName = env + '(' + displayName + ')';\n    }\n    const elementType = ElementTypeVirtual;\n\n    // Finding the owner instance might require traversing the whole parent path which\n    // doesn't have great big O notation. Ideally we'd lazily fetch the owner when we\n    // need it but we have some synchronous operations in the front end like Alt+Left\n    // which selects the owner immediately. Typically most owners are only a few parents\n    // away so maybe it's not so bad.\n    const debugOwner = getUnfilteredOwner(componentInfo);\n    const ownerInstance = findNearestOwnerInstance(parentInstance, debugOwner);\n    if (\n      ownerInstance !== null &&\n      debugOwner === componentInfo.owner &&\n      componentInfo.debugStack != null &&\n      ownerInstance.source === null\n    ) {\n      // The new Fiber is directly owned by the ownerInstance. Therefore somewhere on\n      // the debugStack will be a stack frame inside the ownerInstance's source.\n      ownerInstance.source = componentInfo.debugStack;\n    }\n\n    let unfilteredParent = parentInstance;\n    while (\n      unfilteredParent !== null &&\n      unfilteredParent.kind === FILTERED_FIBER_INSTANCE\n    ) {\n      unfilteredParent = unfilteredParent.parent;\n    }\n\n    const ownerID = ownerInstance === null ? 0 : ownerInstance.id;\n    const parentID = unfilteredParent === null ? 0 : unfilteredParent.id;\n\n    const displayNameStringID = getStringID(displayName);\n\n    // This check is a guard to handle a React element that has been modified\n    // in such a way as to bypass the default stringification of the \"key\" property.\n    const keyString = key === null ? null : String(key);\n    const keyStringID = getStringID(keyString);\n    const namePropStringID = getStringID(null);\n\n    const id = instance.id;\n\n    pushOperation(TREE_OPERATION_ADD);\n    pushOperation(id);\n    pushOperation(elementType);\n    pushOperation(parentID);\n    pushOperation(ownerID);\n    pushOperation(displayNameStringID);\n    pushOperation(keyStringID);\n    pushOperation(namePropStringID);\n\n    const componentLogsEntry =\n      componentInfoToComponentLogsMap.get(componentInfo);\n    recordConsoleLogs(instance, componentLogsEntry);\n  }\n\n  function recordSuspenseMount(\n    suspenseInstance: SuspenseNode,\n    parentSuspenseInstance: SuspenseNode | null,\n  ): void {\n    const fiberInstance = suspenseInstance.instance;\n    if (fiberInstance.kind === FILTERED_FIBER_INSTANCE) {\n      throw new Error('Cannot record a mount for a filtered Fiber instance.');\n    }\n    const fiberID = fiberInstance.id;\n\n    let unfilteredParent = parentSuspenseInstance;\n    while (\n      unfilteredParent !== null &&\n      unfilteredParent.instance.kind === FILTERED_FIBER_INSTANCE\n    ) {\n      unfilteredParent = unfilteredParent.parent;\n    }\n    const unfilteredParentInstance =\n      unfilteredParent !== null ? unfilteredParent.instance : null;\n    if (\n      unfilteredParentInstance !== null &&\n      unfilteredParentInstance.kind === FILTERED_FIBER_INSTANCE\n    ) {\n      throw new Error(\n        'Should not have a filtered instance at this point. This is a bug.',\n      );\n    }\n    const parentID =\n      unfilteredParentInstance === null ? 0 : unfilteredParentInstance.id;\n\n    const fiber = fiberInstance.data;\n    const props = fiber.memoizedProps;\n    // The frontend will guess a name based on heuristics (e.g. owner) if no explicit name is given.\n    const name =\n      fiber.tag !== SuspenseComponent || props === null\n        ? null\n        : props.name || null;\n    const nameStringID = getStringID(name);\n\n    const isSuspended =\n      fiber.tag === SuspenseComponent && fiber.memoizedState !== null;\n\n    if (__DEBUG__) {\n      console.log('recordSuspenseMount()', suspenseInstance);\n    }\n\n    idToSuspenseNodeMap.set(fiberID, suspenseInstance);\n\n    pushOperation(SUSPENSE_TREE_OPERATION_ADD);\n    pushOperation(fiberID);\n    pushOperation(parentID);\n    pushOperation(nameStringID);\n    pushOperation(isSuspended ? 1 : 0);\n\n    const rects = suspenseInstance.rects;\n    if (rects === null) {\n      pushOperation(-1);\n    } else {\n      pushOperation(rects.length);\n      for (let i = 0; i < rects.length; ++i) {\n        const rect = rects[i];\n        pushOperation(Math.round(rect.x * 1000));\n        pushOperation(Math.round(rect.y * 1000));\n        pushOperation(Math.round(rect.width * 1000));\n        pushOperation(Math.round(rect.height * 1000));\n      }\n    }\n  }\n\n  function recordUnmount(fiberInstance: FiberInstance): void {\n    if (__DEBUG__) {\n      debug('recordUnmount()', fiberInstance, reconcilingParent);\n    }\n\n    recordDisconnect(fiberInstance);\n\n    const suspenseNode = fiberInstance.suspenseNode;\n    if (suspenseNode !== null) {\n      recordSuspenseUnmount(suspenseNode);\n    }\n\n    idToDevToolsInstanceMap.delete(fiberInstance.id);\n\n    untrackFiber(fiberInstance, fiberInstance.data);\n  }\n\n  function recordDisconnect(fiberInstance: FiberInstance): void {\n    if (isInDisconnectedSubtree) {\n      // Already disconnected.\n      return;\n    }\n    const fiber = fiberInstance.data;\n\n    if (trackedPathMatchInstance === fiberInstance) {\n      // We're in the process of trying to restore previous selection.\n      // If this fiber matched but is being hidden, there's no use trying.\n      // Reset the state so we don't keep holding onto it.\n      setTrackedPath(null);\n    }\n\n    const id = fiberInstance.id;\n    const isRoot = fiber.tag === HostRoot;\n    if (isRoot) {\n      // Roots must be removed only after all children have been removed.\n      // So we track it separately.\n      pendingUnmountedRootID = id;\n    } else {\n      // To maintain child-first ordering,\n      // we'll push it into one of these queues,\n      // and later arrange them in the correct order.\n      pendingRealUnmountedIDs.push(id);\n    }\n  }\n\n  function recordSuspenseResize(suspenseNode: SuspenseNode): void {\n    if (__DEBUG__) {\n      console.log('recordSuspenseResize()', suspenseNode);\n    }\n    const fiberInstance = suspenseNode.instance;\n    if (fiberInstance.kind !== FIBER_INSTANCE) {\n      // TODO: Resizes of filtered Suspense nodes are currently dropped.\n      return;\n    }\n\n    pushOperation(SUSPENSE_TREE_OPERATION_RESIZE);\n    pushOperation(fiberInstance.id);\n    const rects = suspenseNode.rects;\n    if (rects === null) {\n      pushOperation(-1);\n    } else {\n      pushOperation(rects.length);\n      for (let i = 0; i < rects.length; ++i) {\n        const rect = rects[i];\n        pushOperation(Math.round(rect.x * 1000));\n        pushOperation(Math.round(rect.y * 1000));\n        pushOperation(Math.round(rect.width * 1000));\n        pushOperation(Math.round(rect.height * 1000));\n      }\n    }\n  }\n\n  function recordSuspenseSuspenders(suspenseNode: SuspenseNode): void {\n    if (__DEBUG__) {\n      console.log('recordSuspenseSuspenders()', suspenseNode);\n    }\n    const fiberInstance = suspenseNode.instance;\n    if (fiberInstance.kind !== FIBER_INSTANCE) {\n      // TODO: Suspender updates of filtered Suspense nodes are currently dropped.\n      return;\n    }\n\n    // TODO: Just enqueue the operations here instead of stashing by id.\n\n    // Ensure each environment gets recorded in the string table since it is emitted\n    // before we loop it over again later during flush.\n    suspenseNode.environments.forEach((count, env) => {\n      getStringID(env);\n    });\n    pendingSuspenderChanges.add(fiberInstance.id);\n  }\n\n  function recordSuspenseUnmount(suspenseInstance: SuspenseNode): void {\n    if (__DEBUG__) {\n      console.log(\n        'recordSuspenseUnmount()',\n        suspenseInstance,\n        reconcilingParentSuspenseNode,\n      );\n    }\n\n    const devtoolsInstance = suspenseInstance.instance;\n    if (devtoolsInstance.kind !== FIBER_INSTANCE) {\n      throw new Error(\"Can't unmount a filtered SuspenseNode. This is a bug.\");\n    }\n    const fiberInstance = devtoolsInstance;\n    const id = fiberInstance.id;\n\n    // To maintain child-first ordering,\n    // we'll push it into one of these queues,\n    // and later arrange them in the correct order.\n    pendingRealUnmountedSuspenseIDs.push(id);\n\n    pendingSuspenderChanges.delete(id);\n    idToSuspenseNodeMap.delete(id);\n  }\n\n  // Running state of the remaining children from the previous version of this parent that\n  // we haven't yet added back. This should be reset anytime we change parent.\n  // Any remaining ones at the end will be deleted.\n  let remainingReconcilingChildren: null | DevToolsInstance = null;\n  // The previously placed child.\n  let previouslyReconciledSibling: null | DevToolsInstance = null;\n  // To save on stack allocation and ensure that they are updated as a pair, we also store\n  // the current parent here as well.\n  let reconcilingParent: null | DevToolsInstance = null;\n\n  let remainingReconcilingChildrenSuspenseNodes: null | SuspenseNode = null;\n  // The previously placed child.\n  let previouslyReconciledSiblingSuspenseNode: null | SuspenseNode = null;\n  // To save on stack allocation and ensure that they are updated as a pair, we also store\n  // the current parent here as well.\n  let reconcilingParentSuspenseNode: null | SuspenseNode = null;\n\n  function ioExistsInSuspenseAncestor(\n    suspenseNode: SuspenseNode,\n    ioInfo: ReactIOInfo,\n  ): boolean {\n    let ancestor = suspenseNode.parent;\n    while (ancestor !== null) {\n      if (ancestor.suspendedBy.has(ioInfo)) {\n        return true;\n      }\n      ancestor = ancestor.parent;\n    }\n    return false;\n  }\n\n  function insertSuspendedBy(asyncInfo: ReactAsyncInfo): void {\n    if (reconcilingParent === null || reconcilingParentSuspenseNode === null) {\n      throw new Error(\n        'It should not be possible to have suspended data outside the root. ' +\n          'Even suspending at the first position is still a child of the root.',\n      );\n    }\n    const parentSuspenseNode = reconcilingParentSuspenseNode;\n    // Use the nearest unfiltered parent so that there's always some component that has\n    // the entry on it even if you filter, or the root if all are filtered.\n    let parentInstance = reconcilingParent;\n    while (\n      parentInstance.kind === FILTERED_FIBER_INSTANCE &&\n      parentInstance.parent !== null &&\n      // We can't move past the parent Suspense node.\n      // The Suspense node holding async info must be a parent of the devtools instance (or the instance itself)\n      parentInstance !== parentSuspenseNode.instance\n    ) {\n      parentInstance = parentInstance.parent;\n    }\n\n    const suspenseNodeSuspendedBy = parentSuspenseNode.suspendedBy;\n    const ioInfo = asyncInfo.awaited;\n    let suspendedBySet = suspenseNodeSuspendedBy.get(ioInfo);\n    if (suspendedBySet === undefined) {\n      suspendedBySet = new Set();\n      suspenseNodeSuspendedBy.set(ioInfo, suspendedBySet);\n      // We've added a dependency. We must increment the ref count of the environment.\n      const env = ioInfo.env;\n      if (env != null) {\n        const environmentCounts = parentSuspenseNode.environments;\n        const count = environmentCounts.get(env);\n        if (count === undefined || count === 0) {\n          environmentCounts.set(env, 1);\n          // We've discovered a new environment for this SuspenseNode. We'll to update the node.\n          recordSuspenseSuspenders(parentSuspenseNode);\n        } else {\n          environmentCounts.set(env, count + 1);\n        }\n      }\n    }\n    // The child of the Suspense boundary that was suspended on this, or null if suspended at the root.\n    // This is used to keep track of how many dependents are still alive and also to get information\n    // like owner instances to link down into the tree.\n    if (!suspendedBySet.has(parentInstance)) {\n      suspendedBySet.add(parentInstance);\n      if (\n        !parentSuspenseNode.hasUniqueSuspenders &&\n        !ioExistsInSuspenseAncestor(parentSuspenseNode, ioInfo)\n      ) {\n        // This didn't exist in the parent before, so let's mark this boundary as having a unique suspender.\n        parentSuspenseNode.hasUniqueSuspenders = true;\n        recordSuspenseSuspenders(parentSuspenseNode);\n      }\n    }\n    // We have observed at least one known reason this might have been suspended.\n    parentSuspenseNode.hasUnknownSuspenders = false;\n    // Suspending right below the root is not attributed to any particular component in UI\n    // other than the SuspenseNode and the HostRoot's FiberInstance.\n    const suspendedBy = parentInstance.suspendedBy;\n    if (suspendedBy === null) {\n      parentInstance.suspendedBy = [asyncInfo];\n    } else if (suspendedBy.indexOf(asyncInfo) === -1) {\n      suspendedBy.push(asyncInfo);\n    }\n  }\n\n  function getAwaitInSuspendedByFromIO(\n    suspensedBy: Array<ReactAsyncInfo>,\n    ioInfo: ReactIOInfo,\n  ): null | ReactAsyncInfo {\n    for (let i = 0; i < suspensedBy.length; i++) {\n      const asyncInfo = suspensedBy[i];\n      if (asyncInfo.awaited === ioInfo) {\n        return asyncInfo;\n      }\n    }\n    return null;\n  }\n\n  function unblockSuspendedBy(\n    parentSuspenseNode: SuspenseNode,\n    ioInfo: ReactIOInfo,\n  ): void {\n    const firstChild = parentSuspenseNode.firstChild;\n    if (firstChild === null) {\n      return;\n    }\n    let node: SuspenseNode = firstChild;\n    while (node !== null) {\n      if (node.suspendedBy.has(ioInfo)) {\n        // We have found a child boundary that depended on the unblocked I/O.\n        // It can now be marked as having unique suspenders. We can skip its children\n        // since they'll still be blocked by this one.\n        if (!node.hasUniqueSuspenders) {\n          recordSuspenseSuspenders(node);\n        }\n        node.hasUniqueSuspenders = true;\n        node.hasUnknownSuspenders = false;\n      } else if (node.firstChild !== null) {\n        node = node.firstChild;\n        continue;\n      }\n      while (node.nextSibling === null) {\n        if (node.parent === null || node.parent === parentSuspenseNode) {\n          return;\n        }\n        node = node.parent;\n      }\n      node = node.nextSibling;\n    }\n  }\n\n  function removePreviousSuspendedBy(\n    instance: DevToolsInstance,\n    previousSuspendedBy: null | Array<ReactAsyncInfo>,\n    parentSuspenseNode: null | SuspenseNode,\n  ): void {\n    // Remove any async info if they were in the previous set but\n    // is no longer in the new set.\n    // If we just reconciled a SuspenseNode, we need to remove from that node instead of the parent.\n    // This is different from inserting because inserting is done during reconiliation\n    // whereas removal is done after we're done reconciling.\n    const suspenseNode =\n      instance.suspenseNode === null\n        ? parentSuspenseNode\n        : instance.suspenseNode;\n    if (previousSuspendedBy !== null && suspenseNode !== null) {\n      const nextSuspendedBy = instance.suspendedBy;\n      let changedEnvironment = false;\n      for (let i = 0; i < previousSuspendedBy.length; i++) {\n        const asyncInfo = previousSuspendedBy[i];\n        if (\n          nextSuspendedBy === null ||\n          (nextSuspendedBy.indexOf(asyncInfo) === -1 &&\n            getAwaitInSuspendedByFromIO(nextSuspendedBy, asyncInfo.awaited) ===\n              null)\n        ) {\n          // This IO entry is no longer blocking the current tree.\n          // Let's remove it from the parent SuspenseNode.\n          const ioInfo = asyncInfo.awaited;\n          const suspendedBySet = suspenseNode.suspendedBy.get(ioInfo);\n\n          if (\n            suspendedBySet === undefined ||\n            !suspendedBySet.delete(instance)\n          ) {\n            // A boundary can await the same IO multiple times.\n            // We still want to error if we're trying to remove IO that isn't present on\n            // this boundary so we need to check if we've already removed it.\n            // We're assuming previousSuspendedBy is a small array so this should be faster\n            // than allocating and maintaining a Set.\n            let alreadyRemovedIO = false;\n            for (let j = 0; j < i; j++) {\n              const removedIOInfo = previousSuspendedBy[j].awaited;\n              if (removedIOInfo === ioInfo) {\n                alreadyRemovedIO = true;\n                break;\n              }\n            }\n            if (!alreadyRemovedIO) {\n              throw new Error(\n                'We are cleaning up async info that was not on the parent Suspense boundary. ' +\n                  'This is a bug in React.',\n              );\n            }\n          }\n          if (suspendedBySet !== undefined && suspendedBySet.size === 0) {\n            suspenseNode.suspendedBy.delete(ioInfo);\n            // Successfully removed all dependencies. We can decrement the ref count of the environment.\n            const env = ioInfo.env;\n            if (env != null) {\n              const environmentCounts = suspenseNode.environments;\n              const count = environmentCounts.get(env);\n              if (count === undefined || count === 0) {\n                throw new Error(\n                  'We are removing an environment but it was not in the set. ' +\n                    'This is a bug in React.',\n                );\n              }\n              if (count === 1) {\n                environmentCounts.delete(env);\n                // Last one. We've now change the set of environments. We'll need to update the node.\n                changedEnvironment = true;\n              } else {\n                environmentCounts.set(env, count - 1);\n              }\n            }\n          }\n          if (\n            suspenseNode.hasUniqueSuspenders &&\n            !ioExistsInSuspenseAncestor(suspenseNode, ioInfo)\n          ) {\n            // This entry wasn't in any ancestor and is no longer in this suspense boundary.\n            // This means that a child might now be the unique suspender for this IO.\n            // Search the child boundaries to see if we can reveal any of them.\n            unblockSuspendedBy(suspenseNode, ioInfo);\n          }\n        }\n      }\n      if (changedEnvironment) {\n        recordSuspenseSuspenders(suspenseNode);\n      }\n    }\n  }\n\n  function insertChild(instance: DevToolsInstance): void {\n    const parentInstance = reconcilingParent;\n    if (parentInstance === null) {\n      // This instance is at the root.\n      return;\n    }\n    // Place it in the parent.\n    instance.parent = parentInstance;\n    if (previouslyReconciledSibling === null) {\n      previouslyReconciledSibling = instance;\n      parentInstance.firstChild = instance;\n    } else {\n      previouslyReconciledSibling.nextSibling = instance;\n      previouslyReconciledSibling = instance;\n    }\n    instance.nextSibling = null;\n    // Insert any SuspenseNode into its parent Node.\n    const suspenseNode = instance.suspenseNode;\n    if (suspenseNode !== null) {\n      const parentNode = reconcilingParentSuspenseNode;\n      if (parentNode !== null) {\n        suspenseNode.parent = parentNode;\n        if (previouslyReconciledSiblingSuspenseNode === null) {\n          previouslyReconciledSiblingSuspenseNode = suspenseNode;\n          parentNode.firstChild = suspenseNode;\n        } else {\n          previouslyReconciledSiblingSuspenseNode.nextSibling = suspenseNode;\n          previouslyReconciledSiblingSuspenseNode = suspenseNode;\n        }\n        suspenseNode.nextSibling = null;\n      }\n    }\n  }\n\n  function moveChild(\n    instance: DevToolsInstance,\n    previousSibling: null | DevToolsInstance,\n  ): void {\n    removeChild(instance, previousSibling);\n    insertChild(instance);\n  }\n\n  function removeChild(\n    instance: DevToolsInstance,\n    previousSibling: null | DevToolsInstance,\n  ): void {\n    if (instance.parent === null) {\n      if (remainingReconcilingChildren === instance) {\n        throw new Error(\n          'Remaining children should not have items with no parent',\n        );\n      } else if (instance.nextSibling !== null) {\n        throw new Error('A deleted instance should not have next siblings');\n      }\n      // Already deleted.\n      return;\n    }\n    const parentInstance = reconcilingParent;\n    if (parentInstance === null) {\n      throw new Error('Should not have a parent if we are at the root');\n    }\n    if (instance.parent !== parentInstance) {\n      throw new Error(\n        'Cannot remove a node from a different parent than is being reconciled.',\n      );\n    }\n    // Remove an existing child from its current position, which we assume is in the\n    // remainingReconcilingChildren set.\n    if (previousSibling === null) {\n      // We're first in the remaining set. Remove us.\n      if (remainingReconcilingChildren !== instance) {\n        throw new Error(\n          'Expected a placed child to be moved from the remaining set.',\n        );\n      }\n      remainingReconcilingChildren = instance.nextSibling;\n    } else {\n      previousSibling.nextSibling = instance.nextSibling;\n    }\n    instance.nextSibling = null;\n    instance.parent = null;\n\n    // Remove any SuspenseNode from its parent.\n    const suspenseNode = instance.suspenseNode;\n    if (suspenseNode !== null && suspenseNode.parent !== null) {\n      const parentNode = reconcilingParentSuspenseNode;\n      if (parentNode === null) {\n        throw new Error('Should not have a parent if we are at the root');\n      }\n      if (suspenseNode.parent !== parentNode) {\n        throw new Error(\n          'Cannot remove a Suspense node from a different parent than is being reconciled.',\n        );\n      }\n      let previousSuspenseSibling = remainingReconcilingChildrenSuspenseNodes;\n      if (previousSuspenseSibling === suspenseNode) {\n        // We're first in the remaining set. Remove us.\n        remainingReconcilingChildrenSuspenseNodes = suspenseNode.nextSibling;\n      } else {\n        // Search for our previous sibling and remove us.\n        while (previousSuspenseSibling !== null) {\n          if (previousSuspenseSibling.nextSibling === suspenseNode) {\n            previousSuspenseSibling.nextSibling = suspenseNode.nextSibling;\n            break;\n          }\n          previousSuspenseSibling = previousSuspenseSibling.nextSibling;\n        }\n      }\n      suspenseNode.nextSibling = null;\n      suspenseNode.parent = null;\n    }\n  }\n\n  function isHiddenOffscreen(fiber: Fiber): boolean {\n    switch (fiber.tag) {\n      case LegacyHiddenComponent:\n      // fallthrough since all published implementations currently implement the same state as Offscreen.\n      case OffscreenComponent:\n        return fiber.memoizedState !== null;\n      default:\n        return false;\n    }\n  }\n\n  /**\n   * Offscreen of suspended Suspense\n   */\n  function isSuspendedOffscreen(fiber: Fiber): boolean {\n    switch (fiber.tag) {\n      case LegacyHiddenComponent:\n      // fallthrough since all published implementations currently implement the same state as Offscreen.\n      case OffscreenComponent:\n        return (\n          fiber.memoizedState !== null &&\n          fiber.return !== null &&\n          fiber.return.tag === SuspenseComponent\n        );\n      default:\n        return false;\n    }\n  }\n\n  function unmountRemainingChildren() {\n    if (\n      reconcilingParent !== null &&\n      (reconcilingParent.kind === FIBER_INSTANCE ||\n        reconcilingParent.kind === FILTERED_FIBER_INSTANCE) &&\n      isSuspendedOffscreen(reconcilingParent.data) &&\n      !isInDisconnectedSubtree\n    ) {\n      // This is a hidden offscreen, we need to execute this in the context of a disconnected subtree.\n      isInDisconnectedSubtree = true;\n      try {\n        let child = remainingReconcilingChildren;\n        while (child !== null) {\n          unmountInstanceRecursively(child);\n          child = remainingReconcilingChildren;\n        }\n      } finally {\n        isInDisconnectedSubtree = false;\n      }\n    } else {\n      let child = remainingReconcilingChildren;\n      while (child !== null) {\n        unmountInstanceRecursively(child);\n        child = remainingReconcilingChildren;\n      }\n    }\n  }\n\n  function unmountSuspenseChildrenRecursively(\n    contentInstance: DevToolsInstance,\n    stashedSuspenseParent: null | SuspenseNode,\n    stashedSuspensePrevious: null | SuspenseNode,\n    stashedSuspenseRemaining: null | SuspenseNode,\n  ): void {\n    // First unmount only the Offscreen boundary. I.e. the main content.\n    unmountInstanceRecursively(contentInstance);\n\n    // Next, we'll pop back out of the SuspenseNode that we added above and now we'll\n    // unmount the fallback, unmounting anything in the context of the parent SuspenseNode.\n    // Since the fallback conceptually blocks the parent.\n    reconcilingParentSuspenseNode = stashedSuspenseParent;\n    previouslyReconciledSiblingSuspenseNode = stashedSuspensePrevious;\n    remainingReconcilingChildrenSuspenseNodes = stashedSuspenseRemaining;\n    unmountRemainingChildren();\n  }\n\n  function isChildOf(\n    parentInstance: DevToolsInstance,\n    childInstance: DevToolsInstance,\n    grandParent: DevToolsInstance,\n  ): boolean {\n    let instance = childInstance.parent;\n    while (instance !== null) {\n      if (parentInstance === instance) {\n        return true;\n      }\n      if (instance === parentInstance.parent || instance === grandParent) {\n        // This was a sibling but not inside the FiberInstance. We can bail out.\n        break;\n      }\n      instance = instance.parent;\n    }\n    return false;\n  }\n\n  function areEqualRects(\n    a: null | Array<Rect>,\n    b: null | Array<Rect>,\n  ): boolean {\n    if (a === null) {\n      return b === null;\n    }\n    if (b === null) {\n      return false;\n    }\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let i = 0; i < a.length; i++) {\n      const aRect = a[i];\n      const bRect = b[i];\n      if (\n        aRect.x !== bRect.x ||\n        aRect.y !== bRect.y ||\n        aRect.width !== bRect.width ||\n        aRect.height !== bRect.height\n      ) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  function measureUnchangedSuspenseNodesRecursively(\n    suspenseNode: SuspenseNode,\n  ): void {\n    if (isInDisconnectedSubtree) {\n      // We don't update rects inside disconnected subtrees.\n      return;\n    }\n    const instance = suspenseNode.instance;\n\n    const isSuspendedSuspenseComponent =\n      (instance.kind === FIBER_INSTANCE ||\n        instance.kind === FILTERED_FIBER_INSTANCE) &&\n      instance.data.tag === SuspenseComponent &&\n      instance.data.memoizedState !== null;\n    if (isSuspendedSuspenseComponent) {\n      // This boundary itself was suspended and we don't measure those since that would measure\n      // the fallback. We want to keep a ghost of the rectangle of the content not currently shown.\n      return;\n    }\n\n    // While this boundary wasn't suspended and the bailed out root and wasn't in a disconnected subtree,\n    // it's possible that this node was in one. So we need to check if we're offscreen.\n    let parent = instance.parent;\n    while (parent !== null) {\n      if (\n        (parent.kind === FIBER_INSTANCE ||\n          parent.kind === FILTERED_FIBER_INSTANCE) &&\n        isHiddenOffscreen(parent.data)\n      ) {\n        // We're inside a hidden offscreen Fiber. We're in a disconnected tree.\n        return;\n      }\n      if (parent.suspenseNode !== null) {\n        // Found our parent SuspenseNode. We can bail out now.\n        break;\n      }\n      parent = parent.parent;\n    }\n\n    const nextRects = measureInstance(suspenseNode.instance);\n    const prevRects = suspenseNode.rects;\n    if (areEqualRects(prevRects, nextRects)) {\n      return; // Unchanged\n    }\n\n    // We changed inside a visible tree.\n    // Since this boundary changed, it's possible it also affected its children so lets\n    // measure them as well.\n    for (\n      let child = suspenseNode.firstChild;\n      child !== null;\n      child = child.nextSibling\n    ) {\n      measureUnchangedSuspenseNodesRecursively(child);\n    }\n    suspenseNode.rects = nextRects;\n    recordSuspenseResize(suspenseNode);\n  }\n\n  function consumeSuspenseNodesOfExistingInstance(\n    instance: DevToolsInstance,\n  ): void {\n    // We need to also consume any unchanged Suspense boundaries.\n    let suspenseNode = remainingReconcilingChildrenSuspenseNodes;\n    if (suspenseNode === null) {\n      return;\n    }\n    const parentSuspenseNode = reconcilingParentSuspenseNode;\n    if (parentSuspenseNode === null) {\n      throw new Error(\n        'The should not be any remaining suspense node children if there is no parent.',\n      );\n    }\n    let foundOne = false;\n    let previousSkippedSibling = null;\n    while (suspenseNode !== null) {\n      // Check if this SuspenseNode was a child of the bailed out FiberInstance.\n      if (\n        isChildOf(instance, suspenseNode.instance, parentSuspenseNode.instance)\n      ) {\n        foundOne = true;\n        // The suspenseNode was child of the bailed out Fiber.\n        // First, remove it from the remaining children set.\n        const nextRemainingSibling = suspenseNode.nextSibling;\n        if (previousSkippedSibling === null) {\n          remainingReconcilingChildrenSuspenseNodes = nextRemainingSibling;\n        } else {\n          previousSkippedSibling.nextSibling = nextRemainingSibling;\n        }\n        suspenseNode.nextSibling = null;\n        // Then, re-insert it into the newly reconciled set.\n        if (previouslyReconciledSiblingSuspenseNode === null) {\n          parentSuspenseNode.firstChild = suspenseNode;\n        } else {\n          previouslyReconciledSiblingSuspenseNode.nextSibling = suspenseNode;\n        }\n        previouslyReconciledSiblingSuspenseNode = suspenseNode;\n        // While React didn't rerender this node, it's possible that it was affected by\n        // layout due to mutation of a parent or sibling. Check if it changed size.\n        measureUnchangedSuspenseNodesRecursively(suspenseNode);\n        // Continue\n        suspenseNode = nextRemainingSibling;\n      } else if (foundOne) {\n        // If we found one and then hit a miss, we assume that we're passed the sequence because\n        // they should've all been consecutive.\n        break;\n      } else {\n        previousSkippedSibling = suspenseNode;\n        suspenseNode = suspenseNode.nextSibling;\n      }\n    }\n  }\n\n  function mountVirtualInstanceRecursively(\n    virtualInstance: VirtualInstance,\n    firstChild: Fiber,\n    lastChild: null | Fiber, // non-inclusive\n    traceNearestHostComponentUpdate: boolean,\n    virtualLevel: number, // the nth level of virtual instances\n  ): void {\n    // If we have the tree selection from previous reload, try to match this Instance.\n    // Also remember whether to do the same for siblings.\n    const mightSiblingsBeOnTrackedPath =\n      updateVirtualTrackedPathStateBeforeMount(\n        virtualInstance,\n        reconcilingParent,\n      );\n\n    const stashedParent = reconcilingParent;\n    const stashedPrevious = previouslyReconciledSibling;\n    const stashedRemaining = remainingReconcilingChildren;\n    // Push a new DevTools instance parent while reconciling this subtree.\n    reconcilingParent = virtualInstance;\n    previouslyReconciledSibling = null;\n    remainingReconcilingChildren = null;\n    try {\n      mountVirtualChildrenRecursively(\n        firstChild,\n        lastChild,\n        traceNearestHostComponentUpdate,\n        virtualLevel + 1,\n      );\n      // Must be called after all children have been appended.\n      recordVirtualProfilingDurations(virtualInstance);\n    } finally {\n      reconcilingParent = stashedParent;\n      previouslyReconciledSibling = stashedPrevious;\n      remainingReconcilingChildren = stashedRemaining;\n      updateTrackedPathStateAfterMount(mightSiblingsBeOnTrackedPath);\n    }\n  }\n\n  function recordVirtualUnmount(instance: VirtualInstance) {\n    recordVirtualDisconnect(instance);\n    idToDevToolsInstanceMap.delete(instance.id);\n  }\n\n  function recordVirtualDisconnect(instance: VirtualInstance) {\n    if (isInDisconnectedSubtree) {\n      return;\n    }\n    if (trackedPathMatchInstance === instance) {\n      // We're in the process of trying to restore previous selection.\n      // If this fiber matched but is being unmounted, there's no use trying.\n      // Reset the state so we don't keep holding onto it.\n      setTrackedPath(null);\n    }\n\n    const id = instance.id;\n    pendingRealUnmountedIDs.push(id);\n  }\n\n  function getSecondaryEnvironmentName(\n    debugInfo: ?ReactDebugInfo,\n    index: number,\n  ): null | string {\n    if (debugInfo != null) {\n      const componentInfo: ReactComponentInfo = (debugInfo[index]: any);\n      for (let i = index + 1; i < debugInfo.length; i++) {\n        const debugEntry = debugInfo[i];\n        if (typeof debugEntry.env === 'string') {\n          // If the next environment is different then this component was the boundary\n          // and it changed before entering the next component. So we assign this\n          // component a secondary environment.\n          return componentInfo.env !== debugEntry.env ? debugEntry.env : null;\n        }\n      }\n    }\n    return null;\n  }\n\n  function trackDebugInfoFromLazyType(fiber: Fiber): void {\n    // The debugInfo from a Lazy isn't propagated onto _debugInfo of the parent Fiber the way\n    // it is when used in child position. So we need to pick it up explicitly.\n    const type = fiber.elementType;\n    const typeSymbol = getTypeSymbol(type); // The elementType might be have been a LazyComponent.\n    if (typeSymbol === LAZY_SYMBOL_STRING) {\n      const debugInfo: ?ReactDebugInfo = type._debugInfo;\n      if (debugInfo) {\n        for (let i = 0; i < debugInfo.length; i++) {\n          const debugEntry = debugInfo[i];\n          if (debugEntry.awaited) {\n            const asyncInfo: ReactAsyncInfo = (debugEntry: any);\n            insertSuspendedBy(asyncInfo);\n          }\n        }\n      }\n    }\n  }\n\n  function trackDebugInfoFromUsedThenables(fiber: Fiber): void {\n    // If a Fiber called use() in DEV mode then we may have collected _debugThenableState on\n    // the dependencies. If so, then this will contain the thenables passed to use().\n    // These won't have their debug info picked up by fiber._debugInfo since that just\n    // contains things suspending the children. We have to collect use() separately.\n    const dependencies = fiber.dependencies;\n    if (dependencies == null) {\n      return;\n    }\n    const thenableState = dependencies._debugThenableState;\n    if (thenableState == null) {\n      return;\n    }\n    // In DEV the thenableState is an inner object.\n    const usedThenables: any = thenableState.thenables || thenableState;\n    if (!Array.isArray(usedThenables)) {\n      return;\n    }\n    for (let i = 0; i < usedThenables.length; i++) {\n      const thenable: Thenable<mixed> = usedThenables[i];\n      const debugInfo = thenable._debugInfo;\n      if (debugInfo) {\n        for (let j = 0; j < debugInfo.length; j++) {\n          const debugEntry = debugInfo[j];\n          if (debugEntry.awaited) {\n            const asyncInfo: ReactAsyncInfo = (debugEntry: any);\n            insertSuspendedBy(asyncInfo);\n          }\n        }\n      }\n    }\n  }\n\n  const hostAsyncInfoCache: WeakMap<{...}, ReactAsyncInfo> = new WeakMap();\n\n  function trackDebugInfoFromHostResource(\n    devtoolsInstance: DevToolsInstance,\n    fiber: Fiber,\n  ): void {\n    const resource: ?{\n      type: 'stylesheet' | 'style' | 'script' | 'void',\n      instance?: null | HostInstance,\n      ...\n    } = fiber.memoizedState;\n    if (resource == null) {\n      return;\n    }\n\n    // Use a cached entry based on the resource. This ensures that if we use the same\n    // resource in multiple places, it gets deduped and inner boundaries don't consider it\n    // as contributing to those boundaries.\n    const existingEntry = hostAsyncInfoCache.get(resource);\n    if (existingEntry !== undefined) {\n      insertSuspendedBy(existingEntry);\n      return;\n    }\n\n    const props: {\n      href?: string,\n      media?: string,\n      ...\n    } = fiber.memoizedProps;\n\n    // Stylesheet resources may suspend. We need to track that.\n    const mayResourceSuspendCommit =\n      resource.type === 'stylesheet' &&\n      // If it doesn't match the currently debugged media, then it doesn't count.\n      (typeof props.media !== 'string' ||\n        typeof matchMedia !== 'function' ||\n        matchMedia(props.media));\n    if (!mayResourceSuspendCommit) {\n      return;\n    }\n\n    const instance = resource.instance;\n    if (instance == null) {\n      return;\n    }\n\n    // Unlike props.href, this href will be fully qualified which we need for comparison below.\n    const href = instance.href;\n    if (typeof href !== 'string') {\n      return;\n    }\n    let start = -1;\n    let end = -1;\n    let byteSize = 0;\n    // $FlowFixMe[method-unbinding]\n    if (typeof performance.getEntriesByType === 'function') {\n      // We may be able to collect the start and end time of this resource from Performance Observer.\n      const resourceEntries = performance.getEntriesByType('resource');\n      for (let i = 0; i < resourceEntries.length; i++) {\n        const resourceEntry = resourceEntries[i];\n        if (resourceEntry.name === href) {\n          start = resourceEntry.startTime;\n          end = start + resourceEntry.duration;\n          // $FlowFixMe[prop-missing]\n          byteSize = (resourceEntry.transferSize: any) || 0;\n        }\n      }\n    }\n    const value = instance.sheet;\n    const promise = Promise.resolve(value);\n    (promise: any).status = 'fulfilled';\n    (promise: any).value = value;\n    const ioInfo: ReactIOInfo = {\n      name: 'stylesheet',\n      start,\n      end,\n      value: promise,\n      // $FlowFixMe: This field doesn't usually take a Fiber but we're only using inside this file.\n      owner: fiber, // Allow linking to the <link> if it's not filtered.\n    };\n    if (byteSize > 0) {\n      // $FlowFixMe[cannot-write]\n      ioInfo.byteSize = byteSize;\n    }\n    const asyncInfo: ReactAsyncInfo = {\n      awaited: ioInfo,\n      // $FlowFixMe: This field doesn't usually take a Fiber but we're only using inside this file.\n      owner: fiber._debugOwner == null ? null : fiber._debugOwner,\n      debugStack: fiber._debugStack == null ? null : fiber._debugStack,\n      debugTask: fiber._debugTask == null ? null : fiber._debugTask,\n    };\n    hostAsyncInfoCache.set(resource, asyncInfo);\n    insertSuspendedBy(asyncInfo);\n  }\n\n  function trackDebugInfoFromHostComponent(\n    devtoolsInstance: DevToolsInstance,\n    fiber: Fiber,\n  ): void {\n    if (fiber.tag !== HostComponent) {\n      return;\n    }\n    if ((fiber.mode & SuspenseyImagesMode) === 0) {\n      // In any released version, Suspensey Images are only enabled inside a ViewTransition\n      // subtree, which is enabled by the SuspenseyImagesMode.\n      // TODO: If we ever enable the enableSuspenseyImages flag then it would be enabled for\n      // all images and we'd need some other check for if the version of React has that enabled.\n      return;\n    }\n\n    const type = fiber.type;\n    const props: {\n      src?: string,\n      onLoad?: (event: any) => void,\n      loading?: 'eager' | 'lazy',\n      ...\n    } = fiber.memoizedProps;\n\n    const maySuspendCommit =\n      type === 'img' &&\n      props.src != null &&\n      props.src !== '' &&\n      props.onLoad == null &&\n      props.loading !== 'lazy';\n\n    // Note: We don't track \"maySuspendCommitOnUpdate\" separately because it doesn't matter if\n    // it didn't suspend this particular update if it would've suspended if it mounted in this\n    // state, since we're tracking the dependencies inside the current state.\n\n    if (!maySuspendCommit) {\n      return;\n    }\n\n    const instance = fiber.stateNode;\n    if (instance == null) {\n      // Should never happen.\n      return;\n    }\n\n    // Unlike props.src, currentSrc will be fully qualified which we need for comparison below.\n    // Unlike instance.src it will be resolved into the media queries currently matching which is\n    // the state we're inspecting.\n    const src = instance.currentSrc;\n    if (typeof src !== 'string' || src === '') {\n      return;\n    }\n    let start = -1;\n    let end = -1;\n    let byteSize = 0;\n    let fileSize = 0;\n    // $FlowFixMe[method-unbinding]\n    if (typeof performance.getEntriesByType === 'function') {\n      // We may be able to collect the start and end time of this resource from Performance Observer.\n      const resourceEntries = performance.getEntriesByType('resource');\n      for (let i = 0; i < resourceEntries.length; i++) {\n        const resourceEntry = resourceEntries[i];\n        if (resourceEntry.name === src) {\n          start = resourceEntry.startTime;\n          end = start + resourceEntry.duration;\n          // $FlowFixMe[prop-missing]\n          fileSize = (resourceEntry.decodedBodySize: any) || 0;\n          // $FlowFixMe[prop-missing]\n          byteSize = (resourceEntry.transferSize: any) || 0;\n        }\n      }\n    }\n    // A representation of the image data itself.\n    // TODO: We could render a little preview in the front end from the resource API.\n    const value: {\n      currentSrc: string,\n      naturalWidth?: number,\n      naturalHeight?: number,\n      fileSize?: number,\n    } = {\n      currentSrc: src,\n    };\n    if (instance.naturalWidth > 0 && instance.naturalHeight > 0) {\n      // The intrinsic size of the file value itself, if it's loaded\n      value.naturalWidth = instance.naturalWidth;\n      value.naturalHeight = instance.naturalHeight;\n    }\n    if (fileSize > 0) {\n      // Cross-origin images won't have a file size that we can access.\n      value.fileSize = fileSize;\n    }\n    const promise = Promise.resolve(value);\n    (promise: any).status = 'fulfilled';\n    (promise: any).value = value;\n    const ioInfo: ReactIOInfo = {\n      name: 'img',\n      start,\n      end,\n      value: promise,\n      // $FlowFixMe: This field doesn't usually take a Fiber but we're only using inside this file.\n      owner: fiber, // Allow linking to the <link> if it's not filtered.\n    };\n    if (byteSize > 0) {\n      // $FlowFixMe[cannot-write]\n      ioInfo.byteSize = byteSize;\n    }\n    const asyncInfo: ReactAsyncInfo = {\n      awaited: ioInfo,\n      // $FlowFixMe: This field doesn't usually take a Fiber but we're only using inside this file.\n      owner: fiber._debugOwner == null ? null : fiber._debugOwner,\n      debugStack: fiber._debugStack == null ? null : fiber._debugStack,\n      debugTask: fiber._debugTask == null ? null : fiber._debugTask,\n    };\n    insertSuspendedBy(asyncInfo);\n  }\n\n  function trackThrownPromisesFromRetryCache(\n    suspenseNode: SuspenseNode,\n    retryCache: ?WeakSet<Wakeable>,\n  ): void {\n    if (retryCache != null) {\n      // If a Suspense boundary ever committed in fallback state with a retryCache, that\n      // suggests that something unique to that boundary was suspensey since otherwise\n      // it wouldn't have thrown and so never created the retryCache.\n      // Unfortunately if we don't have any DEV time debug info or debug thenables then\n      // we have no meta data to show. However, we still mark this Suspense boundary as\n      // participating in the loading sequence since apparently it can suspend.\n      if (!suspenseNode.hasUniqueSuspenders) {\n        recordSuspenseSuspenders(suspenseNode);\n      }\n      suspenseNode.hasUniqueSuspenders = true;\n      // We have not seen any reason yet for why this suspense node might have been\n      // suspended but it clearly has been at some point. If we later discover a reason\n      // we'll clear this flag again.\n      suspenseNode.hasUnknownSuspenders = true;\n    }\n  }\n\n  function mountVirtualChildrenRecursively(\n    firstChild: Fiber,\n    lastChild: null | Fiber, // non-inclusive\n    traceNearestHostComponentUpdate: boolean,\n    virtualLevel: number, // the nth level of virtual instances\n  ): void {\n    // Iterate over siblings rather than recursing.\n    // This reduces the chance of stack overflow for wide trees (e.g. lists with many items).\n    let fiber: Fiber | null = firstChild;\n    let previousVirtualInstance: null | VirtualInstance = null;\n    let previousVirtualInstanceFirstFiber: Fiber = firstChild;\n    while (fiber !== null && fiber !== lastChild) {\n      let level = 0;\n      if (fiber._debugInfo) {\n        for (let i = 0; i < fiber._debugInfo.length; i++) {\n          const debugEntry = fiber._debugInfo[i];\n          if (debugEntry.awaited) {\n            // Async Info\n            const asyncInfo: ReactAsyncInfo = (debugEntry: any);\n            if (level === virtualLevel) {\n              // Track any async info between the previous virtual instance up until to this\n              // instance and add it to the parent. This can add the same set multiple times\n              // so we assume insertSuspendedBy dedupes.\n              insertSuspendedBy(asyncInfo);\n            }\n            continue;\n          }\n          if (typeof debugEntry.name !== 'string') {\n            // Not a Component. Some other Debug Info.\n            continue;\n          }\n          // Scan up until the next Component to see if this component changed environment.\n          const componentInfo: ReactComponentInfo = (debugEntry: any);\n          const secondaryEnv = getSecondaryEnvironmentName(fiber._debugInfo, i);\n          if (componentInfo.env != null) {\n            knownEnvironmentNames.add(componentInfo.env);\n          }\n          if (secondaryEnv !== null) {\n            knownEnvironmentNames.add(secondaryEnv);\n          }\n          if (shouldFilterVirtual(componentInfo, secondaryEnv)) {\n            // Skip.\n            continue;\n          }\n          if (level === virtualLevel) {\n            if (\n              previousVirtualInstance === null ||\n              // Consecutive children with the same debug entry as a parent gets\n              // treated as if they share the same virtual instance.\n              previousVirtualInstance.data !== debugEntry\n            ) {\n              if (previousVirtualInstance !== null) {\n                // Mount any previous children that should go into the previous parent.\n                mountVirtualInstanceRecursively(\n                  previousVirtualInstance,\n                  previousVirtualInstanceFirstFiber,\n                  fiber,\n                  traceNearestHostComponentUpdate,\n                  virtualLevel,\n                );\n              }\n              previousVirtualInstance = createVirtualInstance(componentInfo);\n              recordVirtualMount(\n                previousVirtualInstance,\n                reconcilingParent,\n                secondaryEnv,\n              );\n              insertChild(previousVirtualInstance);\n              previousVirtualInstanceFirstFiber = fiber;\n            }\n            level++;\n            break;\n          } else {\n            level++;\n          }\n        }\n      }\n      if (level === virtualLevel) {\n        if (previousVirtualInstance !== null) {\n          // If we were working on a virtual instance and this is not a virtual\n          // instance, then we end the sequence and mount any previous children\n          // that should go into the previous virtual instance.\n          mountVirtualInstanceRecursively(\n            previousVirtualInstance,\n            previousVirtualInstanceFirstFiber,\n            fiber,\n            traceNearestHostComponentUpdate,\n            virtualLevel,\n          );\n          previousVirtualInstance = null;\n        }\n        // We've reached the end of the virtual levels, but not beyond,\n        // and now continue with the regular fiber.\n        mountFiberRecursively(fiber, traceNearestHostComponentUpdate);\n      }\n      fiber = fiber.sibling;\n    }\n    if (previousVirtualInstance !== null) {\n      // Mount any previous children that should go into the previous parent.\n      mountVirtualInstanceRecursively(\n        previousVirtualInstance,\n        previousVirtualInstanceFirstFiber,\n        null,\n        traceNearestHostComponentUpdate,\n        virtualLevel,\n      );\n    }\n  }\n\n  function mountChildrenRecursively(\n    firstChild: Fiber,\n    traceNearestHostComponentUpdate: boolean,\n  ): void {\n    mountVirtualChildrenRecursively(\n      firstChild,\n      null,\n      traceNearestHostComponentUpdate,\n      0, // first level\n    );\n  }\n\n  function mountSuspenseChildrenRecursively(\n    contentFiber: Fiber,\n    traceNearestHostComponentUpdate: boolean,\n    stashedSuspenseParent: SuspenseNode | null,\n    stashedSuspensePrevious: SuspenseNode | null,\n    stashedSuspenseRemaining: SuspenseNode | null,\n  ) {\n    const fallbackFiber = contentFiber.sibling;\n\n    // First update only the Offscreen boundary. I.e. the main content.\n    mountVirtualChildrenRecursively(\n      contentFiber,\n      fallbackFiber,\n      traceNearestHostComponentUpdate,\n      0, // first level\n    );\n\n    // Next, we'll pop back out of the SuspenseNode that we added above and now we'll\n    // reconcile the fallback, reconciling anything by inserting into the parent SuspenseNode.\n    // Since the fallback conceptually blocks the parent.\n    reconcilingParentSuspenseNode = stashedSuspenseParent;\n    previouslyReconciledSiblingSuspenseNode = stashedSuspensePrevious;\n    remainingReconcilingChildrenSuspenseNodes = stashedSuspenseRemaining;\n    if (fallbackFiber !== null) {\n      mountVirtualChildrenRecursively(\n        fallbackFiber,\n        null,\n        traceNearestHostComponentUpdate,\n        0, // first level\n      );\n    }\n  }\n\n  function mountFiberRecursively(\n    fiber: Fiber,\n    traceNearestHostComponentUpdate: boolean,\n  ): void {\n    const shouldIncludeInTree = !shouldFilterFiber(fiber);\n    let newInstance = null;\n    let newSuspenseNode = null;\n    if (shouldIncludeInTree) {\n      newInstance = recordMount(fiber, reconcilingParent);\n      if (fiber.tag === SuspenseComponent || fiber.tag === HostRoot) {\n        newSuspenseNode = createSuspenseNode(newInstance);\n        // Measure this Suspense node. In general we shouldn't do this until we have\n        // inserted the new children but since we know this is a FiberInstance we'll\n        // just use the Fiber anyway.\n        // Fallbacks get attributed to the parent so we only measure if we're\n        // showing primary content.\n        if (fiber.tag === SuspenseComponent) {\n          if (OffscreenComponent === -1) {\n            const isTimedOut = fiber.memoizedState !== null;\n            if (!isTimedOut) {\n              newSuspenseNode.rects = measureInstance(newInstance);\n            }\n          } else {\n            const hydrated = isFiberHydrated(fiber);\n            if (hydrated) {\n              const contentFiber = fiber.child;\n              if (contentFiber === null) {\n                throw new Error(\n                  'There should always be an Offscreen Fiber child in a hydrated Suspense boundary.',\n                );\n              }\n            } else {\n              // This Suspense Fiber is still dehydrated. It won't have any children\n              // until hydration.\n            }\n            const isTimedOut = fiber.memoizedState !== null;\n            if (!isTimedOut) {\n              newSuspenseNode.rects = measureInstance(newInstance);\n            }\n          }\n        } else {\n          newSuspenseNode.rects = measureInstance(newInstance);\n        }\n        recordSuspenseMount(newSuspenseNode, reconcilingParentSuspenseNode);\n      }\n      insertChild(newInstance);\n      if (__DEBUG__) {\n        debug('mountFiberRecursively()', newInstance, reconcilingParent);\n      }\n    } else if (\n      (reconcilingParent !== null &&\n        reconcilingParent.kind === VIRTUAL_INSTANCE) ||\n      fiber.tag === SuspenseComponent ||\n      // Use to keep resuspended instances alive inside a SuspenseComponent.\n      fiber.tag === OffscreenComponent ||\n      fiber.tag === LegacyHiddenComponent\n    ) {\n      // If the parent is a Virtual Instance and we filtered this Fiber we include a\n      // hidden node. We also include this if it's a Suspense boundary so we can track those\n      // in the Suspense tree.\n      if (\n        reconcilingParent !== null &&\n        reconcilingParent.kind === VIRTUAL_INSTANCE &&\n        reconcilingParent.data === fiber._debugOwner &&\n        fiber._debugStack != null &&\n        reconcilingParent.source === null\n      ) {\n        // The new Fiber is directly owned by the parent. Therefore somewhere on the\n        // debugStack will be a stack frame inside parent that we can use as its soruce.\n        reconcilingParent.source = fiber._debugStack;\n      }\n\n      newInstance = createFilteredFiberInstance(fiber);\n      if (fiber.tag === SuspenseComponent) {\n        newSuspenseNode = createSuspenseNode(newInstance);\n        // Measure this Suspense node. In general we shouldn't do this until we have\n        // inserted the new children but since we know this is a FiberInstance we'll\n        // just use the Fiber anyway.\n        // Fallbacks get attributed to the parent so we only measure if we're\n        // showing primary content.\n        if (OffscreenComponent === -1) {\n          const isTimedOut = fiber.memoizedState !== null;\n          if (!isTimedOut) {\n            newSuspenseNode.rects = measureInstance(newInstance);\n          }\n        } else {\n          const hydrated = isFiberHydrated(fiber);\n          if (hydrated) {\n            const contentFiber = fiber.child;\n            if (contentFiber === null) {\n              throw new Error(\n                'There should always be an Offscreen Fiber child in a hydrated Suspense boundary.',\n              );\n            }\n          } else {\n            // This Suspense Fiber is still dehydrated. It won't have any children\n            // until hydration.\n          }\n          const suspenseState = fiber.memoizedState;\n          const isTimedOut = suspenseState !== null;\n          if (!isTimedOut) {\n            newSuspenseNode.rects = measureInstance(newInstance);\n          }\n        }\n      }\n      insertChild(newInstance);\n      if (__DEBUG__) {\n        debug('mountFiberRecursively()', newInstance, reconcilingParent);\n      }\n    }\n\n    // If we have the tree selection from previous reload, try to match this Fiber.\n    // Also remember whether to do the same for siblings.\n    const mightSiblingsBeOnTrackedPath = updateTrackedPathStateBeforeMount(\n      fiber,\n      newInstance,\n    );\n\n    const stashedParent = reconcilingParent;\n    const stashedPrevious = previouslyReconciledSibling;\n    const stashedRemaining = remainingReconcilingChildren;\n    const stashedSuspenseParent = reconcilingParentSuspenseNode;\n    const stashedSuspensePrevious = previouslyReconciledSiblingSuspenseNode;\n    const stashedSuspenseRemaining = remainingReconcilingChildrenSuspenseNodes;\n    if (newInstance !== null) {\n      // Push a new DevTools instance parent while reconciling this subtree.\n      reconcilingParent = newInstance;\n      previouslyReconciledSibling = null;\n      remainingReconcilingChildren = null;\n    }\n    let shouldPopSuspenseNode = false;\n    if (newSuspenseNode !== null) {\n      reconcilingParentSuspenseNode = newSuspenseNode;\n      previouslyReconciledSiblingSuspenseNode = null;\n      remainingReconcilingChildrenSuspenseNodes = null;\n      shouldPopSuspenseNode = true;\n    }\n    try {\n      if (traceUpdatesEnabled) {\n        if (traceNearestHostComponentUpdate) {\n          const elementType = getElementTypeForFiber(fiber);\n          // If an ancestor updated, we should mark the nearest host nodes for highlighting.\n          if (elementType === ElementTypeHostComponent) {\n            traceUpdatesForNodes.add(fiber.stateNode);\n            traceNearestHostComponentUpdate = false;\n          }\n        }\n\n        // We intentionally do not re-enable the traceNearestHostComponentUpdate flag in this branch,\n        // because we don't want to highlight every host node inside of a newly mounted subtree.\n      }\n\n      trackDebugInfoFromLazyType(fiber);\n      trackDebugInfoFromUsedThenables(fiber);\n\n      if (fiber.tag === HostHoistable) {\n        const nearestInstance = reconcilingParent;\n        if (nearestInstance === null) {\n          throw new Error('Did not expect a host hoistable to be the root');\n        }\n        aquireHostResource(nearestInstance, fiber.memoizedState);\n        trackDebugInfoFromHostResource(nearestInstance, fiber);\n      } else if (\n        fiber.tag === HostComponent ||\n        fiber.tag === HostText ||\n        fiber.tag === HostSingleton\n      ) {\n        const nearestInstance = reconcilingParent;\n        if (nearestInstance === null) {\n          throw new Error('Did not expect a host hoistable to be the root');\n        }\n        aquireHostInstance(nearestInstance, fiber.stateNode);\n        trackDebugInfoFromHostComponent(nearestInstance, fiber);\n      }\n\n      if (isSuspendedOffscreen(fiber)) {\n        // If an Offscreen component is hidden, mount its children as disconnected.\n        const stashedDisconnected = isInDisconnectedSubtree;\n        isInDisconnectedSubtree = true;\n        try {\n          if (fiber.child !== null) {\n            mountChildrenRecursively(fiber.child, false);\n          }\n        } finally {\n          isInDisconnectedSubtree = stashedDisconnected;\n        }\n      } else if (isHiddenOffscreen(fiber)) {\n        // hidden Activity is noisy.\n        // Including it may show overlapping Suspense rects\n      } else if (fiber.tag === SuspenseComponent && OffscreenComponent === -1) {\n        // Legacy Suspense without the Offscreen wrapper. For the modern Suspense we just handle the\n        // Offscreen wrapper itself specially.\n        if (newSuspenseNode !== null) {\n          trackThrownPromisesFromRetryCache(newSuspenseNode, fiber.stateNode);\n        }\n        const isTimedOut = fiber.memoizedState !== null;\n        if (isTimedOut) {\n          // Special case: if Suspense mounts in a timed-out state,\n          // get the fallback child from the inner fragment and mount\n          // it as if it was our own child. Updates handle this too.\n          const primaryChildFragment = fiber.child;\n          const fallbackChildFragment = primaryChildFragment\n            ? primaryChildFragment.sibling\n            : null;\n          if (fallbackChildFragment) {\n            const fallbackChild = fallbackChildFragment.child;\n            if (fallbackChild !== null) {\n              updateTrackedPathStateBeforeMount(fallbackChildFragment, null);\n              mountChildrenRecursively(\n                fallbackChild,\n                traceNearestHostComponentUpdate,\n              );\n            }\n          }\n          // TODO: Track SuspenseNode in resuspended trees.\n        } else {\n          const primaryChild: Fiber | null = fiber.child;\n          if (primaryChild !== null) {\n            mountChildrenRecursively(\n              primaryChild,\n              traceNearestHostComponentUpdate,\n            );\n          }\n        }\n      } else if (\n        fiber.tag === SuspenseComponent &&\n        OffscreenComponent !== -1 &&\n        newInstance !== null &&\n        newSuspenseNode !== null\n      ) {\n        // Modern Suspense path\n        const contentFiber = fiber.child;\n        const hydrated = isFiberHydrated(fiber);\n        if (hydrated) {\n          if (contentFiber === null) {\n            throw new Error(\n              'There should always be an Offscreen Fiber child in a hydrated Suspense boundary.',\n            );\n          }\n\n          trackThrownPromisesFromRetryCache(newSuspenseNode, fiber.stateNode);\n\n          mountSuspenseChildrenRecursively(\n            contentFiber,\n            traceNearestHostComponentUpdate,\n            stashedSuspenseParent,\n            stashedSuspensePrevious,\n            stashedSuspenseRemaining,\n          );\n          // mountSuspenseChildrenRecursively popped already\n          shouldPopSuspenseNode = false;\n        } else {\n          // This Suspense Fiber is still dehydrated. It won't have any children\n          // until hydration.\n        }\n      } else {\n        if (fiber.child !== null) {\n          mountChildrenRecursively(\n            fiber.child,\n            traceNearestHostComponentUpdate,\n          );\n        }\n      }\n    } finally {\n      if (newInstance !== null) {\n        reconcilingParent = stashedParent;\n        previouslyReconciledSibling = stashedPrevious;\n        remainingReconcilingChildren = stashedRemaining;\n      }\n      if (shouldPopSuspenseNode) {\n        reconcilingParentSuspenseNode = stashedSuspenseParent;\n        previouslyReconciledSiblingSuspenseNode = stashedSuspensePrevious;\n        remainingReconcilingChildrenSuspenseNodes = stashedSuspenseRemaining;\n      }\n    }\n\n    // We're exiting this Fiber now, and entering its siblings.\n    // If we have selection to restore, we might need to re-activate tracking.\n    updateTrackedPathStateAfterMount(mightSiblingsBeOnTrackedPath);\n  }\n\n  // We use this to simulate unmounting for Suspense trees\n  // when we switch from primary to fallback, or deleting a subtree.\n  function unmountInstanceRecursively(instance: DevToolsInstance) {\n    if (__DEBUG__) {\n      debug('unmountInstanceRecursively()', instance, reconcilingParent);\n    }\n\n    let shouldPopSuspenseNode = false;\n    const stashedParent = reconcilingParent;\n    const stashedPrevious = previouslyReconciledSibling;\n    const stashedRemaining = remainingReconcilingChildren;\n    const stashedSuspenseParent = reconcilingParentSuspenseNode;\n    const stashedSuspensePrevious = previouslyReconciledSiblingSuspenseNode;\n    const stashedSuspenseRemaining = remainingReconcilingChildrenSuspenseNodes;\n    const previousSuspendedBy = instance.suspendedBy;\n    // Push a new DevTools instance parent while reconciling this subtree.\n    reconcilingParent = instance;\n    previouslyReconciledSibling = null;\n    // Move all the children of this instance to the remaining set.\n    remainingReconcilingChildren = instance.firstChild;\n    instance.firstChild = null;\n    instance.suspendedBy = null;\n\n    if (instance.suspenseNode !== null) {\n      reconcilingParentSuspenseNode = instance.suspenseNode;\n      previouslyReconciledSiblingSuspenseNode = null;\n      remainingReconcilingChildrenSuspenseNodes =\n        instance.suspenseNode.firstChild;\n\n      shouldPopSuspenseNode = true;\n    }\n\n    try {\n      // Unmount the remaining set.\n      if (\n        (instance.kind === FIBER_INSTANCE ||\n          instance.kind === FILTERED_FIBER_INSTANCE) &&\n        instance.data.tag === SuspenseComponent &&\n        OffscreenComponent !== -1\n      ) {\n        const fiber = instance.data;\n        const contentFiberInstance = remainingReconcilingChildren;\n        const hydrated = isFiberHydrated(fiber);\n        if (hydrated) {\n          if (contentFiberInstance === null) {\n            throw new Error(\n              'There should always be an Offscreen Fiber child in a hydrated Suspense boundary.',\n            );\n          }\n\n          unmountSuspenseChildrenRecursively(\n            contentFiberInstance,\n            stashedSuspenseParent,\n            stashedSuspensePrevious,\n            stashedSuspenseRemaining,\n          );\n          // unmountSuspenseChildren already popped\n          shouldPopSuspenseNode = false;\n        } else {\n          if (contentFiberInstance !== null) {\n            throw new Error(\n              'A dehydrated Suspense node should not have a content Fiber.',\n            );\n          }\n        }\n      } else {\n        unmountRemainingChildren();\n      }\n      removePreviousSuspendedBy(\n        instance,\n        previousSuspendedBy,\n        reconcilingParentSuspenseNode,\n      );\n    } finally {\n      reconcilingParent = stashedParent;\n      previouslyReconciledSibling = stashedPrevious;\n      remainingReconcilingChildren = stashedRemaining;\n      if (shouldPopSuspenseNode) {\n        reconcilingParentSuspenseNode = stashedSuspenseParent;\n        previouslyReconciledSiblingSuspenseNode = stashedSuspensePrevious;\n        remainingReconcilingChildrenSuspenseNodes = stashedSuspenseRemaining;\n      }\n    }\n    if (instance.kind === FIBER_INSTANCE) {\n      recordUnmount(instance);\n    } else if (instance.kind === VIRTUAL_INSTANCE) {\n      recordVirtualUnmount(instance);\n    } else {\n      untrackFiber(instance, instance.data);\n    }\n    removeChild(instance, null);\n  }\n\n  function recordProfilingDurations(\n    fiberInstance: FiberInstance,\n    prevFiber: null | Fiber,\n  ) {\n    const id = fiberInstance.id;\n    const fiber = fiberInstance.data;\n    const {actualDuration, treeBaseDuration} = fiber;\n\n    fiberInstance.treeBaseDuration = treeBaseDuration || 0;\n\n    if (isProfiling) {\n      // It's important to update treeBaseDuration even if the current Fiber did not render,\n      // because it's possible that one of its descendants did.\n      if (\n        prevFiber == null ||\n        treeBaseDuration !== prevFiber.treeBaseDuration\n      ) {\n        // Tree base duration updates are included in the operations typed array.\n        // So we have to convert them from milliseconds to microseconds so we can send them as ints.\n        const convertedTreeBaseDuration = Math.floor(\n          (treeBaseDuration || 0) * 1000,\n        );\n        pushOperation(TREE_OPERATION_UPDATE_TREE_BASE_DURATION);\n        pushOperation(id);\n        pushOperation(convertedTreeBaseDuration);\n      }\n\n      if (prevFiber == null || didFiberRender(prevFiber, fiber)) {\n        if (actualDuration != null) {\n          // The actual duration reported by React includes time spent working on children.\n          // This is useful information, but it's also useful to be able to exclude child durations.\n          // The frontend can't compute this, since the immediate children may have been filtered out.\n          // So we need to do this on the backend.\n          // Note that this calculated self duration is not the same thing as the base duration.\n          // The two are calculated differently (tree duration does not accumulate).\n          let selfDuration = actualDuration;\n          let child = fiber.child;\n          while (child !== null) {\n            selfDuration -= child.actualDuration || 0;\n            child = child.sibling;\n          }\n\n          // If profiling is active, store durations for elements that were rendered during the commit.\n          // Note that we should do this for any fiber we performed work on, regardless of its actualDuration value.\n          // In some cases actualDuration might be 0 for fibers we worked on (particularly if we're using Date.now)\n          // In other cases (e.g. Memo) actualDuration might be greater than 0 even if we \"bailed out\".\n          const metadata =\n            ((currentCommitProfilingMetadata: any): CommitProfilingData);\n          metadata.durations.push(id, actualDuration, selfDuration);\n          metadata.maxActualDuration = Math.max(\n            metadata.maxActualDuration,\n            actualDuration,\n          );\n\n          if (recordChangeDescriptions) {\n            const changeDescription = getChangeDescription(prevFiber, fiber);\n            if (changeDescription !== null) {\n              if (metadata.changeDescriptions !== null) {\n                metadata.changeDescriptions.set(id, changeDescription);\n              }\n            }\n          }\n        }\n      }\n\n      // If this Fiber was in the set of memoizedUpdaters we need to record\n      // it to be included in the description of the commit.\n      const fiberRoot: FiberRoot = currentRoot.data.stateNode;\n      const updaters = fiberRoot.memoizedUpdaters;\n      if (\n        updaters != null &&\n        (updaters.has(fiber) ||\n          // We check the alternate here because we're matching identity and\n          // prevFiber might be same as fiber.\n          (fiber.alternate !== null && updaters.has(fiber.alternate)))\n      ) {\n        const metadata =\n          ((currentCommitProfilingMetadata: any): CommitProfilingData);\n        if (metadata.updaters === null) {\n          metadata.updaters = [];\n        }\n        metadata.updaters.push(instanceToSerializedElement(fiberInstance));\n      }\n    }\n  }\n\n  function recordVirtualProfilingDurations(virtualInstance: VirtualInstance) {\n    const id = virtualInstance.id;\n\n    let treeBaseDuration = 0;\n    // Add up the base duration of the child instances. The virtual base duration\n    // will be the same as children's duration since we don't take up any render\n    // time in the virtual instance.\n    for (\n      let child = virtualInstance.firstChild;\n      child !== null;\n      child = child.nextSibling\n    ) {\n      treeBaseDuration += child.treeBaseDuration;\n    }\n\n    if (isProfiling) {\n      const previousTreeBaseDuration = virtualInstance.treeBaseDuration;\n      if (treeBaseDuration !== previousTreeBaseDuration) {\n        // Tree base duration updates are included in the operations typed array.\n        // So we have to convert them from milliseconds to microseconds so we can send them as ints.\n        const convertedTreeBaseDuration = Math.floor(\n          (treeBaseDuration || 0) * 1000,\n        );\n        pushOperation(TREE_OPERATION_UPDATE_TREE_BASE_DURATION);\n        pushOperation(id);\n        pushOperation(convertedTreeBaseDuration);\n      }\n    }\n\n    virtualInstance.treeBaseDuration = treeBaseDuration;\n  }\n\n  function addUnfilteredChildrenIDs(\n    parentInstance: DevToolsInstance,\n    nextChildren: Array<number>,\n  ): void {\n    let child: null | DevToolsInstance = parentInstance.firstChild;\n    while (child !== null) {\n      if (child.kind === FILTERED_FIBER_INSTANCE) {\n        const fiber = child.data;\n        if (isHiddenOffscreen(fiber)) {\n          // The children of this Offscreen are hidden so they don't get added.\n        } else {\n          addUnfilteredChildrenIDs(child, nextChildren);\n        }\n      } else {\n        nextChildren.push(child.id);\n      }\n      child = child.nextSibling;\n    }\n  }\n\n  function recordResetChildren(\n    parentInstance: FiberInstance | VirtualInstance,\n  ) {\n    if (__DEBUG__) {\n      if (parentInstance.firstChild !== null) {\n        debug(\n          'recordResetChildren()',\n          parentInstance.firstChild,\n          parentInstance,\n        );\n      }\n    }\n    // The frontend only really cares about the displayName, key, and children.\n    // The first two don't really change, so we are only concerned with the order of children here.\n    // This is trickier than a simple comparison though, since certain types of fibers are filtered.\n    const nextChildren: Array<number> = [];\n\n    addUnfilteredChildrenIDs(parentInstance, nextChildren);\n\n    const numChildren = nextChildren.length;\n    if (numChildren < 2) {\n      // No need to reorder.\n      return;\n    }\n    pushOperation(TREE_OPERATION_REORDER_CHILDREN);\n    pushOperation(parentInstance.id);\n    pushOperation(numChildren);\n    for (let i = 0; i < nextChildren.length; i++) {\n      pushOperation(nextChildren[i]);\n    }\n  }\n\n  function addUnfilteredSuspenseChildrenIDs(\n    parentInstance: SuspenseNode,\n    nextChildren: Array<number>,\n  ): void {\n    let child: null | SuspenseNode = parentInstance.firstChild;\n    while (child !== null) {\n      if (child.instance.kind === FILTERED_FIBER_INSTANCE) {\n        addUnfilteredSuspenseChildrenIDs(child, nextChildren);\n      } else {\n        nextChildren.push(child.instance.id);\n      }\n      child = child.nextSibling;\n    }\n  }\n\n  function recordResetSuspenseChildren(parentInstance: SuspenseNode) {\n    if (__DEBUG__) {\n      if (parentInstance.firstChild !== null) {\n        console.log(\n          'recordResetSuspenseChildren()',\n          parentInstance.firstChild,\n          parentInstance,\n        );\n      }\n    }\n    // The frontend only really cares about the name, and children.\n    // The first two don't really change, so we are only concerned with the order of children here.\n    // This is trickier than a simple comparison though, since certain types of fibers are filtered.\n    const nextChildren: Array<number> = [];\n\n    addUnfilteredSuspenseChildrenIDs(parentInstance, nextChildren);\n\n    const numChildren = nextChildren.length;\n    if (numChildren < 2) {\n      // No need to reorder.\n      return;\n    }\n    pushOperation(SUSPENSE_TREE_OPERATION_REORDER_CHILDREN);\n    // $FlowFixMe[incompatible-call] TODO: Allow filtering SuspenseNode\n    pushOperation(parentInstance.instance.id);\n    pushOperation(numChildren);\n    for (let i = 0; i < nextChildren.length; i++) {\n      pushOperation(nextChildren[i]);\n    }\n  }\n\n  function updateVirtualInstanceRecursively(\n    virtualInstance: VirtualInstance,\n    nextFirstChild: Fiber,\n    nextLastChild: null | Fiber, // non-inclusive\n    prevFirstChild: null | Fiber,\n    traceNearestHostComponentUpdate: boolean,\n    virtualLevel: number, // the nth level of virtual instances\n  ): UpdateFlags {\n    const stashedParent = reconcilingParent;\n    const stashedPrevious = previouslyReconciledSibling;\n    const stashedRemaining = remainingReconcilingChildren;\n    const previousSuspendedBy = virtualInstance.suspendedBy;\n    // Push a new DevTools instance parent while reconciling this subtree.\n    reconcilingParent = virtualInstance;\n    previouslyReconciledSibling = null;\n    // Move all the children of this instance to the remaining set.\n    // We'll move them back one by one, and anything that remains is deleted.\n    remainingReconcilingChildren = virtualInstance.firstChild;\n    virtualInstance.firstChild = null;\n    virtualInstance.suspendedBy = null;\n    try {\n      let updateFlags = updateVirtualChildrenRecursively(\n        nextFirstChild,\n        nextLastChild,\n        prevFirstChild,\n        traceNearestHostComponentUpdate,\n        virtualLevel + 1,\n      );\n      if ((updateFlags & ShouldResetChildren) !== NoUpdate) {\n        if (!isInDisconnectedSubtree) {\n          recordResetChildren(virtualInstance);\n        }\n        updateFlags &= ~ShouldResetChildren;\n      }\n      removePreviousSuspendedBy(\n        virtualInstance,\n        previousSuspendedBy,\n        reconcilingParentSuspenseNode,\n      );\n      // Update the errors/warnings count. If this Instance has switched to a different\n      // ReactComponentInfo instance, such as when refreshing Server Components, then\n      // we replace all the previous logs with the ones associated with the new ones rather\n      // than merging. Because deduping is expected to happen at the request level.\n      const componentLogsEntry = componentInfoToComponentLogsMap.get(\n        virtualInstance.data,\n      );\n      recordConsoleLogs(virtualInstance, componentLogsEntry);\n      // Must be called after all children have been appended.\n      recordVirtualProfilingDurations(virtualInstance);\n\n      return updateFlags;\n    } finally {\n      unmountRemainingChildren();\n      reconcilingParent = stashedParent;\n      previouslyReconciledSibling = stashedPrevious;\n      remainingReconcilingChildren = stashedRemaining;\n    }\n  }\n\n  function updateVirtualChildrenRecursively(\n    nextFirstChild: Fiber,\n    nextLastChild: null | Fiber, // non-inclusive\n    prevFirstChild: null | Fiber,\n    traceNearestHostComponentUpdate: boolean,\n    virtualLevel: number, // the nth level of virtual instances\n  ): UpdateFlags {\n    let updateFlags = NoUpdate;\n    // If the first child is different, we need to traverse them.\n    // Each next child will be either a new child (mount) or an alternate (update).\n    let nextChild: null | Fiber = nextFirstChild;\n    let prevChildAtSameIndex = prevFirstChild;\n    let previousVirtualInstance: null | VirtualInstance = null;\n    let previousVirtualInstanceWasMount: boolean = false;\n    let previousVirtualInstanceNextFirstFiber: Fiber = nextFirstChild;\n    let previousVirtualInstancePrevFirstFiber: null | Fiber = prevFirstChild;\n    while (nextChild !== null && nextChild !== nextLastChild) {\n      let level = 0;\n      if (nextChild._debugInfo) {\n        for (let i = 0; i < nextChild._debugInfo.length; i++) {\n          const debugEntry = nextChild._debugInfo[i];\n          if (debugEntry.awaited) {\n            // Async Info\n            const asyncInfo: ReactAsyncInfo = (debugEntry: any);\n            if (level === virtualLevel) {\n              // Track any async info between the previous virtual instance up until to this\n              // instance and add it to the parent. This can add the same set multiple times\n              // so we assume insertSuspendedBy dedupes.\n              insertSuspendedBy(asyncInfo);\n            }\n            continue;\n          }\n          if (typeof debugEntry.name !== 'string') {\n            // Not a Component. Some other Debug Info.\n            continue;\n          }\n          const componentInfo: ReactComponentInfo = (debugEntry: any);\n          const secondaryEnv = getSecondaryEnvironmentName(\n            nextChild._debugInfo,\n            i,\n          );\n          if (componentInfo.env != null) {\n            knownEnvironmentNames.add(componentInfo.env);\n          }\n          if (secondaryEnv !== null) {\n            knownEnvironmentNames.add(secondaryEnv);\n          }\n          if (shouldFilterVirtual(componentInfo, secondaryEnv)) {\n            continue;\n          }\n          if (level === virtualLevel) {\n            if (\n              previousVirtualInstance === null ||\n              // Consecutive children with the same debug entry as a parent gets\n              // treated as if they share the same virtual instance.\n              previousVirtualInstance.data !== componentInfo\n            ) {\n              if (previousVirtualInstance !== null) {\n                // Mount any previous children that should go into the previous parent.\n                if (previousVirtualInstanceWasMount) {\n                  mountVirtualInstanceRecursively(\n                    previousVirtualInstance,\n                    previousVirtualInstanceNextFirstFiber,\n                    nextChild,\n                    traceNearestHostComponentUpdate,\n                    virtualLevel,\n                  );\n                  updateFlags |=\n                    ShouldResetChildren | ShouldResetSuspenseChildren;\n                } else {\n                  updateFlags |= updateVirtualInstanceRecursively(\n                    previousVirtualInstance,\n                    previousVirtualInstanceNextFirstFiber,\n                    nextChild,\n                    previousVirtualInstancePrevFirstFiber,\n                    traceNearestHostComponentUpdate,\n                    virtualLevel,\n                  );\n                }\n              }\n              let previousSiblingOfBestMatch = null;\n              let bestMatch = remainingReconcilingChildren;\n              if (componentInfo.key != null) {\n                // If there is a key try to find a matching key in the set.\n                bestMatch = remainingReconcilingChildren;\n                while (bestMatch !== null) {\n                  if (\n                    bestMatch.kind === VIRTUAL_INSTANCE &&\n                    bestMatch.data.key === componentInfo.key\n                  ) {\n                    break;\n                  }\n                  previousSiblingOfBestMatch = bestMatch;\n                  bestMatch = bestMatch.nextSibling;\n                }\n              }\n              if (\n                bestMatch !== null &&\n                bestMatch.kind === VIRTUAL_INSTANCE &&\n                bestMatch.data.name === componentInfo.name &&\n                bestMatch.data.env === componentInfo.env &&\n                bestMatch.data.key === componentInfo.key\n              ) {\n                // If the previous children had a virtual instance in the same slot\n                // with the same name, then we claim it and reuse it for this update.\n                // Update it with the latest entry.\n                bestMatch.data = componentInfo;\n                moveChild(bestMatch, previousSiblingOfBestMatch);\n                previousVirtualInstance = bestMatch;\n                previousVirtualInstanceWasMount = false;\n              } else {\n                // Otherwise we create a new instance.\n                const newVirtualInstance = createVirtualInstance(componentInfo);\n                recordVirtualMount(\n                  newVirtualInstance,\n                  reconcilingParent,\n                  secondaryEnv,\n                );\n                insertChild(newVirtualInstance);\n                previousVirtualInstance = newVirtualInstance;\n                previousVirtualInstanceWasMount = true;\n                updateFlags |= ShouldResetChildren;\n              }\n              // Existing children might be reparented into this new virtual instance.\n              // TODO: This will cause the front end to error which needs to be fixed.\n              previousVirtualInstanceNextFirstFiber = nextChild;\n              previousVirtualInstancePrevFirstFiber = prevChildAtSameIndex;\n            }\n            level++;\n            break;\n          } else {\n            level++;\n          }\n        }\n      }\n      if (level === virtualLevel) {\n        if (previousVirtualInstance !== null) {\n          // If we were working on a virtual instance and this is not a virtual\n          // instance, then we end the sequence and update any previous children\n          // that should go into the previous virtual instance.\n          if (previousVirtualInstanceWasMount) {\n            mountVirtualInstanceRecursively(\n              previousVirtualInstance,\n              previousVirtualInstanceNextFirstFiber,\n              nextChild,\n              traceNearestHostComponentUpdate,\n              virtualLevel,\n            );\n            updateFlags |= ShouldResetChildren | ShouldResetSuspenseChildren;\n          } else {\n            updateFlags |= updateVirtualInstanceRecursively(\n              previousVirtualInstance,\n              previousVirtualInstanceNextFirstFiber,\n              nextChild,\n              previousVirtualInstancePrevFirstFiber,\n              traceNearestHostComponentUpdate,\n              virtualLevel,\n            );\n          }\n          previousVirtualInstance = null;\n        }\n\n        // We've reached the end of the virtual levels, but not beyond,\n        // and now continue with the regular fiber.\n\n        // Do a fast pass over the remaining children to find the previous instance.\n        // TODO: This doesn't have the best O(n) for a large set of children that are\n        // reordered. Consider using a temporary map if it's not the very next one.\n        let prevChild;\n        if (prevChildAtSameIndex === nextChild) {\n          // This set is unchanged. We're just going through it to place all the\n          // children again.\n          prevChild = nextChild;\n        } else {\n          // We don't actually need to rely on the alternate here. We could also\n          // reconcile against stateNode, key or whatever. Doesn't have to be same\n          // Fiber pair.\n          prevChild = nextChild.alternate;\n        }\n        let previousSiblingOfExistingInstance = null;\n        let existingInstance = null;\n        if (prevChild !== null) {\n          existingInstance = remainingReconcilingChildren;\n          while (existingInstance !== null) {\n            if (existingInstance.data === prevChild) {\n              break;\n            }\n            previousSiblingOfExistingInstance = existingInstance;\n            existingInstance = existingInstance.nextSibling;\n          }\n        }\n        if (existingInstance !== null) {\n          // Common case. Match in the same parent.\n          const fiberInstance: FiberInstance | FilteredFiberInstance =\n            (existingInstance: any); // Only matches if it's a Fiber.\n\n          // We keep track if the order of the children matches the previous order.\n          // They are always different referentially, but if the instances line up\n          // conceptually we'll want to know that.\n          if (prevChild !== prevChildAtSameIndex) {\n            updateFlags |= ShouldResetChildren | ShouldResetSuspenseChildren;\n          }\n\n          moveChild(fiberInstance, previousSiblingOfExistingInstance);\n\n          // If a nested tree child order changed but it can't handle its own\n          // child order invalidation (e.g. because it's filtered out like host nodes),\n          // propagate the need to reset child order upwards to this Fiber.\n          updateFlags |= updateFiberRecursively(\n            fiberInstance,\n            nextChild,\n            (prevChild: any),\n            traceNearestHostComponentUpdate,\n          );\n        } else if (prevChild !== null && shouldFilterFiber(nextChild)) {\n          // The filtered instance could've reordered.\n          if (prevChild !== prevChildAtSameIndex) {\n            updateFlags |= ShouldResetChildren | ShouldResetSuspenseChildren;\n          }\n\n          // If this Fiber should be filtered, we need to still update its children.\n          // This relies on an alternate since we don't have an Instance with the previous\n          // child on it. Ideally, the reconciliation wouldn't need previous Fibers that\n          // are filtered from the tree.\n          updateFlags |= updateFiberRecursively(\n            null,\n            nextChild,\n            prevChild,\n            traceNearestHostComponentUpdate,\n          );\n        } else {\n          // It's possible for a FiberInstance to be reparented when virtual parents\n          // get their sequence split or change structure with the same render result.\n          // In this case we unmount the and remount the FiberInstances.\n          // This might cause us to lose the selection but it's an edge case.\n\n          // We let the previous instance remain in the \"remaining queue\" it is\n          // in to be deleted at the end since it'll have no match.\n\n          mountFiberRecursively(nextChild, traceNearestHostComponentUpdate);\n          // Need to mark the parent set to remount the new instance.\n          updateFlags |= ShouldResetChildren | ShouldResetSuspenseChildren;\n        }\n      }\n      // Try the next child.\n      nextChild = nextChild.sibling;\n      // Advance the pointer in the previous list so that we can\n      // keep comparing if they line up.\n      if (\n        (updateFlags & ShouldResetChildren) === NoUpdate &&\n        prevChildAtSameIndex !== null\n      ) {\n        prevChildAtSameIndex = prevChildAtSameIndex.sibling;\n      }\n    }\n    if (previousVirtualInstance !== null) {\n      if (previousVirtualInstanceWasMount) {\n        mountVirtualInstanceRecursively(\n          previousVirtualInstance,\n          previousVirtualInstanceNextFirstFiber,\n          null,\n          traceNearestHostComponentUpdate,\n          virtualLevel,\n        );\n        updateFlags |= ShouldResetChildren | ShouldResetSuspenseChildren;\n      } else {\n        updateFlags |= updateVirtualInstanceRecursively(\n          previousVirtualInstance,\n          previousVirtualInstanceNextFirstFiber,\n          null,\n          previousVirtualInstancePrevFirstFiber,\n          traceNearestHostComponentUpdate,\n          virtualLevel,\n        );\n      }\n    }\n    // If we have no more children, but used to, they don't line up.\n    if (prevChildAtSameIndex !== null) {\n      updateFlags |= ShouldResetChildren | ShouldResetSuspenseChildren;\n    }\n    return updateFlags;\n  }\n\n  // Returns whether closest unfiltered fiber parent needs to reset its child list.\n  function updateChildrenRecursively(\n    nextFirstChild: null | Fiber,\n    prevFirstChild: null | Fiber,\n    traceNearestHostComponentUpdate: boolean,\n  ): UpdateFlags {\n    if (nextFirstChild === null) {\n      return prevFirstChild !== null ? ShouldResetChildren : NoUpdate;\n    }\n    return updateVirtualChildrenRecursively(\n      nextFirstChild,\n      null,\n      prevFirstChild,\n      traceNearestHostComponentUpdate,\n      0,\n    );\n  }\n\n  function updateSuspenseChildrenRecursively(\n    nextContentFiber: Fiber,\n    prevContentFiber: Fiber,\n    traceNearestHostComponentUpdate: boolean,\n    stashedSuspenseParent: null | SuspenseNode,\n    stashedSuspensePrevious: null | SuspenseNode,\n    stashedSuspenseRemaining: null | SuspenseNode,\n  ): UpdateFlags {\n    let updateFlags = NoUpdate;\n    const prevFallbackFiber = prevContentFiber.sibling;\n    const nextFallbackFiber = nextContentFiber.sibling;\n\n    // First update only the Offscreen boundary. I.e. the main content.\n    updateFlags |= updateVirtualChildrenRecursively(\n      nextContentFiber,\n      nextFallbackFiber,\n      prevContentFiber,\n      traceNearestHostComponentUpdate,\n      0,\n    );\n\n    // Next, we'll pop back out of the SuspenseNode that we added above and now we'll\n    // reconcile the fallback, reconciling anything in the context of the parent SuspenseNode.\n    // Since the fallback conceptually blocks the parent.\n    reconcilingParentSuspenseNode = stashedSuspenseParent;\n    previouslyReconciledSiblingSuspenseNode = stashedSuspensePrevious;\n    remainingReconcilingChildrenSuspenseNodes = stashedSuspenseRemaining;\n    if (prevFallbackFiber !== null || nextFallbackFiber !== null) {\n      if (nextFallbackFiber === null) {\n        unmountRemainingChildren();\n      } else {\n        updateFlags |= updateVirtualChildrenRecursively(\n          nextFallbackFiber,\n          null,\n          prevFallbackFiber,\n          traceNearestHostComponentUpdate,\n          0,\n        );\n\n        if ((updateFlags & ShouldResetSuspenseChildren) !== NoUpdate) {\n          updateFlags |= ShouldResetParentSuspenseChildren;\n          updateFlags &= ~ShouldResetSuspenseChildren;\n        }\n      }\n    }\n\n    return updateFlags;\n  }\n\n  // Returns whether closest unfiltered fiber parent needs to reset its child list.\n  function updateFiberRecursively(\n    fiberInstance: null | FiberInstance | FilteredFiberInstance, // null if this should be filtered\n    nextFiber: Fiber,\n    prevFiber: Fiber,\n    traceNearestHostComponentUpdate: boolean,\n  ): UpdateFlags {\n    if (__DEBUG__) {\n      if (fiberInstance !== null) {\n        debug('updateFiberRecursively()', fiberInstance, reconcilingParent);\n      }\n    }\n\n    if (traceUpdatesEnabled) {\n      const elementType = getElementTypeForFiber(nextFiber);\n      if (traceNearestHostComponentUpdate) {\n        // If an ancestor updated, we should mark the nearest host nodes for highlighting.\n        if (elementType === ElementTypeHostComponent) {\n          traceUpdatesForNodes.add(nextFiber.stateNode);\n          traceNearestHostComponentUpdate = false;\n        }\n      } else {\n        if (\n          elementType === ElementTypeFunction ||\n          elementType === ElementTypeClass ||\n          elementType === ElementTypeContext ||\n          elementType === ElementTypeMemo ||\n          elementType === ElementTypeForwardRef\n        ) {\n          // Otherwise if this is a traced ancestor, flag for the nearest host descendant(s).\n          traceNearestHostComponentUpdate = didFiberRender(\n            prevFiber,\n            nextFiber,\n          );\n        }\n      }\n    }\n\n    const stashedParent = reconcilingParent;\n    const stashedPrevious = previouslyReconciledSibling;\n    const stashedRemaining = remainingReconcilingChildren;\n    const stashedSuspenseParent = reconcilingParentSuspenseNode;\n    const stashedSuspensePrevious = previouslyReconciledSiblingSuspenseNode;\n    const stashedSuspenseRemaining = remainingReconcilingChildrenSuspenseNodes;\n    let updateFlags = NoUpdate;\n    let shouldMeasureSuspenseNode = false;\n    let shouldPopSuspenseNode = false;\n    let previousSuspendedBy = null;\n    if (fiberInstance !== null) {\n      previousSuspendedBy = fiberInstance.suspendedBy;\n      // Update the Fiber so we that we always keep the current Fiber on the data.\n      fiberInstance.data = nextFiber;\n      if (\n        mostRecentlyInspectedElement !== null &&\n        (mostRecentlyInspectedElement.id === fiberInstance.id ||\n          // If we're inspecting a Root, we inspect the Screen.\n          // Invalidating any Root invalidates the Screen too.\n          (mostRecentlyInspectedElement.type === ElementTypeRoot &&\n            nextFiber.tag === HostRoot)) &&\n        didFiberRender(prevFiber, nextFiber)\n      ) {\n        // If this Fiber has updated, clear cached inspected data.\n        // If it is inspected again, it may need to be re-run to obtain updated hooks values.\n        hasElementUpdatedSinceLastInspected = true;\n      }\n      // Push a new DevTools instance parent while reconciling this subtree.\n      reconcilingParent = fiberInstance;\n      previouslyReconciledSibling = null;\n      // Move all the children of this instance to the remaining set.\n      // We'll move them back one by one, and anything that remains is deleted.\n      remainingReconcilingChildren = fiberInstance.firstChild;\n      fiberInstance.firstChild = null;\n      fiberInstance.suspendedBy = null;\n\n      const suspenseNode = fiberInstance.suspenseNode;\n      if (suspenseNode !== null) {\n        reconcilingParentSuspenseNode = suspenseNode;\n        previouslyReconciledSiblingSuspenseNode = null;\n        remainingReconcilingChildrenSuspenseNodes = suspenseNode.firstChild;\n        suspenseNode.firstChild = null;\n        shouldMeasureSuspenseNode = true;\n        shouldPopSuspenseNode = true;\n      }\n    }\n    try {\n      trackDebugInfoFromLazyType(nextFiber);\n      trackDebugInfoFromUsedThenables(nextFiber);\n\n      if (nextFiber.tag === HostHoistable) {\n        const nearestInstance = reconcilingParent;\n        if (nearestInstance === null) {\n          throw new Error('Did not expect a host hoistable to be the root');\n        }\n        if (prevFiber.memoizedState !== nextFiber.memoizedState) {\n          releaseHostResource(nearestInstance, prevFiber.memoizedState);\n          aquireHostResource(nearestInstance, nextFiber.memoizedState);\n        }\n        trackDebugInfoFromHostResource(nearestInstance, nextFiber);\n      } else if (\n        nextFiber.tag === HostComponent ||\n        nextFiber.tag === HostText ||\n        nextFiber.tag === HostSingleton\n      ) {\n        const nearestInstance = reconcilingParent;\n        if (nearestInstance === null) {\n          throw new Error('Did not expect a host hoistable to be the root');\n        }\n        if (prevFiber.stateNode !== nextFiber.stateNode) {\n          // In persistent mode, it's possible for the stateNode to update with\n          // a new clone. In that case we need to release the old one and aquire\n          // new one instead.\n          releaseHostInstance(nearestInstance, prevFiber.stateNode);\n          aquireHostInstance(nearestInstance, nextFiber.stateNode);\n        }\n        trackDebugInfoFromHostComponent(nearestInstance, nextFiber);\n      }\n\n      // The behavior of timed-out legacy Suspense trees is unique. Without the Offscreen wrapper.\n      // Rather than unmount the timed out content (and possibly lose important state),\n      // React re-parents this content within a hidden Fragment while the fallback is showing.\n      // This behavior doesn't need to be observable in the DevTools though.\n      // It might even result in a bad user experience for e.g. node selection in the Elements panel.\n      // The easiest fix is to strip out the intermediate Fragment fibers,\n      // so the Elements panel and Profiler don't need to special case them.\n      // Suspense components only have a non-null memoizedState if they're timed-out.\n      const isLegacySuspense =\n        nextFiber.tag === SuspenseComponent && OffscreenComponent === -1;\n      const prevDidTimeout =\n        isLegacySuspense && prevFiber.memoizedState !== null;\n      const nextDidTimeOut =\n        isLegacySuspense && nextFiber.memoizedState !== null;\n\n      const prevWasHidden = isHiddenOffscreen(prevFiber);\n      const nextIsHidden = isHiddenOffscreen(nextFiber);\n      const prevWasSuspended = isSuspendedOffscreen(prevFiber);\n      const nextIsSuspended = isSuspendedOffscreen(nextFiber);\n\n      if (isLegacySuspense) {\n        if (fiberInstance !== null && fiberInstance.suspenseNode !== null) {\n          const suspenseNode = fiberInstance.suspenseNode;\n          if (\n            (prevFiber.stateNode === null) !==\n            (nextFiber.stateNode === null)\n          ) {\n            trackThrownPromisesFromRetryCache(\n              suspenseNode,\n              nextFiber.stateNode,\n            );\n          }\n          if (\n            (prevFiber.memoizedState === null) !==\n            (nextFiber.memoizedState === null)\n          ) {\n            // Toggle suspended state.\n            recordSuspenseSuspenders(suspenseNode);\n          }\n        }\n      }\n      // The logic below is inspired by the code paths in updateSuspenseComponent()\n      // inside ReactFiberBeginWork in the React source code.\n      if (prevDidTimeout && nextDidTimeOut) {\n        // Fallback -> Fallback:\n        // 1. Reconcile fallback set.\n        const nextFiberChild = nextFiber.child;\n        const nextFallbackChildSet = nextFiberChild\n          ? nextFiberChild.sibling\n          : null;\n        // Note: We can't use nextFiber.child.sibling.alternate\n        // because the set is special and alternate may not exist.\n        const prevFiberChild = prevFiber.child;\n        const prevFallbackChildSet = prevFiberChild\n          ? prevFiberChild.sibling\n          : null;\n\n        if (prevFallbackChildSet == null && nextFallbackChildSet != null) {\n          mountChildrenRecursively(\n            nextFallbackChildSet,\n            traceNearestHostComponentUpdate,\n          );\n\n          updateFlags |= ShouldResetChildren | ShouldResetSuspenseChildren;\n        }\n\n        const childrenUpdateFlags =\n          nextFallbackChildSet != null && prevFallbackChildSet != null\n            ? updateChildrenRecursively(\n                nextFallbackChildSet,\n                prevFallbackChildSet,\n                traceNearestHostComponentUpdate,\n              )\n            : NoUpdate;\n        updateFlags |= childrenUpdateFlags;\n      } else if (prevDidTimeout && !nextDidTimeOut) {\n        // Fallback -> Primary:\n        // 1. Unmount fallback set\n        // Note: don't emulate fallback unmount because React actually did it.\n        // 2. Mount primary set\n        const nextPrimaryChildSet = nextFiber.child;\n        if (nextPrimaryChildSet !== null) {\n          mountChildrenRecursively(\n            nextPrimaryChildSet,\n            traceNearestHostComponentUpdate,\n          );\n          updateFlags |= ShouldResetChildren | ShouldResetSuspenseChildren;\n        }\n      } else if (!prevDidTimeout && nextDidTimeOut) {\n        // Primary -> Fallback:\n        // 1. Hide primary set\n        // We simply don't re-add the fallback children and let\n        // unmountRemainingChildren() handle it.\n        // 2. Mount fallback set\n        const nextFiberChild = nextFiber.child;\n        const nextFallbackChildSet = nextFiberChild\n          ? nextFiberChild.sibling\n          : null;\n        if (nextFallbackChildSet != null) {\n          mountChildrenRecursively(\n            nextFallbackChildSet,\n            traceNearestHostComponentUpdate,\n          );\n          updateFlags |= ShouldResetChildren | ShouldResetSuspenseChildren;\n        }\n      } else if (nextIsSuspended) {\n        if (!prevWasSuspended) {\n          // We're hiding the children. Disconnect them from the front end but keep state.\n          if (fiberInstance !== null && !isInDisconnectedSubtree) {\n            disconnectChildrenRecursively(remainingReconcilingChildren);\n          }\n        }\n        // Update children inside the hidden tree if they committed with a new updates.\n        const stashedDisconnected = isInDisconnectedSubtree;\n        isInDisconnectedSubtree = true;\n        try {\n          updateFlags |= updateChildrenRecursively(\n            nextFiber.child,\n            prevFiber.child,\n            false,\n          );\n        } finally {\n          isInDisconnectedSubtree = stashedDisconnected;\n        }\n      } else if (prevWasSuspended && !nextIsSuspended) {\n        // We're revealing the hidden children. We now need to update them to the latest state.\n        // We do this while still in the disconnected state and then we reconnect the new ones.\n        // This avoids reconnecting things that are about to be removed anyway.\n        const stashedDisconnected = isInDisconnectedSubtree;\n        isInDisconnectedSubtree = true;\n        try {\n          if (nextFiber.child !== null) {\n            updateFlags |= updateChildrenRecursively(\n              nextFiber.child,\n              prevFiber.child,\n              false,\n            );\n          }\n          // Ensure we unmount any remaining children inside the isInDisconnectedSubtree flag\n          // since they should not trigger real deletions.\n          unmountRemainingChildren();\n          remainingReconcilingChildren = null;\n        } finally {\n          isInDisconnectedSubtree = stashedDisconnected;\n        }\n        if (fiberInstance !== null && !isInDisconnectedSubtree) {\n          reconnectChildrenRecursively(fiberInstance);\n          // Children may have reordered while they were hidden.\n          updateFlags |= ShouldResetChildren | ShouldResetSuspenseChildren;\n        }\n      } else if (nextIsHidden) {\n        if (prevWasHidden) {\n          // still hidden. Nothing to do.\n        } else {\n          // We're hiding the children. Remove them from the Frontend\n          unmountRemainingChildren();\n        }\n      } else if (\n        nextFiber.tag === SuspenseComponent &&\n        OffscreenComponent !== -1 &&\n        fiberInstance !== null &&\n        fiberInstance.suspenseNode !== null\n      ) {\n        // Modern Suspense path\n        const suspenseNode = fiberInstance.suspenseNode;\n        const prevContentFiber = prevFiber.child;\n        const nextContentFiber = nextFiber.child;\n        const previousHydrated = isFiberHydrated(prevFiber);\n        const nextHydrated = isFiberHydrated(nextFiber);\n        if (previousHydrated && nextHydrated) {\n          if (nextContentFiber === null || prevContentFiber === null) {\n            throw new Error(\n              'There should always be an Offscreen Fiber child in a hydrated Suspense boundary.',\n            );\n          }\n\n          if (\n            (prevFiber.stateNode === null) !==\n            (nextFiber.stateNode === null)\n          ) {\n            trackThrownPromisesFromRetryCache(\n              suspenseNode,\n              nextFiber.stateNode,\n            );\n          }\n\n          if (\n            (prevFiber.memoizedState === null) !==\n            (nextFiber.memoizedState === null)\n          ) {\n            // Toggle suspended state.\n            recordSuspenseSuspenders(suspenseNode);\n          }\n\n          shouldMeasureSuspenseNode = false;\n          updateFlags |= updateSuspenseChildrenRecursively(\n            nextContentFiber,\n            prevContentFiber,\n            traceNearestHostComponentUpdate,\n            stashedSuspenseParent,\n            stashedSuspensePrevious,\n            stashedSuspenseRemaining,\n          );\n          // updateSuspenseChildrenRecursively popped already\n          shouldPopSuspenseNode = false;\n          if (nextFiber.memoizedState === null) {\n            // Measure this Suspense node in case it changed. We don't update the rect while\n            // we're inside a disconnected subtree nor if we are the Suspense boundary that\n            // is suspended. This lets us keep the rectangle of the displayed content while\n            // we're suspended to visualize the resulting state.\n            shouldMeasureSuspenseNode = !isInDisconnectedSubtree;\n          }\n        } else if (!previousHydrated && nextHydrated) {\n          if (nextContentFiber === null) {\n            throw new Error(\n              'There should always be an Offscreen Fiber child in a hydrated Suspense boundary.',\n            );\n          }\n\n          trackThrownPromisesFromRetryCache(suspenseNode, nextFiber.stateNode);\n          // Toggle suspended state.\n          recordSuspenseSuspenders(suspenseNode);\n\n          mountSuspenseChildrenRecursively(\n            nextContentFiber,\n            traceNearestHostComponentUpdate,\n            stashedSuspenseParent,\n            stashedSuspensePrevious,\n            stashedSuspenseRemaining,\n          );\n          // mountSuspenseChildrenRecursively popped already\n          shouldPopSuspenseNode = false;\n        } else if (previousHydrated && !nextHydrated) {\n          throw new Error(\n            'Encountered a dehydrated Suspense boundary that was previously hydrated.',\n          );\n        } else {\n          // This Suspense Fiber is still dehydrated. It won't have any children\n          // until hydration.\n        }\n      } else {\n        // Common case: Primary -> Primary.\n        // This is the same code path as for non-Suspense fibers.\n        if (nextFiber.child !== prevFiber.child) {\n          updateFlags |= updateChildrenRecursively(\n            nextFiber.child,\n            prevFiber.child,\n            traceNearestHostComponentUpdate,\n          );\n        } else {\n          // Children are unchanged.\n          if (fiberInstance !== null) {\n            // All the remaining children will be children of this same fiber so we can just reuse them.\n            // I.e. we just restore them by undoing what we did above.\n            fiberInstance.firstChild = remainingReconcilingChildren;\n            remainingReconcilingChildren = null;\n\n            consumeSuspenseNodesOfExistingInstance(fiberInstance);\n\n            if (traceUpdatesEnabled) {\n              // If we're tracing updates and we've bailed out before reaching a host node,\n              // we should fall back to recursively marking the nearest host descendants for highlight.\n              if (traceNearestHostComponentUpdate) {\n                const hostInstances =\n                  findAllCurrentHostInstances(fiberInstance);\n                hostInstances.forEach(hostInstance => {\n                  traceUpdatesForNodes.add(hostInstance);\n                });\n              }\n            }\n          } else {\n            const childrenUpdateFlags = updateChildrenRecursively(\n              nextFiber.child,\n              prevFiber.child,\n              false,\n            );\n            // If this fiber is filtered there might be changes to this set elsewhere so we have\n            // to visit each child to place it back in the set. We let the child bail out instead.\n            if ((childrenUpdateFlags & ShouldResetChildren) !== NoUpdate) {\n              throw new Error(\n                'The children should not have changed if we pass in the same set.',\n              );\n            }\n            updateFlags |= childrenUpdateFlags;\n          }\n        }\n      }\n\n      if (fiberInstance !== null) {\n        removePreviousSuspendedBy(\n          fiberInstance,\n          previousSuspendedBy,\n          shouldPopSuspenseNode\n            ? reconcilingParentSuspenseNode\n            : stashedSuspenseParent,\n        );\n\n        if (fiberInstance.kind === FIBER_INSTANCE) {\n          let componentLogsEntry = fiberToComponentLogsMap.get(\n            fiberInstance.data,\n          );\n          if (\n            componentLogsEntry === undefined &&\n            fiberInstance.data.alternate\n          ) {\n            componentLogsEntry = fiberToComponentLogsMap.get(\n              fiberInstance.data.alternate,\n            );\n          }\n          recordConsoleLogs(fiberInstance, componentLogsEntry);\n\n          const isProfilingSupported =\n            nextFiber.hasOwnProperty('treeBaseDuration');\n          if (isProfilingSupported) {\n            recordProfilingDurations(fiberInstance, prevFiber);\n          }\n        }\n      }\n\n      if ((updateFlags & ShouldResetChildren) !== NoUpdate) {\n        // We need to crawl the subtree for closest non-filtered Fibers\n        // so that we can display them in a flat children set.\n        if (fiberInstance !== null && fiberInstance.kind === FIBER_INSTANCE) {\n          if (!nextIsSuspended && !isInDisconnectedSubtree) {\n            recordResetChildren(fiberInstance);\n          }\n\n          // We've handled the child order change for this Fiber.\n          // Since it's included, there's no need to invalidate parent child order.\n          updateFlags &= ~ShouldResetChildren;\n        } else {\n          // Let the closest unfiltered parent Fiber reset its child order instead.\n        }\n      } else {\n      }\n\n      if ((updateFlags & ShouldResetSuspenseChildren) !== NoUpdate) {\n        if (fiberInstance !== null && fiberInstance.kind === FIBER_INSTANCE) {\n          const suspenseNode = fiberInstance.suspenseNode;\n          if (suspenseNode !== null) {\n            recordResetSuspenseChildren(suspenseNode);\n            updateFlags &= ~ShouldResetSuspenseChildren;\n          }\n        } else {\n          // Let the closest unfiltered parent Fiber reset its child order instead.\n        }\n      }\n      if ((updateFlags & ShouldResetParentSuspenseChildren) !== NoUpdate) {\n        if (fiberInstance !== null && fiberInstance.kind === FIBER_INSTANCE) {\n          const suspenseNode = fiberInstance.suspenseNode;\n          if (suspenseNode !== null) {\n            updateFlags &= ~ShouldResetParentSuspenseChildren;\n            updateFlags |= ShouldResetSuspenseChildren;\n          }\n        } else {\n          // Let the closest unfiltered parent Fiber reset its child order instead.\n        }\n      }\n\n      return updateFlags;\n    } finally {\n      if (fiberInstance !== null) {\n        unmountRemainingChildren();\n        reconcilingParent = stashedParent;\n        previouslyReconciledSibling = stashedPrevious;\n        remainingReconcilingChildren = stashedRemaining;\n        if (shouldMeasureSuspenseNode) {\n          if (!isInDisconnectedSubtree) {\n            // Measure this Suspense node in case it changed. We don't update the rect\n            // while we're inside a disconnected subtree so that we keep the outline\n            // as it was before we hid the parent.\n            const suspenseNode = fiberInstance.suspenseNode;\n            if (suspenseNode === null) {\n              throw new Error(\n                'Attempted to measure a Suspense node that does not exist.',\n              );\n            }\n            const prevRects = suspenseNode.rects;\n            const nextRects = measureInstance(fiberInstance);\n            if (!areEqualRects(prevRects, nextRects)) {\n              suspenseNode.rects = nextRects;\n              recordSuspenseResize(suspenseNode);\n            }\n          }\n        }\n        if (shouldPopSuspenseNode) {\n          reconcilingParentSuspenseNode = stashedSuspenseParent;\n          previouslyReconciledSiblingSuspenseNode = stashedSuspensePrevious;\n          remainingReconcilingChildrenSuspenseNodes = stashedSuspenseRemaining;\n        }\n      }\n    }\n  }\n\n  function disconnectChildrenRecursively(firstChild: null | DevToolsInstance) {\n    for (let child = firstChild; child !== null; child = child.nextSibling) {\n      if (\n        (child.kind === FIBER_INSTANCE ||\n          child.kind === FILTERED_FIBER_INSTANCE) &&\n        isSuspendedOffscreen(child.data)\n      ) {\n        // This instance's children are already disconnected.\n      } else {\n        disconnectChildrenRecursively(child.firstChild);\n      }\n      if (child.kind === FIBER_INSTANCE) {\n        recordDisconnect(child);\n      } else if (child.kind === VIRTUAL_INSTANCE) {\n        recordVirtualDisconnect(child);\n      }\n    }\n  }\n\n  function reconnectChildrenRecursively(parentInstance: DevToolsInstance) {\n    for (\n      let child = parentInstance.firstChild;\n      child !== null;\n      child = child.nextSibling\n    ) {\n      if (child.kind === FIBER_INSTANCE) {\n        recordReconnect(child, parentInstance);\n      } else if (child.kind === VIRTUAL_INSTANCE) {\n        const secondaryEnv = null; // TODO: We don't have this data anywhere. We could just stash it somewhere.\n        recordVirtualReconnect(child, parentInstance, secondaryEnv);\n      }\n      if (\n        (child.kind === FIBER_INSTANCE ||\n          child.kind === FILTERED_FIBER_INSTANCE) &&\n        isHiddenOffscreen(child.data)\n      ) {\n        // This instance's children should remain disconnected.\n      } else {\n        reconnectChildrenRecursively(child);\n      }\n    }\n  }\n\n  function cleanup() {\n    isProfiling = false;\n  }\n\n  function rootSupportsProfiling(root: any) {\n    if (root.memoizedInteractions != null) {\n      // v16 builds include this field for the scheduler/tracing API.\n      return true;\n    } else if (\n      root.current != null &&\n      root.current.hasOwnProperty('treeBaseDuration')\n    ) {\n      // The scheduler/tracing API was removed in v17 though\n      // so we need to check a non-root Fiber.\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  function flushInitialOperations() {\n    const localPendingOperationsQueue = pendingOperationsQueue;\n\n    pendingOperationsQueue = null;\n\n    if (\n      localPendingOperationsQueue !== null &&\n      localPendingOperationsQueue.length > 0\n    ) {\n      // We may have already queued up some operations before the frontend connected\n      // If so, let the frontend know about them.\n      localPendingOperationsQueue.forEach(operations => {\n        hook.emit('operations', operations);\n      });\n    } else {\n      // Before the traversals, remember to start tracking\n      // our path in case we have selection to restore.\n      if (trackedPath !== null) {\n        mightBeOnTrackedPath = true;\n      }\n      // If we have not been profiling, then we can just walk the tree and build up its current state as-is.\n      hook.getFiberRoots(rendererID).forEach(root => {\n        const current = root.current;\n        const newRoot = createFiberInstance(current);\n        rootToFiberInstanceMap.set(root, newRoot);\n        idToDevToolsInstanceMap.set(newRoot.id, newRoot);\n        currentRoot = newRoot;\n        setRootPseudoKey(currentRoot.id, root.current);\n\n        // Handle multi-renderer edge-case where only some v16 renderers support profiling.\n        if (isProfiling && rootSupportsProfiling(root)) {\n          // If profiling is active, store commit time and duration.\n          // The frontend may request this information after profiling has stopped.\n          currentCommitProfilingMetadata = {\n            changeDescriptions: recordChangeDescriptions ? new Map() : null,\n            durations: [],\n            commitTime: getCurrentTime() - profilingStartTime,\n            maxActualDuration: 0,\n            priorityLevel: null,\n            updaters: null,\n            effectDuration: null,\n            passiveEffectDuration: null,\n          };\n        }\n\n        mountFiberRecursively(root.current, false);\n\n        flushPendingEvents();\n\n        needsToFlushComponentLogs = false;\n        currentRoot = (null: any);\n      });\n    }\n  }\n\n  function handleCommitFiberUnmount(fiber: any) {\n    // This Hook is no longer used. After having shipped DevTools everywhere it is\n    // safe to stop calling it from Fiber.\n  }\n\n  function handlePostCommitFiberRoot(root: any) {\n    if (isProfiling && rootSupportsProfiling(root)) {\n      if (currentCommitProfilingMetadata !== null) {\n        const {effectDuration, passiveEffectDuration} =\n          getEffectDurations(root);\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentCommitProfilingMetadata.effectDuration = effectDuration;\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentCommitProfilingMetadata.passiveEffectDuration =\n          passiveEffectDuration;\n      }\n    }\n\n    if (needsToFlushComponentLogs) {\n      // We received new logs after commit. I.e. in a passive effect. We need to\n      // traverse the tree to find the affected ones. If we just moved the whole\n      // tree traversal from handleCommitFiberRoot to handlePostCommitFiberRoot\n      // this wouldn't be needed. For now we just brute force check all instances.\n      // This is not that common of a case.\n      bruteForceFlushErrorsAndWarnings();\n    }\n  }\n\n  function handleCommitFiberRoot(\n    root: FiberRoot,\n    priorityLevel: void | number,\n  ) {\n    const nextFiber = root.current;\n\n    let prevFiber: null | Fiber = null;\n    let rootInstance = rootToFiberInstanceMap.get(root);\n    if (!rootInstance) {\n      rootInstance = createFiberInstance(nextFiber);\n      rootToFiberInstanceMap.set(root, rootInstance);\n      idToDevToolsInstanceMap.set(rootInstance.id, rootInstance);\n    } else {\n      prevFiber = rootInstance.data;\n    }\n    currentRoot = rootInstance;\n\n    // Before the traversals, remember to start tracking\n    // our path in case we have selection to restore.\n    if (trackedPath !== null) {\n      mightBeOnTrackedPath = true;\n    }\n\n    if (traceUpdatesEnabled) {\n      traceUpdatesForNodes.clear();\n    }\n\n    // Handle multi-renderer edge-case where only some v16 renderers support profiling.\n    const isProfilingSupported = rootSupportsProfiling(root);\n\n    if (isProfiling && isProfilingSupported) {\n      // If profiling is active, store commit time and duration.\n      // The frontend may request this information after profiling has stopped.\n      currentCommitProfilingMetadata = {\n        changeDescriptions: recordChangeDescriptions ? new Map() : null,\n        durations: [],\n        commitTime: getCurrentTime() - profilingStartTime,\n        maxActualDuration: 0,\n        priorityLevel:\n          priorityLevel == null ? null : formatPriorityLevel(priorityLevel),\n        updaters: null,\n        // Initialize to null; if new enough React version is running,\n        // these values will be read during separate handlePostCommitFiberRoot() call.\n        effectDuration: null,\n        passiveEffectDuration: null,\n      };\n    }\n\n    const nextIsMounted = nextFiber.child !== null;\n    const prevWasMounted = prevFiber !== null && prevFiber.child !== null;\n    if (!prevWasMounted && nextIsMounted) {\n      // Mount a new root.\n      setRootPseudoKey(currentRoot.id, nextFiber);\n      mountFiberRecursively(nextFiber, false);\n    } else if (prevWasMounted && nextIsMounted) {\n      if (prevFiber === null) {\n        throw new Error(\n          'Expected a previous Fiber when updating an existing root.',\n        );\n      }\n      // Update an existing root.\n      updateFiberRecursively(rootInstance, nextFiber, prevFiber, false);\n    } else if (prevWasMounted && !nextIsMounted) {\n      // Unmount an existing root.\n      unmountInstanceRecursively(rootInstance);\n      removeRootPseudoKey(currentRoot.id);\n      rootToFiberInstanceMap.delete(root);\n    } else if (!prevWasMounted && !nextIsMounted) {\n      // We don't need this root anymore.\n      rootToFiberInstanceMap.delete(root);\n    }\n\n    if (isProfiling && isProfilingSupported) {\n      if (!shouldBailoutWithPendingOperations()) {\n        const commitProfilingMetadata =\n          ((rootToCommitProfilingMetadataMap: any): CommitProfilingMetadataMap).get(\n            currentRoot.id,\n          );\n\n        if (commitProfilingMetadata != null) {\n          commitProfilingMetadata.push(\n            ((currentCommitProfilingMetadata: any): CommitProfilingData),\n          );\n        } else {\n          ((rootToCommitProfilingMetadataMap: any): CommitProfilingMetadataMap).set(\n            currentRoot.id,\n            [((currentCommitProfilingMetadata: any): CommitProfilingData)],\n          );\n        }\n      }\n    }\n\n    // We're done here.\n    flushPendingEvents();\n\n    needsToFlushComponentLogs = false;\n\n    if (traceUpdatesEnabled) {\n      hook.emit('traceUpdates', traceUpdatesForNodes);\n    }\n\n    currentRoot = (null: any);\n  }\n\n  function getResourceInstance(fiber: Fiber): HostInstance | null {\n    if (fiber.tag === HostHoistable) {\n      const resource = fiber.memoizedState;\n      // Feature Detect a DOM Specific Instance of a Resource\n      if (\n        typeof resource === 'object' &&\n        resource !== null &&\n        resource.instance != null\n      ) {\n        return resource.instance;\n      }\n    }\n    return null;\n  }\n\n  function appendHostInstancesByDevToolsInstance(\n    devtoolsInstance: DevToolsInstance,\n    hostInstances: Array<HostInstance>,\n  ) {\n    if (devtoolsInstance.kind !== VIRTUAL_INSTANCE) {\n      const fiber = devtoolsInstance.data;\n      appendHostInstancesByFiber(fiber, hostInstances);\n      return;\n    }\n    // Search the tree for the nearest child Fiber and add all its host instances.\n    // TODO: If the true nearest Fiber is filtered, we might skip it and instead include all\n    // the children below it. In the extreme case, searching the whole tree.\n    for (\n      let child = devtoolsInstance.firstChild;\n      child !== null;\n      child = child.nextSibling\n    ) {\n      appendHostInstancesByDevToolsInstance(child, hostInstances);\n    }\n  }\n\n  function appendHostInstancesByFiber(\n    fiber: Fiber,\n    hostInstances: Array<HostInstance>,\n  ): void {\n    // Next we'll drill down this component to find all HostComponent/Text.\n    let node: Fiber = fiber;\n    while (true) {\n      if (\n        node.tag === HostComponent ||\n        node.tag === HostText ||\n        node.tag === HostSingleton ||\n        node.tag === HostHoistable\n      ) {\n        const hostInstance = node.stateNode || getResourceInstance(node);\n        if (hostInstance) {\n          hostInstances.push(hostInstance);\n        }\n      } else if (node.child) {\n        node.child.return = node;\n        node = node.child;\n        continue;\n      }\n      if (node === fiber) {\n        return;\n      }\n      while (!node.sibling) {\n        if (!node.return || node.return === fiber) {\n          return;\n        }\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n  }\n\n  function findAllCurrentHostInstances(\n    devtoolsInstance: DevToolsInstance,\n  ): $ReadOnlyArray<HostInstance> {\n    const hostInstances: Array<HostInstance> = [];\n    appendHostInstancesByDevToolsInstance(devtoolsInstance, hostInstances);\n    return hostInstances;\n  }\n\n  function findHostInstancesForElementID(id: number) {\n    try {\n      const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n      if (devtoolsInstance === undefined) {\n        console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n        return null;\n      }\n      return findAllCurrentHostInstances(devtoolsInstance);\n    } catch (err) {\n      // The fiber might have unmounted by now.\n      return null;\n    }\n  }\n\n  function findLastKnownRectsForID(id: number): null | Array<Rect> {\n    try {\n      const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n      if (devtoolsInstance === undefined) {\n        console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n        return null;\n      }\n      if (devtoolsInstance.suspenseNode === null) {\n        return null;\n      }\n      return devtoolsInstance.suspenseNode.rects;\n    } catch (err) {\n      // The fiber might have unmounted by now.\n      return null;\n    }\n  }\n\n  function getDisplayNameForElementID(id: number): null | string {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      return null;\n    }\n    if (devtoolsInstance.kind === FIBER_INSTANCE) {\n      const fiber = devtoolsInstance.data;\n      if (fiber.tag === HostRoot) {\n        // The only reason you'd inspect a HostRoot is to show it as a SuspenseNode.\n        return 'Initial Paint';\n      }\n      if (fiber.tag === SuspenseComponent || fiber.tag === ActivityComponent) {\n        // For Suspense and Activity components, we can show a better name\n        // by using the name prop or their owner.\n        const props = fiber.memoizedProps;\n        if (props.name != null) {\n          return props.name;\n        }\n        const owner = getUnfilteredOwner(fiber);\n        if (owner != null) {\n          if (typeof owner.tag === 'number') {\n            return getDisplayNameForFiber((owner: any));\n          } else {\n            return owner.name || '';\n          }\n        }\n      }\n      return getDisplayNameForFiber(fiber);\n    } else {\n      return devtoolsInstance.data.name || '';\n    }\n  }\n\n  function getNearestSuspenseNode(instance: DevToolsInstance): SuspenseNode {\n    while (instance.suspenseNode === null) {\n      if (instance.parent === null) {\n        throw new Error(\n          'There should always be a SuspenseNode parent on a mounted instance.',\n        );\n      }\n      instance = instance.parent;\n    }\n    return instance.suspenseNode;\n  }\n\n  function getNearestMountedDOMNode(publicInstance: Element): null | Element {\n    let domNode: null | Element = publicInstance;\n    while (domNode && !publicInstanceToDevToolsInstanceMap.has(domNode)) {\n      // $FlowFixMe: In practice this is either null or Element.\n      domNode = domNode.parentNode;\n    }\n    return domNode;\n  }\n\n  function getElementIDForHostInstance(\n    publicInstance: HostInstance,\n  ): number | null {\n    const instance = publicInstanceToDevToolsInstanceMap.get(publicInstance);\n    if (instance !== undefined) {\n      if (instance.kind === FILTERED_FIBER_INSTANCE) {\n        // A Filtered Fiber Instance will always have a Virtual Instance as a parent.\n        return ((instance.parent: any): VirtualInstance).id;\n      }\n      return instance.id;\n    }\n    return null;\n  }\n\n  function getSuspenseNodeIDForHostInstance(\n    publicInstance: HostInstance,\n  ): number | null {\n    const instance = publicInstanceToDevToolsInstanceMap.get(publicInstance);\n    if (instance !== undefined) {\n      // Pick nearest unfiltered SuspenseNode instance.\n      let suspenseInstance = instance;\n      while (\n        suspenseInstance.suspenseNode === null ||\n        suspenseInstance.kind === FILTERED_FIBER_INSTANCE\n      ) {\n        if (suspenseInstance.parent === null) {\n          // We shouldn't get here since we'll always have a suspenseNode at the root.\n          return null;\n        }\n        suspenseInstance = suspenseInstance.parent;\n      }\n      return suspenseInstance.id;\n    }\n    return null;\n  }\n\n  function getElementAttributeByPath(\n    id: number,\n    path: Array<string | number>,\n  ): mixed {\n    if (isMostRecentlyInspectedElement(id)) {\n      return getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n    }\n    return undefined;\n  }\n\n  function getElementSourceFunctionById(id: number): null | Function {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return null;\n    }\n    if (devtoolsInstance.kind !== FIBER_INSTANCE) {\n      // TODO: Handle VirtualInstance.\n      return null;\n    }\n    const fiber = devtoolsInstance.data;\n\n    const {elementType, tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IncompleteFunctionComponent:\n      case IndeterminateComponent:\n      case FunctionComponent:\n        return type;\n      case ForwardRef:\n        return type.render;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        return elementType != null && elementType.type != null\n          ? elementType.type\n          : type;\n      default:\n        return null;\n    }\n  }\n\n  function instanceToSerializedElement(\n    instance: FiberInstance | VirtualInstance,\n  ): SerializedElement {\n    if (instance.kind === FIBER_INSTANCE) {\n      const fiber = instance.data;\n      return {\n        displayName: getDisplayNameForFiber(fiber) || 'Anonymous',\n        id: instance.id,\n        key: fiber.key,\n        env: null,\n        stack:\n          fiber._debugOwner == null || fiber._debugStack == null\n            ? null\n            : parseStackTrace(fiber._debugStack, 1),\n        type: getElementTypeForFiber(fiber),\n      };\n    } else {\n      const componentInfo = instance.data;\n      return {\n        displayName: componentInfo.name || 'Anonymous',\n        id: instance.id,\n        key: componentInfo.key == null ? null : componentInfo.key,\n        env: componentInfo.env == null ? null : componentInfo.env,\n        stack:\n          componentInfo.owner == null || componentInfo.debugStack == null\n            ? null\n            : parseStackTrace(componentInfo.debugStack, 1),\n        type: ElementTypeVirtual,\n      };\n    }\n  }\n\n  function getOwnersList(id: number): Array<SerializedElement> | null {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return null;\n    }\n    const self = instanceToSerializedElement(devtoolsInstance);\n    const owners = getOwnersListFromInstance(devtoolsInstance);\n    // This is particular API is prefixed with the current instance too for some reason.\n    if (owners === null) {\n      return [self];\n    }\n    owners.unshift(self);\n    owners.reverse();\n    return owners;\n  }\n\n  function getOwnersListFromInstance(\n    instance: DevToolsInstance,\n  ): Array<SerializedElement> | null {\n    let owner = getUnfilteredOwner(instance.data);\n    if (owner === null) {\n      return null;\n    }\n    const owners: Array<SerializedElement> = [];\n    let parentInstance: null | DevToolsInstance = instance.parent;\n    while (parentInstance !== null && owner !== null) {\n      const ownerInstance = findNearestOwnerInstance(parentInstance, owner);\n      if (ownerInstance !== null) {\n        owners.push(instanceToSerializedElement(ownerInstance));\n        // Get the next owner and keep searching from the previous match.\n        owner = getUnfilteredOwner(owner);\n        parentInstance = ownerInstance.parent;\n      } else {\n        break;\n      }\n    }\n    return owners;\n  }\n\n  function getUnfilteredOwner(\n    owner: ReactComponentInfo | Fiber | null | void,\n  ): ReactComponentInfo | Fiber | null {\n    if (owner == null) {\n      return null;\n    }\n    if (typeof owner.tag === 'number') {\n      const ownerFiber: Fiber = (owner: any); // Refined\n      owner = ownerFiber._debugOwner;\n    } else {\n      const ownerInfo: ReactComponentInfo = (owner: any); // Refined\n      owner = ownerInfo.owner;\n    }\n    while (owner) {\n      if (typeof owner.tag === 'number') {\n        const ownerFiber: Fiber = (owner: any); // Refined\n        if (!shouldFilterFiber(ownerFiber)) {\n          return ownerFiber;\n        }\n        owner = ownerFiber._debugOwner;\n      } else {\n        const ownerInfo: ReactComponentInfo = (owner: any); // Refined\n        if (!shouldFilterVirtual(ownerInfo, null)) {\n          return ownerInfo;\n        }\n        owner = ownerInfo.owner;\n      }\n    }\n    return null;\n  }\n\n  function findNearestOwnerInstance(\n    parentInstance: null | DevToolsInstance,\n    owner: void | null | ReactComponentInfo | Fiber,\n  ): null | FiberInstance | VirtualInstance {\n    if (owner == null) {\n      return null;\n    }\n    // Search the parent path for any instance that matches this kind of owner.\n    while (parentInstance !== null) {\n      if (\n        parentInstance.data === owner ||\n        // Typically both owner and instance.data would refer to the current version of a Fiber\n        // but it is possible for memoization to ignore the owner on the JSX. Then the new Fiber\n        // isn't propagated down as the new owner. In that case we might match the alternate\n        // instead. This is a bit hacky but the fastest check since type casting owner to a Fiber\n        // needs a duck type check anyway.\n        parentInstance.data === (owner: any).alternate\n      ) {\n        if (parentInstance.kind === FILTERED_FIBER_INSTANCE) {\n          return null;\n        }\n        return parentInstance;\n      }\n      parentInstance = parentInstance.parent;\n    }\n    // It is technically possible to create an element and render it in a different parent\n    // but this is a weird edge case and it is worth not having to scan the tree or keep\n    // a register for every fiber/component info.\n    return null;\n  }\n\n  function inspectHooks(fiber: Fiber): HooksTree {\n    const originalConsoleMethods: {[string]: $FlowFixMe} = {};\n\n    // Temporarily disable all console logging before re-running the hook.\n    for (const method in console) {\n      try {\n        // $FlowFixMe[invalid-computed-prop]\n        originalConsoleMethods[method] = console[method];\n        // $FlowFixMe[prop-missing]\n        console[method] = () => {};\n      } catch (error) {}\n    }\n\n    try {\n      return inspectHooksOfFiber(fiber, getDispatcherRef(renderer));\n    } finally {\n      // Restore original console functionality.\n      for (const method in originalConsoleMethods) {\n        try {\n          // $FlowFixMe[prop-missing]\n          console[method] = originalConsoleMethods[method];\n        } catch (error) {}\n      }\n    }\n  }\n\n  function getSuspendedByOfSuspenseNode(\n    suspenseNode: SuspenseNode,\n    filterByChildInstance: null | DevToolsInstance, // only include suspended by instances in this subtree\n  ): Array<SerializedAsyncInfo> {\n    // Collect all ReactAsyncInfo that was suspending this SuspenseNode but\n    // isn't also in any parent set.\n    const result: Array<SerializedAsyncInfo> = [];\n    if (!suspenseNode.hasUniqueSuspenders) {\n      return result;\n    }\n    // Cache the inspection of Hooks in case we need it for multiple entries.\n    // We don't need a full map here since it's likely that every ioInfo that's unique\n    // to a specific instance will have those appear in order of when that instance was discovered.\n    let hooksCacheKey: null | DevToolsInstance = null;\n    let hooksCache: null | HooksTree = null;\n    // Collect the stream entries with the highest byte offset and end time.\n    const streamEntries: Map<\n      Promise<mixed>,\n      {\n        asyncInfo: ReactAsyncInfo,\n        instance: DevToolsInstance,\n        hooks: null | HooksTree,\n      },\n    > = new Map();\n    suspenseNode.suspendedBy.forEach((set, ioInfo) => {\n      let parentNode = suspenseNode.parent;\n      while (parentNode !== null) {\n        if (parentNode.suspendedBy.has(ioInfo)) {\n          return;\n        }\n        parentNode = parentNode.parent;\n      }\n      // We have the ioInfo but we need to find at least one corresponding await\n      // to go along with it. We don't really need to show every child that awaits the same\n      // thing so we just pick the first one that is still alive.\n      if (set.size === 0) {\n        return;\n      }\n      let firstInstance: null | DevToolsInstance = null;\n      if (filterByChildInstance === null) {\n        firstInstance = (set.values().next().value: any);\n      } else {\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const childInstance of set.values()) {\n          if (firstInstance === null) {\n            firstInstance = childInstance;\n          }\n          if (\n            childInstance !== filterByChildInstance &&\n            !isChildOf(\n              filterByChildInstance,\n              childInstance,\n              suspenseNode.instance,\n            )\n          ) {\n            // Something suspended on this outside the filtered instance. That means that\n            // it is not unique to just this filtered instance so we skip including it.\n            return;\n          }\n        }\n      }\n      if (firstInstance !== null && firstInstance.suspendedBy !== null) {\n        const asyncInfo = getAwaitInSuspendedByFromIO(\n          firstInstance.suspendedBy,\n          ioInfo,\n        );\n        if (asyncInfo !== null) {\n          let hooks: null | HooksTree = null;\n          if (asyncInfo.stack == null && asyncInfo.owner == null) {\n            if (hooksCacheKey === firstInstance) {\n              hooks = hooksCache;\n            } else if (firstInstance.kind !== VIRTUAL_INSTANCE) {\n              const fiber = firstInstance.data;\n              if (\n                fiber.dependencies &&\n                fiber.dependencies._debugThenableState\n              ) {\n                // This entry had no stack nor owner but this Fiber used Hooks so we might\n                // be able to get the stack from the Hook.\n                hooksCacheKey = firstInstance;\n                hooksCache = hooks = inspectHooks(fiber);\n              }\n            }\n          }\n          const newIO = asyncInfo.awaited;\n          if (\n            (newIO.name === 'RSC stream' || newIO.name === 'rsc stream') &&\n            newIO.value != null\n          ) {\n            const streamPromise = newIO.value;\n            // Special case RSC stream entries to pick the last entry keyed by the stream.\n            const existingEntry = streamEntries.get(streamPromise);\n            if (existingEntry === undefined) {\n              streamEntries.set(streamPromise, {\n                asyncInfo,\n                instance: firstInstance,\n                hooks,\n              });\n            } else {\n              const existingIO = existingEntry.asyncInfo.awaited;\n              if (\n                newIO !== existingIO &&\n                ((newIO.byteSize !== undefined &&\n                  existingIO.byteSize !== undefined &&\n                  newIO.byteSize > existingIO.byteSize) ||\n                  newIO.end > existingIO.end)\n              ) {\n                // The new entry is later in the stream that the old entry. Replace it.\n                existingEntry.asyncInfo = asyncInfo;\n                existingEntry.instance = firstInstance;\n                existingEntry.hooks = hooks;\n              }\n            }\n          } else {\n            result.push(serializeAsyncInfo(asyncInfo, firstInstance, hooks));\n          }\n        }\n      }\n    });\n    // Add any deduped stream entries.\n    streamEntries.forEach(({asyncInfo, instance, hooks}) => {\n      result.push(serializeAsyncInfo(asyncInfo, instance, hooks));\n    });\n    return result;\n  }\n\n  function getSuspendedByOfInstance(\n    devtoolsInstance: DevToolsInstance,\n    hooks: null | HooksTree,\n  ): Array<SerializedAsyncInfo> {\n    const suspendedBy = devtoolsInstance.suspendedBy;\n    if (suspendedBy === null) {\n      return [];\n    }\n\n    const foundIOEntries: Set<ReactIOInfo> = new Set();\n    const streamEntries: Map<Promise<mixed>, ReactAsyncInfo> = new Map();\n    const result: Array<SerializedAsyncInfo> = [];\n    for (let i = 0; i < suspendedBy.length; i++) {\n      const asyncInfo = suspendedBy[i];\n      const ioInfo = asyncInfo.awaited;\n      if (foundIOEntries.has(ioInfo)) {\n        // We have already added this I/O entry to the result. We can dedupe it.\n        // This can happen when an instance depends on the same data in mutliple places.\n        continue;\n      }\n      foundIOEntries.add(ioInfo);\n      if (\n        (ioInfo.name === 'RSC stream' || ioInfo.name === 'rsc stream') &&\n        ioInfo.value != null\n      ) {\n        const streamPromise = ioInfo.value;\n        // Special case RSC stream entries to pick the last entry keyed by the stream.\n        const existingEntry = streamEntries.get(streamPromise);\n        if (existingEntry === undefined) {\n          streamEntries.set(streamPromise, asyncInfo);\n        } else {\n          const existingIO = existingEntry.awaited;\n          if (\n            ioInfo !== existingIO &&\n            ((ioInfo.byteSize !== undefined &&\n              existingIO.byteSize !== undefined &&\n              ioInfo.byteSize > existingIO.byteSize) ||\n              ioInfo.end > existingIO.end)\n          ) {\n            // The new entry is later in the stream that the old entry. Replace it.\n            streamEntries.set(streamPromise, asyncInfo);\n          }\n        }\n      } else {\n        result.push(serializeAsyncInfo(asyncInfo, devtoolsInstance, hooks));\n      }\n    }\n    // Add any deduped stream entries.\n    streamEntries.forEach(asyncInfo => {\n      result.push(serializeAsyncInfo(asyncInfo, devtoolsInstance, hooks));\n    });\n    return result;\n  }\n\n  function getSuspendedByOfInstanceSubtree(\n    devtoolsInstance: DevToolsInstance,\n  ): Array<SerializedAsyncInfo> {\n    // Get everything suspending below this instance down to the next Suspense node.\n    // First find the parent Suspense boundary which will have accumulated everything\n    let suspenseParentInstance = devtoolsInstance;\n    while (suspenseParentInstance.suspenseNode === null) {\n      if (suspenseParentInstance.parent === null) {\n        // We don't expect to hit this. We should always find the root.\n        return [];\n      }\n      suspenseParentInstance = suspenseParentInstance.parent;\n    }\n    const suspenseNode: SuspenseNode = suspenseParentInstance.suspenseNode;\n    return getSuspendedByOfSuspenseNode(suspenseNode, devtoolsInstance);\n  }\n\n  const FALLBACK_THROTTLE_MS: number = 300;\n\n  function getSuspendedByRange(\n    suspenseNode: SuspenseNode,\n  ): null | [number, number] {\n    let min = Infinity;\n    let max = -Infinity;\n    suspenseNode.suspendedBy.forEach((_, ioInfo) => {\n      if (ioInfo.end > max) {\n        max = ioInfo.end;\n      }\n      if (ioInfo.start < min) {\n        min = ioInfo.start;\n      }\n    });\n    const parentSuspenseNode = suspenseNode.parent;\n    if (parentSuspenseNode !== null) {\n      let parentMax = -Infinity;\n      parentSuspenseNode.suspendedBy.forEach((_, ioInfo) => {\n        if (ioInfo.end > parentMax) {\n          parentMax = ioInfo.end;\n        }\n      });\n      // The parent max is theoretically the earlier the parent could've committed.\n      // Therefore, the theoretical max that the child could be throttled is that plus 300ms.\n      const throttleTime = parentMax + FALLBACK_THROTTLE_MS;\n      if (throttleTime > max) {\n        // If the theoretical throttle time is later than the earliest reveal then we extend\n        // the max time to show that this is timespan could possibly get throttled.\n        max = throttleTime;\n      }\n\n      // We use the end of the previous boundary as the start time for this boundary unless,\n      // that's earlier than we'd need to expand to the full fallback throttle range. It\n      // suggests that the parent was loaded earlier than this one.\n      let startTime = max - FALLBACK_THROTTLE_MS;\n      if (parentMax > startTime) {\n        startTime = parentMax;\n      }\n      // If the first fetch of this boundary starts before that, then we use that as the start.\n      if (startTime < min) {\n        min = startTime;\n      }\n    }\n    if (min < Infinity && max > -Infinity) {\n      return [min, max];\n    }\n    return null;\n  }\n\n  function getAwaitStackFromHooks(\n    hooks: HooksTree,\n    asyncInfo: ReactAsyncInfo,\n  ): null | ReactStackTrace {\n    // TODO: We search through the hooks tree generated by inspectHooksOfFiber so that we can\n    // use the information already extracted but ideally this search would be faster since we\n    // could know which index to extract from the debug state.\n    for (let i = 0; i < hooks.length; i++) {\n      const node = hooks[i];\n      const debugInfo = node.debugInfo;\n      if (debugInfo != null && debugInfo.indexOf(asyncInfo) !== -1) {\n        // Found a matching Hook. We'll now use its source location to construct a stack.\n        const source = node.hookSource;\n        if (\n          source != null &&\n          source.functionName !== null &&\n          source.fileName !== null &&\n          source.lineNumber !== null &&\n          source.columnNumber !== null\n        ) {\n          // Unfortunately this is in a slightly different format. TODO: Unify HookNode with ReactCallSite.\n          const callSite: ReactCallSite = [\n            source.functionName,\n            source.fileName,\n            source.lineNumber,\n            source.columnNumber,\n            0,\n            0,\n            false,\n          ];\n          // As we return we'll add any custom hooks parent stacks to the array.\n          return [callSite];\n        } else {\n          return [];\n        }\n      }\n      // Otherwise, search the sub hooks of any custom hook.\n      const matchedStack = getAwaitStackFromHooks(node.subHooks, asyncInfo);\n      if (matchedStack !== null) {\n        // Append this custom hook to the stack trace since it must have been called inside of it.\n        const source = node.hookSource;\n        if (\n          source != null &&\n          source.functionName !== null &&\n          source.fileName !== null &&\n          source.lineNumber !== null &&\n          source.columnNumber !== null\n        ) {\n          // Unfortunately this is in a slightly different format. TODO: Unify HookNode with ReactCallSite.\n          const callSite: ReactCallSite = [\n            source.functionName,\n            source.fileName,\n            source.lineNumber,\n            source.columnNumber,\n            0,\n            0,\n            false,\n          ];\n          matchedStack.push(callSite);\n        }\n        return matchedStack;\n      }\n    }\n    return null;\n  }\n\n  function serializeAsyncInfo(\n    asyncInfo: ReactAsyncInfo,\n    parentInstance: DevToolsInstance,\n    hooks: null | HooksTree,\n  ): SerializedAsyncInfo {\n    const ioInfo = asyncInfo.awaited;\n    const ioOwnerInstance = findNearestOwnerInstance(\n      parentInstance,\n      ioInfo.owner,\n    );\n    let awaitStack =\n      asyncInfo.debugStack == null\n        ? null\n        : // While we have a ReactStackTrace on ioInfo.stack, that will point to the location on\n          // the server. We need a location that points to the virtual source on the client which\n          // we can then use to source map to the original location.\n          parseStackTrace(asyncInfo.debugStack, 1);\n    let awaitOwnerInstance: null | FiberInstance | VirtualInstance;\n    if (\n      asyncInfo.owner == null &&\n      (awaitStack === null || awaitStack.length === 0)\n    ) {\n      // We had no owner nor stack for the await. This can happen if you render it as a child\n      // or throw a Promise. Replace it with the parent as the await.\n      awaitStack = null;\n      awaitOwnerInstance =\n        parentInstance.kind === FILTERED_FIBER_INSTANCE ? null : parentInstance;\n      if (\n        parentInstance.kind === FIBER_INSTANCE ||\n        parentInstance.kind === FILTERED_FIBER_INSTANCE\n      ) {\n        const fiber = parentInstance.data;\n        switch (fiber.tag) {\n          case ClassComponent:\n          case FunctionComponent:\n          case IncompleteClassComponent:\n          case IncompleteFunctionComponent:\n          case IndeterminateComponent:\n          case MemoComponent:\n          case SimpleMemoComponent:\n            // If we awaited in the child position of a component, then the best stack would be the\n            // return callsite but we don't have that available so instead we skip. The callsite of\n            // the JSX would be misleading in this case. The same thing happens with throw-a-Promise.\n            if (hooks !== null) {\n              // If this component used Hooks we might be able to instead infer the stack from the\n              // use() callsite if this async info came from a hook. Let's search the tree to find it.\n              awaitStack = getAwaitStackFromHooks(hooks, asyncInfo);\n            }\n            break;\n          default:\n            // If we awaited by passing a Promise to a built-in element, then the JSX callsite is a\n            // good stack trace to use for the await.\n            if (\n              fiber._debugOwner != null &&\n              fiber._debugStack != null &&\n              typeof fiber._debugStack !== 'string'\n            ) {\n              awaitStack = parseStackTrace(fiber._debugStack, 1);\n              awaitOwnerInstance = findNearestOwnerInstance(\n                parentInstance,\n                fiber._debugOwner,\n              );\n            }\n        }\n      }\n    } else {\n      awaitOwnerInstance = findNearestOwnerInstance(\n        parentInstance,\n        asyncInfo.owner,\n      );\n    }\n\n    const value: any = ioInfo.value;\n    let resolvedValue = undefined;\n    if (\n      typeof value === 'object' &&\n      value !== null &&\n      typeof value.then === 'function'\n    ) {\n      switch (value.status) {\n        case 'fulfilled':\n          resolvedValue = value.value;\n          break;\n        case 'rejected':\n          resolvedValue = value.reason;\n          break;\n      }\n    }\n    return {\n      awaited: {\n        name: ioInfo.name,\n        description: getIODescription(resolvedValue),\n        start: ioInfo.start,\n        end: ioInfo.end,\n        byteSize: ioInfo.byteSize == null ? null : ioInfo.byteSize,\n        value: ioInfo.value == null ? null : ioInfo.value,\n        env: ioInfo.env == null ? null : ioInfo.env,\n        owner:\n          ioOwnerInstance === null\n            ? null\n            : instanceToSerializedElement(ioOwnerInstance),\n        stack:\n          ioInfo.debugStack == null\n            ? null\n            : // While we have a ReactStackTrace on ioInfo.stack, that will point to the location on\n              // the server. We need a location that points to the virtual source on the client which\n              // we can then use to source map to the original location.\n              parseStackTrace(ioInfo.debugStack, 1),\n      },\n      env: asyncInfo.env == null ? null : asyncInfo.env,\n      owner:\n        awaitOwnerInstance === null\n          ? null\n          : instanceToSerializedElement(awaitOwnerInstance),\n      stack: awaitStack,\n    };\n  }\n\n  // Fast path props lookup for React Native style editor.\n  // Could use inspectElementRaw() but that would require shallow rendering hooks components,\n  // and could also mess with memoization.\n  function getInstanceAndStyle(id: number): InstanceAndStyle {\n    let instance = null;\n    let style = null;\n\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return {instance, style};\n    }\n    if (devtoolsInstance.kind !== FIBER_INSTANCE) {\n      // TODO: Handle VirtualInstance.\n      return {instance, style};\n    }\n\n    const fiber = devtoolsInstance.data;\n    if (fiber !== null) {\n      instance = fiber.stateNode;\n\n      if (fiber.memoizedProps !== null) {\n        style = fiber.memoizedProps.style;\n      }\n    }\n\n    return {instance, style};\n  }\n\n  function isErrorBoundary(fiber: Fiber): boolean {\n    const {tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n        const instance = fiber.stateNode;\n        return (\n          typeof type.getDerivedStateFromError === 'function' ||\n          (instance !== null &&\n            typeof instance.componentDidCatch === 'function')\n        );\n      default:\n        return false;\n    }\n  }\n\n  function inspectElementRaw(id: number): InspectedElement | null {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return null;\n    }\n    if (devtoolsInstance.kind === VIRTUAL_INSTANCE) {\n      return inspectVirtualInstanceRaw(devtoolsInstance);\n    }\n    if (devtoolsInstance.kind === FIBER_INSTANCE) {\n      const isRoot = devtoolsInstance.parent === null;\n      return isRoot\n        ? inspectRootsRaw(devtoolsInstance.id)\n        : inspectFiberInstanceRaw(devtoolsInstance);\n    }\n    (devtoolsInstance: FilteredFiberInstance); // assert exhaustive\n    throw new Error('Unsupported instance kind');\n  }\n\n  function inspectFiberInstanceRaw(\n    fiberInstance: FiberInstance,\n  ): InspectedElement | null {\n    const fiber = fiberInstance.data;\n    if (fiber == null) {\n      return null;\n    }\n\n    const {\n      stateNode,\n      key,\n      memoizedProps,\n      memoizedState,\n      dependencies,\n      tag,\n      type,\n    } = fiber;\n\n    const elementType = getElementTypeForFiber(fiber);\n\n    const usesHooks =\n      (tag === FunctionComponent ||\n        tag === SimpleMemoComponent ||\n        tag === ForwardRef) &&\n      (!!memoizedState || !!dependencies);\n\n    // TODO Show custom UI for Cache like we do for Suspense\n    // For now, just hide state data entirely since it's not meant to be inspected.\n    const showState =\n      tag === ClassComponent || tag === IncompleteClassComponent;\n\n    const typeSymbol = getTypeSymbol(type);\n\n    let canViewSource = false;\n    let context = null;\n    if (\n      tag === ClassComponent ||\n      tag === FunctionComponent ||\n      tag === IncompleteClassComponent ||\n      tag === IncompleteFunctionComponent ||\n      tag === IndeterminateComponent ||\n      tag === MemoComponent ||\n      tag === ForwardRef ||\n      tag === SimpleMemoComponent\n    ) {\n      canViewSource = true;\n      if (stateNode && stateNode.context != null) {\n        // Don't show an empty context object for class components that don't use the context API.\n        const shouldHideContext =\n          elementType === ElementTypeClass &&\n          !(type.contextTypes || type.contextType);\n\n        if (!shouldHideContext) {\n          context = stateNode.context;\n        }\n      }\n    } else if (\n      // Detect pre-19 Context Consumers\n      (typeSymbol === CONTEXT_NUMBER || typeSymbol === CONTEXT_SYMBOL_STRING) &&\n      !(\n        // In 19+, CONTEXT_SYMBOL_STRING means a Provider instead.\n        // It will be handled in a different branch below.\n        // Eventually, this entire branch can be removed.\n        (type._context === undefined && type.Provider === type)\n      )\n    ) {\n      // 16.3-16.5 read from \"type\" because the Consumer is the actual context object.\n      // 16.6+ should read from \"type._context\" because Consumer can be different (in DEV).\n      // NOTE Keep in sync with getDisplayNameForFiber()\n      const consumerResolvedContext = type._context || type;\n\n      // Global context value.\n      context = consumerResolvedContext._currentValue || null;\n\n      // Look for overridden value.\n      let current = ((fiber: any): Fiber).return;\n      while (current !== null) {\n        const currentType = current.type;\n        const currentTypeSymbol = getTypeSymbol(currentType);\n        if (\n          currentTypeSymbol === PROVIDER_NUMBER ||\n          currentTypeSymbol === PROVIDER_SYMBOL_STRING\n        ) {\n          // 16.3.0 exposed the context object as \"context\"\n          // PR #12501 changed it to \"_context\" for 16.3.1+\n          // NOTE Keep in sync with getDisplayNameForFiber()\n          const providerResolvedContext =\n            currentType._context || currentType.context;\n          if (providerResolvedContext === consumerResolvedContext) {\n            context = current.memoizedProps.value;\n            break;\n          }\n        }\n\n        current = current.return;\n      }\n    } else if (\n      // Detect 19+ Context Consumers\n      typeSymbol === CONSUMER_SYMBOL_STRING\n    ) {\n      // This branch is 19+ only, where Context.Provider === Context.\n      // NOTE Keep in sync with getDisplayNameForFiber()\n      const consumerResolvedContext = type._context;\n\n      // Global context value.\n      context = consumerResolvedContext._currentValue || null;\n\n      // Look for overridden value.\n      let current = ((fiber: any): Fiber).return;\n      while (current !== null) {\n        const currentType = current.type;\n        const currentTypeSymbol = getTypeSymbol(currentType);\n        if (\n          // In 19+, these are Context Providers\n          currentTypeSymbol === CONTEXT_SYMBOL_STRING\n        ) {\n          const providerResolvedContext = currentType;\n          if (providerResolvedContext === consumerResolvedContext) {\n            context = current.memoizedProps.value;\n            break;\n          }\n        }\n\n        current = current.return;\n      }\n    }\n\n    let hasLegacyContext = false;\n    if (context !== null) {\n      hasLegacyContext = !!type.contextTypes;\n\n      // To simplify hydration and display logic for context, wrap in a value object.\n      // Otherwise simple values (e.g. strings, booleans) become harder to handle.\n      context = {value: context};\n    }\n\n    const owners: null | Array<SerializedElement> =\n      getOwnersListFromInstance(fiberInstance);\n\n    let hooks: null | HooksTree = null;\n    if (usesHooks) {\n      hooks = inspectHooks(fiber);\n    }\n\n    let rootType = null;\n    let current = fiber;\n    let hasErrorBoundary = false;\n    let hasSuspenseBoundary = false;\n    while (current.return !== null) {\n      const temp = current;\n      current = current.return;\n      if (temp.tag === SuspenseComponent) {\n        hasSuspenseBoundary = true;\n      } else if (isErrorBoundary(temp)) {\n        hasErrorBoundary = true;\n      }\n    }\n    const fiberRoot = current.stateNode;\n    if (fiberRoot != null && fiberRoot._debugRootType !== null) {\n      rootType = fiberRoot._debugRootType;\n    }\n\n    let isErrored = false;\n    if (isErrorBoundary(fiber)) {\n      // if the current inspected element is an error boundary,\n      // either that we want to use it to toggle off error state\n      // or that we allow to force error state on it if it's within another\n      // error boundary\n      //\n      // TODO: This flag is a leaked implementation detail. Once we start\n      // releasing DevTools in lockstep with React, we should import a function\n      // from the reconciler instead.\n      const DidCapture = 0b000000000000000000010000000;\n      isErrored =\n        (fiber.flags & DidCapture) !== 0 ||\n        forceErrorForFibers.get(fiber) === true ||\n        (fiber.alternate !== null &&\n          forceErrorForFibers.get(fiber.alternate) === true);\n    }\n\n    const plugins: Plugins = {\n      stylex: null,\n    };\n\n    if (enableStyleXFeatures) {\n      if (memoizedProps != null && memoizedProps.hasOwnProperty('xstyle')) {\n        plugins.stylex = getStyleXData(memoizedProps.xstyle);\n      }\n    }\n\n    let source = null;\n    if (canViewSource) {\n      source = getSourceForFiberInstance(fiberInstance);\n    }\n\n    let componentLogsEntry = fiberToComponentLogsMap.get(fiber);\n    if (componentLogsEntry === undefined && fiber.alternate !== null) {\n      componentLogsEntry = fiberToComponentLogsMap.get(fiber.alternate);\n    }\n\n    let nativeTag = null;\n    if (elementType === ElementTypeHostComponent) {\n      nativeTag = getNativeTag(fiber.stateNode);\n    }\n\n    let isSuspended: boolean | null = null;\n    if (tag === SuspenseComponent) {\n      isSuspended = memoizedState !== null;\n    }\n\n    const suspendedBy =\n      fiberInstance.suspenseNode !== null\n        ? // If this is a Suspense boundary, then we include everything in the subtree that might suspend\n          // this boundary down to the next Suspense boundary.\n          getSuspendedByOfSuspenseNode(fiberInstance.suspenseNode, null)\n        : tag === ActivityComponent\n          ? // For Activity components we show everything that suspends the subtree down to the next boundary\n            // so that you can see what suspends a Transition at that level.\n            getSuspendedByOfInstanceSubtree(fiberInstance)\n          : // This set is an edge case where if you pass a promise to a Client Component into a children\n            // position without a Server Component as the direct parent. E.g. <div>{promise}</div>\n            // In this case, this becomes associated with the Client/Host Component where as normally\n            // you'd expect these to be associated with the Server Component that awaited the data.\n            // TODO: Prepend other suspense sources like css, images and use().\n            getSuspendedByOfInstance(fiberInstance, hooks);\n    const suspendedByRange = getSuspendedByRange(\n      getNearestSuspenseNode(fiberInstance),\n    );\n\n    let unknownSuspenders = UNKNOWN_SUSPENDERS_NONE;\n    if (\n      fiberInstance.suspenseNode !== null &&\n      fiberInstance.suspenseNode.hasUnknownSuspenders &&\n      !isSuspended\n    ) {\n      // Something unknown threw to suspended this boundary. Let's figure out why that might be.\n      if (renderer.bundleType === 0) {\n        unknownSuspenders = UNKNOWN_SUSPENDERS_REASON_PRODUCTION;\n      } else if (!('_debugInfo' in fiber)) {\n        // TODO: We really should detect _debugThenable and the auto-instrumentation for lazy/thenables too.\n        unknownSuspenders = UNKNOWN_SUSPENDERS_REASON_OLD_VERSION;\n      } else {\n        unknownSuspenders = UNKNOWN_SUSPENDERS_REASON_THROWN_PROMISE;\n      }\n    }\n\n    return {\n      id: fiberInstance.id,\n\n      // Does the current renderer support editable hooks and function props?\n      canEditHooks: typeof overrideHookState === 'function',\n      canEditFunctionProps: typeof overrideProps === 'function',\n\n      // Does the current renderer support advanced editing interface?\n      canEditHooksAndDeletePaths:\n        typeof overrideHookStateDeletePath === 'function',\n      canEditHooksAndRenamePaths:\n        typeof overrideHookStateRenamePath === 'function',\n      canEditFunctionPropsDeletePaths:\n        typeof overridePropsDeletePath === 'function',\n      canEditFunctionPropsRenamePaths:\n        typeof overridePropsRenamePath === 'function',\n\n      canToggleError: supportsTogglingError && hasErrorBoundary,\n      // Is this error boundary in error state.\n      isErrored,\n\n      canToggleSuspense:\n        supportsTogglingSuspense &&\n        hasSuspenseBoundary &&\n        // If it's showing the real content, we can always flip fallback.\n        (!isSuspended ||\n          // If it's showing fallback because we previously forced it to,\n          // allow toggling it back to remove the fallback override.\n          forceFallbackForFibers.has(fiber) ||\n          (fiber.alternate !== null &&\n            forceFallbackForFibers.has(fiber.alternate))),\n      isSuspended: isSuspended,\n\n      source,\n\n      stack:\n        fiber._debugOwner == null || fiber._debugStack == null\n          ? null\n          : parseStackTrace(fiber._debugStack, 1),\n\n      // Does the component have legacy context attached to it.\n      hasLegacyContext,\n\n      key: key != null ? key : null,\n\n      type: elementType,\n\n      // Inspectable properties.\n      // TODO Review sanitization approach for the below inspectable values.\n      context,\n      hooks,\n      props: memoizedProps,\n      state: showState ? memoizedState : null,\n      errors:\n        componentLogsEntry === undefined\n          ? []\n          : Array.from(componentLogsEntry.errors.entries()),\n      warnings:\n        componentLogsEntry === undefined\n          ? []\n          : Array.from(componentLogsEntry.warnings.entries()),\n\n      suspendedBy: suspendedBy,\n      suspendedByRange: suspendedByRange,\n      unknownSuspenders: unknownSuspenders,\n\n      // List of owners\n      owners,\n\n      env: null,\n\n      rootType,\n      rendererPackageName: renderer.rendererPackageName,\n      rendererVersion: renderer.version,\n\n      plugins,\n\n      nativeTag,\n    };\n  }\n\n  function inspectVirtualInstanceRaw(\n    virtualInstance: VirtualInstance,\n  ): InspectedElement | null {\n    const source = getSourceForInstance(virtualInstance);\n\n    const componentInfo = virtualInstance.data;\n    const key =\n      typeof componentInfo.key === 'string' ? componentInfo.key : null;\n    const props = componentInfo.props == null ? null : componentInfo.props;\n    const owners: null | Array<SerializedElement> =\n      getOwnersListFromInstance(virtualInstance);\n\n    let rootType = null;\n    let hasErrorBoundary = false;\n    let hasSuspenseBoundary = false;\n    const nearestFiber = getNearestFiber(virtualInstance);\n    if (nearestFiber !== null) {\n      let current = nearestFiber;\n      while (current.return !== null) {\n        const temp = current;\n        current = current.return;\n        if (temp.tag === SuspenseComponent) {\n          hasSuspenseBoundary = true;\n        } else if (isErrorBoundary(temp)) {\n          hasErrorBoundary = true;\n        }\n      }\n      const fiberRoot = current.stateNode;\n      if (fiberRoot != null && fiberRoot._debugRootType !== null) {\n        rootType = fiberRoot._debugRootType;\n      }\n    }\n\n    const plugins: Plugins = {\n      stylex: null,\n    };\n\n    const componentLogsEntry =\n      componentInfoToComponentLogsMap.get(componentInfo);\n\n    const isSuspended = null;\n    // Things that Suspended this Server Component (use(), awaits and direct child promises)\n    const suspendedBy = getSuspendedByOfInstance(virtualInstance, null);\n    const suspendedByRange = getSuspendedByRange(\n      getNearestSuspenseNode(virtualInstance),\n    );\n\n    return {\n      id: virtualInstance.id,\n\n      canEditHooks: false,\n      canEditFunctionProps: false,\n\n      canEditHooksAndDeletePaths: false,\n      canEditHooksAndRenamePaths: false,\n      canEditFunctionPropsDeletePaths: false,\n      canEditFunctionPropsRenamePaths: false,\n\n      canToggleError: supportsTogglingError && hasErrorBoundary,\n      isErrored: false,\n\n      canToggleSuspense: supportsTogglingSuspense && hasSuspenseBoundary,\n      isSuspended: isSuspended,\n\n      source,\n\n      stack:\n        componentInfo.owner == null || componentInfo.debugStack == null\n          ? null\n          : parseStackTrace(componentInfo.debugStack, 1),\n\n      // Does the component have legacy context attached to it.\n      hasLegacyContext: false,\n\n      key: key,\n\n      type: ElementTypeVirtual,\n\n      // Inspectable properties.\n      // TODO Review sanitization approach for the below inspectable values.\n      context: null,\n      hooks: null,\n      props: props,\n      state: null,\n      errors:\n        componentLogsEntry === undefined\n          ? []\n          : Array.from(componentLogsEntry.errors.entries()),\n      warnings:\n        componentLogsEntry === undefined\n          ? []\n          : Array.from(componentLogsEntry.warnings.entries()),\n\n      suspendedBy: suspendedBy,\n      suspendedByRange: suspendedByRange,\n      unknownSuspenders: UNKNOWN_SUSPENDERS_NONE,\n\n      // List of owners\n      owners,\n\n      env: componentInfo.env == null ? null : componentInfo.env,\n\n      rootType,\n      rendererPackageName: renderer.rendererPackageName,\n      rendererVersion: renderer.version,\n\n      plugins,\n\n      nativeTag: null,\n    };\n  }\n\n  let mostRecentlyInspectedElement: InspectedElement | null = null;\n  let hasElementUpdatedSinceLastInspected: boolean = false;\n  let currentlyInspectedPaths: Object = {};\n\n  function isMostRecentlyInspectedElement(id: number): boolean {\n    if (mostRecentlyInspectedElement === null) {\n      return false;\n    }\n    if (mostRecentlyInspectedElement.id === id) {\n      return true;\n    }\n\n    if (mostRecentlyInspectedElement.type === ElementTypeRoot) {\n      // we inspected the screen recently. If we're inspecting another root, we're\n      // still inspecting the screen.\n      const instance = idToDevToolsInstanceMap.get(id);\n      return (\n        instance !== undefined &&\n        instance.kind === FIBER_INSTANCE &&\n        instance.parent === null\n      );\n    }\n    return false;\n  }\n\n  function isMostRecentlyInspectedElementCurrent(id: number): boolean {\n    return (\n      isMostRecentlyInspectedElement(id) && !hasElementUpdatedSinceLastInspected\n    );\n  }\n\n  // Track the intersection of currently inspected paths,\n  // so that we can send their data along if the element is re-rendered.\n  function mergeInspectedPaths(path: Array<string | number>) {\n    let current = currentlyInspectedPaths;\n    path.forEach(key => {\n      if (!current[key]) {\n        current[key] = {};\n      }\n      current = current[key];\n    });\n  }\n\n  function createIsPathAllowed(\n    key: string | null,\n    secondaryCategory: 'suspendedBy' | 'hooks' | null,\n  ) {\n    // This function helps prevent previously-inspected paths from being dehydrated in updates.\n    // This is important to avoid a bad user experience where expanded toggles collapse on update.\n    return function isPathAllowed(path: Array<string | number>): boolean {\n      switch (secondaryCategory) {\n        case 'hooks':\n          if (path.length === 1) {\n            // Never dehydrate the \"hooks\" object at the top levels.\n            return true;\n          }\n\n          if (\n            path[path.length - 2] === 'hookSource' &&\n            path[path.length - 1] === 'fileName'\n          ) {\n            // It's important to preserve the full file name (URL) for hook sources\n            // in case the user has enabled the named hooks feature.\n            // Otherwise the frontend may end up with a partial URL which it can't load.\n            return true;\n          }\n\n          if (\n            path[path.length - 1] === 'subHooks' ||\n            path[path.length - 2] === 'subHooks'\n          ) {\n            // Dehydrating the 'subHooks' property makes the HooksTree UI a lot more complicated,\n            // so it's easiest for now if we just don't break on this boundary.\n            // We can always dehydrate a level deeper (in the value object).\n            return true;\n          }\n          break;\n        case 'suspendedBy':\n          if (path.length < 5) {\n            // Never dehydrate anything above suspendedBy[index].awaited.value\n            // Those are part of the internal meta data. We only dehydrate inside the Promise.\n            return true;\n          }\n          break;\n        default:\n          break;\n      }\n\n      let current =\n        key === null ? currentlyInspectedPaths : currentlyInspectedPaths[key];\n      if (!current) {\n        return false;\n      }\n      for (let i = 0; i < path.length; i++) {\n        current = current[path[i]];\n        if (!current) {\n          return false;\n        }\n      }\n      return true;\n    };\n  }\n\n  function updateSelectedElement(inspectedElement: InspectedElement): void {\n    const {hooks, id, props} = inspectedElement;\n\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return;\n    }\n    if (devtoolsInstance.kind !== FIBER_INSTANCE) {\n      // TODO: Handle VirtualInstance.\n      return;\n    }\n\n    const fiber = devtoolsInstance.data;\n    const {elementType, stateNode, tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IndeterminateComponent:\n        global.$r = stateNode;\n        break;\n      case IncompleteFunctionComponent:\n      case FunctionComponent:\n        global.$r = {\n          hooks,\n          props,\n          type,\n        };\n        break;\n      case ForwardRef:\n        global.$r = {\n          hooks,\n          props,\n          type: type.render,\n        };\n        break;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        global.$r = {\n          hooks,\n          props,\n          type:\n            elementType != null && elementType.type != null\n              ? elementType.type\n              : type,\n        };\n        break;\n      default:\n        global.$r = null;\n        break;\n    }\n  }\n\n  function storeAsGlobal(\n    id: number,\n    path: Array<string | number>,\n    count: number,\n  ): void {\n    if (isMostRecentlyInspectedElement(id)) {\n      const value = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n      const key = `$reactTemp${count}`;\n\n      window[key] = value;\n\n      console.log(key);\n      console.log(value);\n    }\n  }\n\n  function getSerializedElementValueByPath(\n    id: number,\n    path: Array<string | number>,\n  ): ?string {\n    if (isMostRecentlyInspectedElement(id)) {\n      const valueToCopy = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n\n      return serializeToString(valueToCopy);\n    }\n  }\n\n  function inspectElement(\n    requestID: number,\n    id: number,\n    path: Array<string | number> | null,\n    forceFullData: boolean,\n  ): InspectedElementPayload {\n    if (path !== null) {\n      mergeInspectedPaths(path);\n    }\n\n    if (isMostRecentlyInspectedElement(id) && !forceFullData) {\n      if (!hasElementUpdatedSinceLastInspected) {\n        if (path !== null) {\n          let secondaryCategory: 'suspendedBy' | 'hooks' | null = null;\n          if (path[0] === 'hooks' || path[0] === 'suspendedBy') {\n            secondaryCategory = path[0];\n          }\n\n          // If this element has not been updated since it was last inspected,\n          // we can just return the subset of data in the newly-inspected path.\n          return {\n            id,\n            responseID: requestID,\n            type: 'hydrated-path',\n            path,\n            value: cleanForBridge(\n              getInObject(\n                ((mostRecentlyInspectedElement: any): InspectedElement),\n                path,\n              ),\n              createIsPathAllowed(null, secondaryCategory),\n              path,\n            ),\n          };\n        } else {\n          // If this element has not been updated since it was last inspected, we don't need to return it.\n          // Instead we can just return the ID to indicate that it has not changed.\n          return {\n            id,\n            responseID: requestID,\n            type: 'no-change',\n          };\n        }\n      }\n    } else {\n      currentlyInspectedPaths = {};\n    }\n\n    hasElementUpdatedSinceLastInspected = false;\n\n    try {\n      mostRecentlyInspectedElement = inspectElementRaw(id);\n    } catch (error) {\n      // the error name is synced with ReactDebugHooks\n      if (error.name === 'ReactDebugToolsRenderError') {\n        let message = 'Error rendering inspected element.';\n        let stack;\n        // Log error & cause for user to debug\n        console.error(message + '\\n\\n', error);\n        if (error.cause != null) {\n          const componentName = getDisplayNameForElementID(id);\n          console.error(\n            'React DevTools encountered an error while trying to inspect hooks. ' +\n              'This is most likely caused by an error in current inspected component' +\n              (componentName != null ? `: \"${componentName}\".` : '.') +\n              '\\nThe error thrown in the component is: \\n\\n',\n            error.cause,\n          );\n          if (error.cause instanceof Error) {\n            message = error.cause.message || message;\n            stack = error.cause.stack;\n          }\n        }\n\n        return {\n          type: 'error',\n          errorType: 'user',\n          id,\n          responseID: requestID,\n          message,\n          stack,\n        };\n      }\n\n      // the error name is synced with ReactDebugHooks\n      if (error.name === 'ReactDebugToolsUnsupportedHookError') {\n        return {\n          type: 'error',\n          errorType: 'unknown-hook',\n          id,\n          responseID: requestID,\n          message:\n            'Unsupported hook in the react-debug-tools package: ' +\n            error.message,\n        };\n      }\n\n      // Log Uncaught Error\n      console.error('Error inspecting element.\\n\\n', error);\n\n      return {\n        type: 'error',\n        errorType: 'uncaught',\n        id,\n        responseID: requestID,\n        message: error.message,\n        stack: error.stack,\n      };\n    }\n\n    if (mostRecentlyInspectedElement === null) {\n      return {\n        id,\n        responseID: requestID,\n        type: 'not-found',\n      };\n    }\n    const inspectedElement = mostRecentlyInspectedElement;\n\n    // Any time an inspected element has an update,\n    // we should update the selected $r value as wel.\n    // Do this before dehydration (cleanForBridge).\n    updateSelectedElement(inspectedElement);\n\n    // Clone before cleaning so that we preserve the full data.\n    // This will enable us to send patches without re-inspecting if hydrated paths are requested.\n    // (Reducing how often we shallow-render is a better DX for function components that use hooks.)\n    const cleanedInspectedElement = {...inspectedElement};\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.context = cleanForBridge(\n      inspectedElement.context,\n      createIsPathAllowed('context', null),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.hooks = cleanForBridge(\n      inspectedElement.hooks,\n      createIsPathAllowed('hooks', 'hooks'),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.props = cleanForBridge(\n      inspectedElement.props,\n      createIsPathAllowed('props', null),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.state = cleanForBridge(\n      inspectedElement.state,\n      createIsPathAllowed('state', null),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.suspendedBy = cleanForBridge(\n      inspectedElement.suspendedBy,\n      createIsPathAllowed('suspendedBy', 'suspendedBy'),\n    );\n\n    return {\n      id,\n      responseID: requestID,\n      type: 'full-data',\n      // $FlowFixMe[prop-missing] found when upgrading Flow\n      value: cleanedInspectedElement,\n    };\n  }\n\n  function inspectRootsRaw(arbitraryRootID: number): InspectedElement | null {\n    const roots = hook.getFiberRoots(rendererID);\n    if (roots.size === 0) {\n      return null;\n    }\n\n    const inspectedRoots: InspectedElement = {\n      // invariants\n      id: arbitraryRootID,\n      type: ElementTypeRoot,\n      // Properties we merge\n      isErrored: false,\n      errors: [],\n      warnings: [],\n      suspendedBy: [],\n      suspendedByRange: null,\n      // TODO: How to merge these?\n      unknownSuspenders: UNKNOWN_SUSPENDERS_NONE,\n      // Properties where merging doesn't make sense so we ignore them entirely in the UI\n      rootType: null,\n      plugins: {stylex: null},\n      nativeTag: null,\n      env: null,\n      source: null,\n      stack: null,\n      rendererPackageName: null,\n      rendererVersion: null,\n      // These don't make sense for a Root. They're just bottom values.\n      key: null,\n      canEditFunctionProps: false,\n      canEditHooks: false,\n      canEditFunctionPropsDeletePaths: false,\n      canEditFunctionPropsRenamePaths: false,\n      canEditHooksAndDeletePaths: false,\n      canEditHooksAndRenamePaths: false,\n      canToggleError: false,\n      canToggleSuspense: false,\n      isSuspended: false,\n      hasLegacyContext: false,\n      context: null,\n      hooks: null,\n      props: null,\n      state: null,\n      owners: null,\n    };\n\n    let minSuspendedByRange = Infinity;\n    let maxSuspendedByRange = -Infinity;\n    roots.forEach(root => {\n      const rootInstance = rootToFiberInstanceMap.get(root);\n      if (rootInstance === undefined) {\n        throw new Error(\n          'Expected a root instance to exist for this Fiber root',\n        );\n      }\n      const inspectedRoot = inspectFiberInstanceRaw(rootInstance);\n      if (inspectedRoot === null) {\n        return;\n      }\n\n      if (inspectedRoot.isErrored) {\n        inspectedRoots.isErrored = true;\n      }\n      for (let i = 0; i < inspectedRoot.errors.length; i++) {\n        inspectedRoots.errors.push(inspectedRoot.errors[i]);\n      }\n      for (let i = 0; i < inspectedRoot.warnings.length; i++) {\n        inspectedRoots.warnings.push(inspectedRoot.warnings[i]);\n      }\n      for (let i = 0; i < inspectedRoot.suspendedBy.length; i++) {\n        inspectedRoots.suspendedBy.push(inspectedRoot.suspendedBy[i]);\n      }\n      const suspendedByRange = inspectedRoot.suspendedByRange;\n      if (suspendedByRange !== null) {\n        if (suspendedByRange[0] < minSuspendedByRange) {\n          minSuspendedByRange = suspendedByRange[0];\n        }\n        if (suspendedByRange[1] > maxSuspendedByRange) {\n          maxSuspendedByRange = suspendedByRange[1];\n        }\n      }\n    });\n\n    if (minSuspendedByRange !== Infinity || maxSuspendedByRange !== -Infinity) {\n      inspectedRoots.suspendedByRange = [\n        minSuspendedByRange,\n        maxSuspendedByRange,\n      ];\n    }\n\n    return inspectedRoots;\n  }\n\n  function logElementToConsole(id: number) {\n    const result = isMostRecentlyInspectedElementCurrent(id)\n      ? mostRecentlyInspectedElement\n      : inspectElementRaw(id);\n    if (result === null) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return;\n    }\n\n    const displayName = getDisplayNameForElementID(id);\n\n    const supportsGroup = typeof console.groupCollapsed === 'function';\n    if (supportsGroup) {\n      console.groupCollapsed(\n        `[Click to expand] %c<${displayName || 'Component'} />`,\n        // --dom-tag-name-color is the CSS variable Chrome styles HTML elements with in the console.\n        'color: var(--dom-tag-name-color); font-weight: normal;',\n      );\n    }\n    if (result.props !== null) {\n      console.log('Props:', result.props);\n    }\n    if (result.state !== null) {\n      console.log('State:', result.state);\n    }\n    if (result.hooks !== null) {\n      console.log('Hooks:', result.hooks);\n    }\n    const hostInstances = findHostInstancesForElementID(id);\n    if (hostInstances !== null) {\n      console.log('Nodes:', hostInstances);\n    }\n    if (window.chrome || /firefox/i.test(navigator.userAgent)) {\n      console.log(\n        'Right-click any value to save it as a global variable for further inspection.',\n      );\n    }\n    if (supportsGroup) {\n      console.groupEnd();\n    }\n  }\n\n  function deletePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n  ): void {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return;\n    }\n    if (devtoolsInstance.kind !== FIBER_INSTANCE) {\n      // TODO: Handle VirtualInstance.\n      return;\n    }\n    const fiber = devtoolsInstance.data;\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          path = path.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (path.length === 0) {\n                // Simple context value (noop)\n              } else {\n                deletePathInObject(instance.context, path);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookStateDeletePath === 'function') {\n            overrideHookStateDeletePath(fiber, ((hookID: any): number), path);\n          }\n          break;\n        case 'props':\n          if (instance === null) {\n            if (typeof overridePropsDeletePath === 'function') {\n              overridePropsDeletePath(fiber, path);\n            }\n          } else {\n            fiber.pendingProps = copyWithDelete(instance.props, path);\n            instance.forceUpdate();\n          }\n          break;\n        case 'state':\n          deletePathInObject(instance.state, path);\n          instance.forceUpdate();\n          break;\n      }\n    }\n  }\n\n  function renamePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    oldPath: Array<string | number>,\n    newPath: Array<string | number>,\n  ): void {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return;\n    }\n    if (devtoolsInstance.kind !== FIBER_INSTANCE) {\n      // TODO: Handle VirtualInstance.\n      return;\n    }\n    const fiber = devtoolsInstance.data;\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          oldPath = oldPath.slice(1);\n          newPath = newPath.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (oldPath.length === 0) {\n                // Simple context value (noop)\n              } else {\n                renamePathInObject(instance.context, oldPath, newPath);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookStateRenamePath === 'function') {\n            overrideHookStateRenamePath(\n              fiber,\n              ((hookID: any): number),\n              oldPath,\n              newPath,\n            );\n          }\n          break;\n        case 'props':\n          if (instance === null) {\n            if (typeof overridePropsRenamePath === 'function') {\n              overridePropsRenamePath(fiber, oldPath, newPath);\n            }\n          } else {\n            fiber.pendingProps = copyWithRename(\n              instance.props,\n              oldPath,\n              newPath,\n            );\n            instance.forceUpdate();\n          }\n          break;\n        case 'state':\n          renamePathInObject(instance.state, oldPath, newPath);\n          instance.forceUpdate();\n          break;\n      }\n    }\n  }\n\n  function overrideValueAtPath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n    value: any,\n  ): void {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return;\n    }\n    if (devtoolsInstance.kind !== FIBER_INSTANCE) {\n      // TODO: Handle VirtualInstance.\n      return;\n    }\n    const fiber = devtoolsInstance.data;\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          path = path.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (path.length === 0) {\n                // Simple context value\n                instance.context = value;\n              } else {\n                setInObject(instance.context, path, value);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookState === 'function') {\n            overrideHookState(fiber, ((hookID: any): number), path, value);\n          }\n          break;\n        case 'props':\n          switch (fiber.tag) {\n            case ClassComponent:\n              fiber.pendingProps = copyWithSet(instance.props, path, value);\n              instance.forceUpdate();\n              break;\n            default:\n              if (typeof overrideProps === 'function') {\n                overrideProps(fiber, path, value);\n              }\n              break;\n          }\n          break;\n        case 'state':\n          switch (fiber.tag) {\n            case ClassComponent:\n              setInObject(instance.state, path, value);\n              instance.forceUpdate();\n              break;\n          }\n          break;\n      }\n    }\n  }\n\n  type CommitProfilingData = {\n    changeDescriptions: Map<number, ChangeDescription> | null,\n    commitTime: number,\n    durations: Array<number>,\n    effectDuration: number | null,\n    maxActualDuration: number,\n    passiveEffectDuration: number | null,\n    priorityLevel: string | null,\n    updaters: Array<SerializedElement> | null,\n  };\n\n  type CommitProfilingMetadataMap = Map<number, Array<CommitProfilingData>>;\n  type DisplayNamesByRootID = Map<number, string>;\n\n  let currentCommitProfilingMetadata: CommitProfilingData | null = null;\n  let displayNamesByRootID: DisplayNamesByRootID | null = null;\n  let initialTreeBaseDurationsMap: Map<number, Array<[number, number]>> | null =\n    null;\n  let isProfiling: boolean = false;\n  let profilingStartTime: number = 0;\n  let recordChangeDescriptions: boolean = false;\n  let recordTimeline: boolean = false;\n  let rootToCommitProfilingMetadataMap: CommitProfilingMetadataMap | null =\n    null;\n\n  function getProfilingData(): ProfilingDataBackend {\n    const dataForRoots: Array<ProfilingDataForRootBackend> = [];\n\n    if (rootToCommitProfilingMetadataMap === null) {\n      throw Error(\n        'getProfilingData() called before any profiling data was recorded',\n      );\n    }\n\n    rootToCommitProfilingMetadataMap.forEach(\n      (commitProfilingMetadata, rootID) => {\n        const commitData: Array<CommitDataBackend> = [];\n\n        const displayName =\n          (displayNamesByRootID !== null && displayNamesByRootID.get(rootID)) ||\n          'Unknown';\n\n        const initialTreeBaseDurations: Array<[number, number]> =\n          (initialTreeBaseDurationsMap !== null &&\n            initialTreeBaseDurationsMap.get(rootID)) ||\n          [];\n\n        commitProfilingMetadata.forEach((commitProfilingData, commitIndex) => {\n          const {\n            changeDescriptions,\n            durations,\n            effectDuration,\n            maxActualDuration,\n            passiveEffectDuration,\n            priorityLevel,\n            commitTime,\n            updaters,\n          } = commitProfilingData;\n\n          const fiberActualDurations: Array<[number, number]> = [];\n          const fiberSelfDurations: Array<[number, number]> = [];\n          for (let i = 0; i < durations.length; i += 3) {\n            const fiberID = durations[i];\n            fiberActualDurations.push([\n              fiberID,\n              formatDurationToMicrosecondsGranularity(durations[i + 1]),\n            ]);\n            fiberSelfDurations.push([\n              fiberID,\n              formatDurationToMicrosecondsGranularity(durations[i + 2]),\n            ]);\n          }\n\n          commitData.push({\n            changeDescriptions:\n              changeDescriptions !== null\n                ? Array.from(changeDescriptions.entries())\n                : null,\n            duration:\n              formatDurationToMicrosecondsGranularity(maxActualDuration),\n            effectDuration:\n              effectDuration !== null\n                ? formatDurationToMicrosecondsGranularity(effectDuration)\n                : null,\n            fiberActualDurations,\n            fiberSelfDurations,\n            passiveEffectDuration:\n              passiveEffectDuration !== null\n                ? formatDurationToMicrosecondsGranularity(passiveEffectDuration)\n                : null,\n            priorityLevel,\n            timestamp: commitTime,\n            updaters,\n          });\n        });\n\n        dataForRoots.push({\n          commitData,\n          displayName,\n          initialTreeBaseDurations,\n          rootID,\n        });\n      },\n    );\n\n    let timelineData = null;\n    if (typeof getTimelineData === 'function') {\n      const currentTimelineData = getTimelineData();\n      if (currentTimelineData) {\n        const {\n          batchUIDToMeasuresMap,\n          internalModuleSourceToRanges,\n          laneToLabelMap,\n          laneToReactMeasureMap,\n          ...rest\n        } = currentTimelineData;\n\n        timelineData = {\n          ...rest,\n\n          // Most of the data is safe to parse as-is,\n          // but we need to convert the nested Arrays back to Maps.\n          // Most of the data is safe to serialize as-is,\n          // but we need to convert the Maps to nested Arrays.\n          batchUIDToMeasuresKeyValueArray: Array.from(\n            batchUIDToMeasuresMap.entries(),\n          ),\n          internalModuleSourceToRanges: Array.from(\n            internalModuleSourceToRanges.entries(),\n          ),\n          laneToLabelKeyValueArray: Array.from(laneToLabelMap.entries()),\n          laneToReactMeasureKeyValueArray: Array.from(\n            laneToReactMeasureMap.entries(),\n          ),\n        };\n      }\n    }\n\n    return {\n      dataForRoots,\n      rendererID,\n      timelineData,\n    };\n  }\n\n  function snapshotTreeBaseDurations(\n    instance: DevToolsInstance,\n    target: Array<[number, number]>,\n  ) {\n    // We don't need to convert milliseconds to microseconds in this case,\n    // because the profiling summary is JSON serialized.\n    if (instance.kind !== FILTERED_FIBER_INSTANCE) {\n      target.push([instance.id, instance.treeBaseDuration]);\n    }\n    for (\n      let child = instance.firstChild;\n      child !== null;\n      child = child.nextSibling\n    ) {\n      snapshotTreeBaseDurations(child, target);\n    }\n  }\n\n  function startProfiling(\n    shouldRecordChangeDescriptions: boolean,\n    shouldRecordTimeline: boolean,\n  ) {\n    if (isProfiling) {\n      return;\n    }\n\n    recordChangeDescriptions = shouldRecordChangeDescriptions;\n    recordTimeline = shouldRecordTimeline;\n\n    // Capture initial values as of the time profiling starts.\n    // It's important we snapshot both the durations and the id-to-root map,\n    // since either of these may change during the profiling session\n    // (e.g. when a fiber is re-rendered or when a fiber gets removed).\n    displayNamesByRootID = new Map();\n    initialTreeBaseDurationsMap = new Map();\n\n    hook.getFiberRoots(rendererID).forEach(root => {\n      const rootInstance = rootToFiberInstanceMap.get(root);\n      if (rootInstance === undefined) {\n        throw new Error(\n          'Expected the root instance to already exist when starting profiling',\n        );\n      }\n      const rootID = rootInstance.id;\n      ((displayNamesByRootID: any): DisplayNamesByRootID).set(\n        rootID,\n        getDisplayNameForRoot(root.current),\n      );\n      const initialTreeBaseDurations: Array<[number, number]> = [];\n      snapshotTreeBaseDurations(rootInstance, initialTreeBaseDurations);\n      (initialTreeBaseDurationsMap: any).set(rootID, initialTreeBaseDurations);\n    });\n\n    isProfiling = true;\n    profilingStartTime = getCurrentTime();\n    rootToCommitProfilingMetadataMap = new Map();\n\n    if (toggleProfilingStatus !== null) {\n      toggleProfilingStatus(true, recordTimeline);\n    }\n  }\n\n  function stopProfiling() {\n    isProfiling = false;\n    recordChangeDescriptions = false;\n\n    if (toggleProfilingStatus !== null) {\n      toggleProfilingStatus(false, recordTimeline);\n    }\n\n    recordTimeline = false;\n  }\n\n  // Automatically start profiling so that we don't miss timing info from initial \"mount\".\n  if (shouldStartProfilingNow) {\n    startProfiling(\n      profilingSettings.recordChangeDescriptions,\n      profilingSettings.recordTimeline,\n    );\n  }\n\n  function getNearestFiber(devtoolsInstance: DevToolsInstance): null | Fiber {\n    if (devtoolsInstance.kind === VIRTUAL_INSTANCE) {\n      let inst: DevToolsInstance = devtoolsInstance;\n      while (inst.kind === VIRTUAL_INSTANCE) {\n        // For virtual instances, we search deeper until we find a Fiber instance.\n        // Then we search upwards from that Fiber. That's because Virtual Instances\n        // will always have an Fiber child filtered or not. If we searched its parents\n        // we might skip through a filtered Error Boundary before we hit a FiberInstance.\n        if (inst.firstChild === null) {\n          return null;\n        }\n        inst = inst.firstChild;\n      }\n      return inst.data.return;\n    } else {\n      return devtoolsInstance.data;\n    }\n  }\n\n  // React will switch between these implementations depending on whether\n  // we have any manually suspended/errored-out Fibers or not.\n  function shouldErrorFiberAlwaysNull() {\n    return null;\n  }\n\n  // Map of Fiber and its force error status: true (error), false (toggled off)\n  const forceErrorForFibers = new Map<Fiber, boolean>();\n\n  function shouldErrorFiberAccordingToMap(fiber: any): boolean {\n    if (typeof setErrorHandler !== 'function') {\n      throw new Error(\n        'Expected overrideError() to not get called for earlier React versions.',\n      );\n    }\n\n    let status = forceErrorForFibers.get(fiber);\n    if (status === false) {\n      // TRICKY overrideError adds entries to this Map,\n      // so ideally it would be the method that clears them too,\n      // but that would break the functionality of the feature,\n      // since DevTools needs to tell React to act differently than it normally would\n      // (don't just re-render the failed boundary, but reset its errored state too).\n      // So we can only clear it after telling React to reset the state.\n      // Technically this is premature and we should schedule it for later,\n      // since the render could always fail without committing the updated error boundary,\n      // but since this is a DEV-only feature, the simplicity is worth the trade off.\n      forceErrorForFibers.delete(fiber);\n      if (forceErrorForFibers.size === 0) {\n        // Last override is gone. Switch React back to fast path.\n        setErrorHandler(shouldErrorFiberAlwaysNull);\n      }\n      return false;\n    }\n    if (status === undefined && fiber.alternate !== null) {\n      status = forceErrorForFibers.get(fiber.alternate);\n      if (status === false) {\n        forceErrorForFibers.delete(fiber.alternate);\n        if (forceErrorForFibers.size === 0) {\n          // Last override is gone. Switch React back to fast path.\n          setErrorHandler(shouldErrorFiberAlwaysNull);\n        }\n      }\n    }\n    if (status === undefined) {\n      return false;\n    }\n    return status;\n  }\n\n  function overrideError(id: number, forceError: boolean) {\n    if (\n      typeof setErrorHandler !== 'function' ||\n      typeof scheduleUpdate !== 'function'\n    ) {\n      throw new Error(\n        'Expected overrideError() to not get called for earlier React versions.',\n      );\n    }\n\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      return;\n    }\n    const nearestFiber = getNearestFiber(devtoolsInstance);\n    if (nearestFiber === null) {\n      return;\n    }\n    let fiber = nearestFiber;\n    while (!isErrorBoundary(fiber)) {\n      if (fiber.return === null) {\n        return;\n      }\n      fiber = fiber.return;\n    }\n    forceErrorForFibers.set(fiber, forceError);\n    if (fiber.alternate !== null) {\n      // We only need one of the Fibers in the set.\n      forceErrorForFibers.delete(fiber.alternate);\n    }\n    if (forceErrorForFibers.size === 1) {\n      // First override is added. Switch React to slower path.\n      setErrorHandler(shouldErrorFiberAccordingToMap);\n    }\n    if (!forceError && typeof scheduleRetry === 'function') {\n      // If we're dismissing an error and the renderer supports it, use a Retry instead of Sync\n      // This would allow View Transitions to proceed as if the error was dismissed using a Transition.\n      scheduleRetry(fiber);\n    } else {\n      scheduleUpdate(fiber);\n    }\n  }\n\n  function shouldSuspendFiberAlwaysFalse() {\n    return false;\n  }\n\n  const forceFallbackForFibers = new Set<Fiber>();\n\n  function shouldSuspendFiberAccordingToSet(fiber: Fiber): boolean {\n    return (\n      forceFallbackForFibers.has(fiber) ||\n      (fiber.alternate !== null && forceFallbackForFibers.has(fiber.alternate))\n    );\n  }\n\n  function overrideSuspense(id: number, forceFallback: boolean) {\n    if (\n      typeof setSuspenseHandler !== 'function' ||\n      typeof scheduleUpdate !== 'function'\n    ) {\n      throw new Error(\n        'Expected overrideSuspense() to not get called for earlier React versions.',\n      );\n    }\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      return;\n    }\n    const nearestFiber = getNearestFiber(devtoolsInstance);\n    if (nearestFiber === null) {\n      return;\n    }\n    let fiber = nearestFiber;\n    while (fiber.tag !== SuspenseComponent) {\n      if (fiber.return === null) {\n        return;\n      }\n      fiber = fiber.return;\n    }\n\n    if (fiber.alternate !== null) {\n      // We only need one of the Fibers in the set.\n      forceFallbackForFibers.delete(fiber.alternate);\n    }\n    if (forceFallback) {\n      forceFallbackForFibers.add(fiber);\n      if (forceFallbackForFibers.size === 1) {\n        // First override is added. Switch React to slower path.\n        setSuspenseHandler(shouldSuspendFiberAccordingToSet);\n      }\n    } else {\n      forceFallbackForFibers.delete(fiber);\n      if (forceFallbackForFibers.size === 0) {\n        // Last override is gone. Switch React back to fast path.\n        setSuspenseHandler(shouldSuspendFiberAlwaysFalse);\n      }\n    }\n    if (!forceFallback && typeof scheduleRetry === 'function') {\n      // If we're unsuspending and the renderer supports it, use a Retry instead of Sync\n      // to allow for things like View Transitions to proceed the way they would for real.\n      scheduleRetry(fiber);\n    } else {\n      scheduleUpdate(fiber);\n    }\n  }\n\n  /**\n   * Resets the all other roots of this renderer.\n   * @param suspendedSet List of IDs of SuspenseComponent Fibers\n   */\n  function overrideSuspenseMilestone(suspendedSet: Array<FiberInstance['id']>) {\n    if (\n      typeof setSuspenseHandler !== 'function' ||\n      typeof scheduleUpdate !== 'function'\n    ) {\n      throw new Error(\n        'Expected overrideSuspenseMilestone() to not get called for earlier React versions.',\n      );\n    }\n\n    const unsuspendedSet: Set<Fiber> = new Set(forceFallbackForFibers);\n\n    let resuspended = false;\n    for (let i = 0; i < suspendedSet.length; ++i) {\n      const instance = idToDevToolsInstanceMap.get(suspendedSet[i]);\n      if (instance === undefined) {\n        console.warn(\n          `Could not suspend ID '${suspendedSet[i]}' since the instance can't be found.`,\n        );\n        continue;\n      }\n\n      if (instance.kind === FIBER_INSTANCE) {\n        const fiber = instance.data;\n        if (\n          forceFallbackForFibers.has(fiber) ||\n          (fiber.alternate !== null &&\n            forceFallbackForFibers.has(fiber.alternate))\n        ) {\n          // We're already forcing fallback for this fiber. Mark it as not unsuspended.\n          unsuspendedSet.delete(fiber);\n          if (fiber.alternate !== null) {\n            unsuspendedSet.delete(fiber.alternate);\n          }\n        } else {\n          forceFallbackForFibers.add(fiber);\n          // We could find a minimal set that covers all the Fibers in this suspended set.\n          // For now we rely on React's batching of updates.\n          scheduleUpdate(fiber);\n          resuspended = true;\n        }\n      } else {\n        console.warn(`Cannot not suspend ID '${suspendedSet[i]}'.`);\n      }\n    }\n\n    // Unsuspend any existing forced fallbacks if they're not in the new set.\n    unsuspendedSet.forEach(fiber => {\n      forceFallbackForFibers.delete(fiber);\n      if (!resuspended && typeof scheduleRetry === 'function') {\n        // If nothing new resuspended we don't need this to be sync. If we're only\n        // unsuspending then we can schedule this as a Retry if the renderer supports it.\n        // That way we can trigger animations.\n        scheduleRetry(fiber);\n      } else {\n        scheduleUpdate(fiber);\n      }\n    });\n\n    if (forceFallbackForFibers.size > 0) {\n      // First override is added. Switch React to slower path.\n      // TODO: Semantics for suspending a timeline are different. We want a suspended\n      // timeline to act like a first reveal which is relevant for SuspenseList.\n      // Resuspending would not affect rows in SuspenseList\n      setSuspenseHandler(shouldSuspendFiberAccordingToSet);\n    } else {\n      setSuspenseHandler(shouldSuspendFiberAlwaysFalse);\n    }\n  }\n\n  // Remember if we're trying to restore the selection after reload.\n  // In that case, we'll do some extra checks for matching mounts.\n  let trackedPath: Array<PathFrame> | null = null;\n  let trackedPathMatchFiber: Fiber | null = null; // This is the deepest unfiltered match of a Fiber.\n  let trackedPathMatchInstance: FiberInstance | VirtualInstance | null = null; // This is the deepest matched filtered Instance.\n  let trackedPathMatchDepth = -1;\n  let mightBeOnTrackedPath = false;\n\n  function setTrackedPath(path: Array<PathFrame> | null) {\n    if (path === null) {\n      trackedPathMatchFiber = null;\n      trackedPathMatchInstance = null;\n      trackedPathMatchDepth = -1;\n      mightBeOnTrackedPath = false;\n    }\n    trackedPath = path;\n  }\n\n  // We call this before traversing a new mount.\n  // It remembers whether this Fiber is the next best match for tracked path.\n  // The return value signals whether we should keep matching siblings or not.\n  function updateTrackedPathStateBeforeMount(\n    fiber: Fiber,\n    fiberInstance: null | FiberInstance | FilteredFiberInstance,\n  ): boolean {\n    if (trackedPath === null || !mightBeOnTrackedPath) {\n      // Fast path: there's nothing to track so do nothing and ignore siblings.\n      return false;\n    }\n    const returnFiber = fiber.return;\n    const returnAlternate = returnFiber !== null ? returnFiber.alternate : null;\n    // By now we know there's some selection to restore, and this is a new Fiber.\n    // Is this newly mounted Fiber a direct child of the current best match?\n    // (This will also be true for new roots if we haven't matched anything yet.)\n    if (\n      trackedPathMatchFiber === returnFiber ||\n      (trackedPathMatchFiber === returnAlternate && returnAlternate !== null)\n    ) {\n      // Is this the next Fiber we should select? Let's compare the frames.\n      const actualFrame = getPathFrame(fiber);\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      const expectedFrame = trackedPath[trackedPathMatchDepth + 1];\n      if (expectedFrame === undefined) {\n        throw new Error('Expected to see a frame at the next depth.');\n      }\n      if (\n        actualFrame.index === expectedFrame.index &&\n        actualFrame.key === expectedFrame.key &&\n        actualFrame.displayName === expectedFrame.displayName\n      ) {\n        // We have our next match.\n        trackedPathMatchFiber = fiber;\n        if (fiberInstance !== null && fiberInstance.kind === FIBER_INSTANCE) {\n          trackedPathMatchInstance = fiberInstance;\n        }\n        trackedPathMatchDepth++;\n        // Are we out of frames to match?\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        if (trackedPathMatchDepth === trackedPath.length - 1) {\n          // There's nothing that can possibly match afterwards.\n          // Don't check the children.\n          mightBeOnTrackedPath = false;\n        } else {\n          // Check the children, as they might reveal the next match.\n          mightBeOnTrackedPath = true;\n        }\n        // In either case, since we have a match, we don't need\n        // to check the siblings. They'll never match.\n        return false;\n      }\n    }\n    if (trackedPathMatchFiber === null && fiberInstance === null) {\n      // We're now looking for a Virtual Instance. It might be inside filtered Fibers\n      // so we keep looking below.\n      return true;\n    }\n    // This Fiber's parent is on the path, but this Fiber itself isn't.\n    // There's no need to check its children--they won't be on the path either.\n    mightBeOnTrackedPath = false;\n    // However, one of its siblings may be on the path so keep searching.\n    return true;\n  }\n\n  function updateVirtualTrackedPathStateBeforeMount(\n    virtualInstance: VirtualInstance,\n    parentInstance: null | DevToolsInstance,\n  ): boolean {\n    if (trackedPath === null || !mightBeOnTrackedPath) {\n      // Fast path: there's nothing to track so do nothing and ignore siblings.\n      return false;\n    }\n    // Check if we've matched our nearest unfiltered parent so far.\n    if (trackedPathMatchInstance === parentInstance) {\n      const actualFrame = getVirtualPathFrame(virtualInstance);\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      const expectedFrame = trackedPath[trackedPathMatchDepth + 1];\n      if (expectedFrame === undefined) {\n        throw new Error('Expected to see a frame at the next depth.');\n      }\n      if (\n        actualFrame.index === expectedFrame.index &&\n        actualFrame.key === expectedFrame.key &&\n        actualFrame.displayName === expectedFrame.displayName\n      ) {\n        // We have our next match.\n        trackedPathMatchFiber = null; // Don't bother looking in Fibers anymore. We're deeper now.\n        trackedPathMatchInstance = virtualInstance;\n        trackedPathMatchDepth++;\n        // Are we out of frames to match?\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        if (trackedPathMatchDepth === trackedPath.length - 1) {\n          // There's nothing that can possibly match afterwards.\n          // Don't check the children.\n          mightBeOnTrackedPath = false;\n        } else {\n          // Check the children, as they might reveal the next match.\n          mightBeOnTrackedPath = true;\n        }\n        // In either case, since we have a match, we don't need\n        // to check the siblings. They'll never match.\n        return false;\n      }\n    }\n    if (trackedPathMatchFiber !== null) {\n      // We're still looking for a Fiber which might be underneath this instance.\n      return true;\n    }\n    // This Instance's parent is on the path, but this Instance itself isn't.\n    // There's no need to check its children--they won't be on the path either.\n    mightBeOnTrackedPath = false;\n    // However, one of its siblings may be on the path so keep searching.\n    return true;\n  }\n\n  function updateTrackedPathStateAfterMount(\n    mightSiblingsBeOnTrackedPath: boolean,\n  ) {\n    // updateTrackedPathStateBeforeMount() told us whether to match siblings.\n    // Now that we're entering siblings, let's use that information.\n    mightBeOnTrackedPath = mightSiblingsBeOnTrackedPath;\n  }\n\n  // Roots don't have a real persistent identity.\n  // A root's \"pseudo key\" is \"childDisplayName:indexWithThatName\".\n  // For example, \"App:0\" or, in case of similar roots, \"Story:0\", \"Story:1\", etc.\n  // We will use this to try to disambiguate roots when restoring selection between reloads.\n  const rootPseudoKeys: Map<number, string> = new Map();\n  const rootDisplayNameCounter: Map<string, number> = new Map();\n\n  function setRootPseudoKey(id: number, fiber: Fiber) {\n    const name = getDisplayNameForRoot(fiber);\n    const counter = rootDisplayNameCounter.get(name) || 0;\n    rootDisplayNameCounter.set(name, counter + 1);\n    const pseudoKey = `${name}:${counter}`;\n    rootPseudoKeys.set(id, pseudoKey);\n  }\n\n  function removeRootPseudoKey(id: number) {\n    const pseudoKey = rootPseudoKeys.get(id);\n    if (pseudoKey === undefined) {\n      throw new Error('Expected root pseudo key to be known.');\n    }\n    const name = pseudoKey.slice(0, pseudoKey.lastIndexOf(':'));\n    const counter = rootDisplayNameCounter.get(name);\n    if (counter === undefined) {\n      throw new Error('Expected counter to be known.');\n    }\n    if (counter > 1) {\n      rootDisplayNameCounter.set(name, counter - 1);\n    } else {\n      rootDisplayNameCounter.delete(name);\n    }\n    rootPseudoKeys.delete(id);\n  }\n\n  function getDisplayNameForRoot(fiber: Fiber): string {\n    let preferredDisplayName = null;\n    let fallbackDisplayName = null;\n    let child = fiber.child;\n    // Go at most three levels deep into direct children\n    // while searching for a child that has a displayName.\n    for (let i = 0; i < 3; i++) {\n      if (child === null) {\n        break;\n      }\n      const displayName = getDisplayNameForFiber(child);\n      if (displayName !== null) {\n        // Prefer display names that we get from user-defined components.\n        // We want to avoid using e.g. 'Suspense' unless we find nothing else.\n        if (typeof child.type === 'function') {\n          // There's a few user-defined tags, but we'll prefer the ones\n          // that are usually explicitly named (function or class components).\n          preferredDisplayName = displayName;\n        } else if (fallbackDisplayName === null) {\n          fallbackDisplayName = displayName;\n        }\n      }\n      if (preferredDisplayName !== null) {\n        break;\n      }\n      child = child.child;\n    }\n    return preferredDisplayName || fallbackDisplayName || 'Anonymous';\n  }\n\n  function getPathFrame(fiber: Fiber): PathFrame {\n    const {key} = fiber;\n    let displayName = getDisplayNameForFiber(fiber);\n    const index = fiber.index;\n    switch (fiber.tag) {\n      case HostRoot:\n        // Roots don't have a real displayName, index, or key.\n        // Instead, we'll use the pseudo key (childDisplayName:indexWithThatName).\n        const rootInstance = rootToFiberInstanceMap.get(fiber.stateNode);\n        if (rootInstance === undefined) {\n          throw new Error(\n            'Expected the root instance to exist when computing a path',\n          );\n        }\n        const pseudoKey = rootPseudoKeys.get(rootInstance.id);\n        if (pseudoKey === undefined) {\n          throw new Error('Expected mounted root to have known pseudo key.');\n        }\n        displayName = pseudoKey;\n        break;\n      case HostComponent:\n        displayName = fiber.type;\n        break;\n      default:\n        break;\n    }\n    return {\n      displayName,\n      key,\n      index,\n    };\n  }\n\n  function getVirtualPathFrame(virtualInstance: VirtualInstance): PathFrame {\n    return {\n      displayName: virtualInstance.data.name || '',\n      key: virtualInstance.data.key == null ? null : virtualInstance.data.key,\n      index: -1, // We use -1 to indicate that this is a virtual path frame.\n    };\n  }\n\n  // Produces a serializable representation that does a best effort\n  // of identifying a particular Fiber between page reloads.\n  // The return path will contain Fibers that are \"invisible\" to the store\n  // because their keys and indexes are important to restoring the selection.\n  function getPathForElement(id: number): Array<PathFrame> | null {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      return null;\n    }\n\n    const keyPath = [];\n\n    let inst: DevToolsInstance = devtoolsInstance;\n    while (inst.kind === VIRTUAL_INSTANCE) {\n      keyPath.push(getVirtualPathFrame(inst));\n      if (inst.parent === null) {\n        // This is a bug but non-essential. We should've found a root instance.\n        return null;\n      }\n      inst = inst.parent;\n    }\n\n    let fiber: null | Fiber = inst.data;\n    while (fiber !== null) {\n      // $FlowFixMe[incompatible-call] found when upgrading Flow\n      keyPath.push(getPathFrame(fiber));\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      fiber = fiber.return;\n    }\n    keyPath.reverse();\n    return keyPath;\n  }\n\n  function getBestMatchForTrackedPath(): PathMatch | null {\n    if (trackedPath === null) {\n      // Nothing to match.\n      return null;\n    }\n    if (trackedPathMatchInstance === null) {\n      // We didn't find anything.\n      return null;\n    }\n    return {\n      id: trackedPathMatchInstance.id,\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      isFullMatch: trackedPathMatchDepth === trackedPath.length - 1,\n    };\n  }\n\n  const formatPriorityLevel = (priorityLevel: ?number) => {\n    if (priorityLevel == null) {\n      return 'Unknown';\n    }\n\n    switch (priorityLevel) {\n      case ImmediatePriority:\n        return 'Immediate';\n      case UserBlockingPriority:\n        return 'User-Blocking';\n      case NormalPriority:\n        return 'Normal';\n      case LowPriority:\n        return 'Low';\n      case IdlePriority:\n        return 'Idle';\n      case NoPriority:\n      default:\n        return 'Unknown';\n    }\n  };\n\n  function setTraceUpdatesEnabled(isEnabled: boolean): void {\n    traceUpdatesEnabled = isEnabled;\n  }\n\n  function hasElementWithId(id: number): boolean {\n    return idToDevToolsInstanceMap.has(id);\n  }\n\n  function getSourceForFiberInstance(\n    fiberInstance: FiberInstance,\n  ): ReactFunctionLocation | null {\n    // Favor the owner source if we have one.\n    const ownerSource = getSourceForInstance(fiberInstance);\n    if (ownerSource !== null) {\n      return ownerSource;\n    }\n\n    // Otherwise fallback to the throwing trick.\n    const dispatcherRef = getDispatcherRef(renderer);\n    const stackFrame =\n      dispatcherRef == null\n        ? null\n        : getSourceLocationByFiber(\n            ReactTypeOfWork,\n            fiberInstance.data,\n            dispatcherRef,\n          );\n    if (stackFrame === null) {\n      return null;\n    }\n    const source = extractLocationFromComponentStack(stackFrame);\n    fiberInstance.source = source;\n    return source;\n  }\n\n  function getSourceForInstance(\n    instance: DevToolsInstance,\n  ): ReactFunctionLocation | null {\n    let unresolvedSource = instance.source;\n    if (unresolvedSource === null) {\n      // We don't have any source yet. We can try again later in case an owned child mounts later.\n      // TODO: We won't have any information here if the child is filtered.\n      return null;\n    }\n\n    if (instance.kind === VIRTUAL_INSTANCE) {\n      // We might have found one on the virtual instance.\n      const debugLocation = instance.data.debugLocation;\n      if (debugLocation != null) {\n        unresolvedSource = debugLocation;\n      }\n    }\n\n    // If we have the debug stack (the creation stack of the JSX) for any owned child of this\n    // component, then at the bottom of that stack will be a stack frame that is somewhere within\n    // the component's function body. Typically it would be the callsite of the JSX unless there's\n    // any intermediate utility functions. This won't point to the top of the component function\n    // but it's at least somewhere within it.\n    if (isError(unresolvedSource)) {\n      return (instance.source = extractLocationFromOwnerStack(\n        (unresolvedSource: any),\n      ));\n    }\n    if (typeof unresolvedSource === 'string') {\n      const idx = unresolvedSource.lastIndexOf('\\n');\n      const lastLine =\n        idx === -1 ? unresolvedSource : unresolvedSource.slice(idx + 1);\n      return (instance.source = extractLocationFromComponentStack(lastLine));\n    }\n\n    // $FlowFixMe: refined.\n    return unresolvedSource;\n  }\n\n  type InternalMcpFunctions = {\n    __internal_only_getComponentTree?: Function,\n  };\n\n  const internalMcpFunctions: InternalMcpFunctions = {};\n  if (__IS_INTERNAL_MCP_BUILD__) {\n    // eslint-disable-next-line no-inner-declarations\n    function __internal_only_getComponentTree(): string {\n      let treeString = '';\n\n      function buildTreeString(\n        instance: DevToolsInstance,\n        prefix: string = '',\n        isLastChild: boolean = true,\n      ): void {\n        if (!instance) return;\n\n        const name =\n          (instance.kind !== VIRTUAL_INSTANCE\n            ? getDisplayNameForFiber(instance.data)\n            : instance.data.name) || 'Unknown';\n\n        const id = instance.id !== undefined ? instance.id : 'unknown';\n\n        if (name !== 'createRoot()') {\n          treeString +=\n            prefix +\n            (isLastChild ? ' ' : ' ') +\n            name +\n            ' (id: ' +\n            id +\n            ')\\n';\n        }\n\n        const childPrefix = prefix + (isLastChild ? '    ' : '   ');\n\n        let childCount = 0;\n        let tempChild = instance.firstChild;\n        while (tempChild !== null) {\n          childCount++;\n          tempChild = tempChild.nextSibling;\n        }\n\n        let child = instance.firstChild;\n        let currentChildIndex = 0;\n\n        while (child !== null) {\n          currentChildIndex++;\n          const isLastSibling = currentChildIndex === childCount;\n          buildTreeString(child, childPrefix, isLastSibling);\n          child = child.nextSibling;\n        }\n      }\n\n      const rootInstances: Array<DevToolsInstance> = [];\n      idToDevToolsInstanceMap.forEach(instance => {\n        if (instance.parent === null || instance.parent.parent === null) {\n          rootInstances.push(instance);\n        }\n      });\n\n      if (rootInstances.length > 0) {\n        for (let i = 0; i < rootInstances.length; i++) {\n          const isLast = i === rootInstances.length - 1;\n          buildTreeString(rootInstances[i], '', isLast);\n          if (!isLast) {\n            treeString += '\\n';\n          }\n        }\n      } else {\n        treeString = 'No component tree found.';\n      }\n\n      return treeString;\n    }\n\n    internalMcpFunctions.__internal_only_getComponentTree =\n      __internal_only_getComponentTree;\n  }\n\n  return {\n    cleanup,\n    clearErrorsAndWarnings,\n    clearErrorsForElementID,\n    clearWarningsForElementID,\n    getSerializedElementValueByPath,\n    deletePath,\n    findHostInstancesForElementID,\n    findLastKnownRectsForID,\n    flushInitialOperations,\n    getBestMatchForTrackedPath,\n    getDisplayNameForElementID,\n    getNearestMountedDOMNode,\n    getElementIDForHostInstance,\n    getSuspenseNodeIDForHostInstance,\n    getInstanceAndStyle,\n    getOwnersList,\n    getPathForElement,\n    getProfilingData,\n    handleCommitFiberRoot,\n    handleCommitFiberUnmount,\n    handlePostCommitFiberRoot,\n    hasElementWithId,\n    inspectElement,\n    logElementToConsole,\n    getComponentStack,\n    getElementAttributeByPath,\n    getElementSourceFunctionById,\n    onErrorOrWarning,\n    overrideError,\n    overrideSuspense,\n    overrideSuspenseMilestone,\n    overrideValueAtPath,\n    renamePath,\n    renderer,\n    setTraceUpdatesEnabled,\n    setTrackedPath,\n    startProfiling,\n    stopProfiling,\n    storeAsGlobal,\n    supportsTogglingSuspense,\n    updateComponentFilters,\n    getEnvironmentNames,\n    ...internalMcpFunctions,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {InternalInstance} from './renderer';\n\nexport function decorate(object: Object, attr: string, fn: Function): Function {\n  const old = object[attr];\n  // $FlowFixMe[missing-this-annot] webpack config needs to be updated to allow `this` type annotations\n  object[attr] = function (instance: InternalInstance) {\n    return fn.call(this, old, arguments);\n  };\n  return old;\n}\n\nexport function decorateMany(\n  source: Object,\n  fns: {[attr: string]: Function, ...},\n): Object {\n  const olds: {[string]: $FlowFixMe} = {};\n  for (const name in fns) {\n    olds[name] = decorate(source, name, fns[name]);\n  }\n  return olds;\n}\n\nexport function restoreMany(source: Object, olds: Object): void {\n  for (const name in olds) {\n    source[name] = olds[name];\n  }\n}\n\n// $FlowFixMe[missing-this-annot] webpack config needs to be updated to allow `this` type annotations\nexport function forceUpdate(instance: InternalInstance): void {\n  if (typeof instance.forceUpdate === 'function') {\n    instance.forceUpdate();\n  } else if (\n    instance.updater != null &&\n    typeof instance.updater.enqueueForceUpdate === 'function'\n  ) {\n    instance.updater.enqueueForceUpdate(this, () => {}, 'forceUpdate');\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  ElementTypeClass,\n  ElementTypeFunction,\n  ElementTypeRoot,\n  ElementTypeHostComponent,\n  ElementTypeOtherOrUnknown,\n} from 'react-devtools-shared/src/frontend/types';\nimport {getUID, utfEncodeString, printOperationsArray} from '../../utils';\nimport {\n  cleanForBridge,\n  copyWithDelete,\n  copyWithRename,\n  copyWithSet,\n  serializeToString,\n} from '../utils';\nimport {\n  deletePathInObject,\n  getDisplayName,\n  getInObject,\n  renamePathInObject,\n  setInObject,\n} from 'react-devtools-shared/src/utils';\nimport {\n  __DEBUG__,\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REORDER_CHILDREN,\n  SUSPENSE_TREE_OPERATION_ADD,\n  SUSPENSE_TREE_OPERATION_REMOVE,\n  UNKNOWN_SUSPENDERS_NONE,\n} from '../../constants';\nimport {decorateMany, forceUpdate, restoreMany} from './utils';\n\nimport type {\n  DevToolsHook,\n  GetElementIDForHostInstance,\n  InspectedElementPayload,\n  InstanceAndStyle,\n  HostInstance,\n  PathFrame,\n  PathMatch,\n  RendererInterface,\n} from '../types';\nimport type {\n  ComponentFilter,\n  ElementType,\n} from 'react-devtools-shared/src/frontend/types';\nimport type {InspectedElement, SerializedElement} from '../types';\n\nexport type InternalInstance = Object;\ntype LegacyRenderer = Object;\n\nfunction getData(internalInstance: InternalInstance) {\n  let displayName = null;\n  let key = null;\n\n  // != used deliberately here to catch undefined and null\n  if (internalInstance._currentElement != null) {\n    if (internalInstance._currentElement.key) {\n      key = String(internalInstance._currentElement.key);\n    }\n\n    const elementType = internalInstance._currentElement.type;\n    if (typeof elementType === 'string') {\n      displayName = elementType;\n    } else if (typeof elementType === 'function') {\n      displayName = getDisplayName(elementType);\n    }\n  }\n\n  return {\n    displayName,\n    key,\n  };\n}\n\nfunction getElementType(internalInstance: InternalInstance): ElementType {\n  // != used deliberately here to catch undefined and null\n  if (internalInstance._currentElement != null) {\n    const elementType = internalInstance._currentElement.type;\n    if (typeof elementType === 'function') {\n      const publicInstance = internalInstance.getPublicInstance();\n      if (publicInstance !== null) {\n        return ElementTypeClass;\n      } else {\n        return ElementTypeFunction;\n      }\n    } else if (typeof elementType === 'string') {\n      return ElementTypeHostComponent;\n    }\n  }\n  return ElementTypeOtherOrUnknown;\n}\n\nfunction getChildren(internalInstance: Object): Array<any> {\n  const children = [];\n\n  // If the parent is a native node without rendered children, but with\n  // multiple string children, then the `element` that gets passed in here is\n  // a plain value -- a string or number.\n  if (typeof internalInstance !== 'object') {\n    // No children\n  } else if (\n    internalInstance._currentElement === null ||\n    internalInstance._currentElement === false\n  ) {\n    // No children\n  } else if (internalInstance._renderedComponent) {\n    const child = internalInstance._renderedComponent;\n    if (getElementType(child) !== ElementTypeOtherOrUnknown) {\n      children.push(child);\n    }\n  } else if (internalInstance._renderedChildren) {\n    const renderedChildren = internalInstance._renderedChildren;\n    for (const name in renderedChildren) {\n      const child = renderedChildren[name];\n      if (getElementType(child) !== ElementTypeOtherOrUnknown) {\n        children.push(child);\n      }\n    }\n  }\n  // Note: we skip the case where children are just strings or numbers\n  // because the new DevTools skips over host text nodes anyway.\n  return children;\n}\n\nexport function attach(\n  hook: DevToolsHook,\n  rendererID: number,\n  renderer: LegacyRenderer,\n  global: Object,\n): RendererInterface {\n  const idToInternalInstanceMap: Map<number, InternalInstance> = new Map();\n  const internalInstanceToIDMap: WeakMap<InternalInstance, number> =\n    new WeakMap();\n  const internalInstanceToRootIDMap: WeakMap<InternalInstance, number> =\n    new WeakMap();\n\n  let getElementIDForHostInstance: GetElementIDForHostInstance =\n    ((null: any): GetElementIDForHostInstance);\n  let findHostInstanceForInternalID: (id: number) => ?HostInstance;\n  let getNearestMountedDOMNode = (node: Element): null | Element => {\n    // Not implemented.\n    return null;\n  };\n\n  if (renderer.ComponentTree) {\n    getElementIDForHostInstance = node => {\n      const internalInstance =\n        renderer.ComponentTree.getClosestInstanceFromNode(node);\n      return internalInstanceToIDMap.get(internalInstance) || null;\n    };\n    findHostInstanceForInternalID = (id: number) => {\n      const internalInstance = idToInternalInstanceMap.get(id);\n      return renderer.ComponentTree.getNodeFromInstance(internalInstance);\n    };\n    getNearestMountedDOMNode = (node: Element): null | Element => {\n      const internalInstance =\n        renderer.ComponentTree.getClosestInstanceFromNode(node);\n      if (internalInstance != null) {\n        return renderer.ComponentTree.getNodeFromInstance(internalInstance);\n      }\n      return null;\n    };\n  } else if (renderer.Mount.getID && renderer.Mount.getNode) {\n    getElementIDForHostInstance = node => {\n      // Not implemented.\n      return null;\n    };\n    findHostInstanceForInternalID = (id: number) => {\n      // Not implemented.\n      return null;\n    };\n  }\n\n  const supportsTogglingSuspense = false;\n\n  function getDisplayNameForElementID(id: number): string | null {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    return internalInstance ? getData(internalInstance).displayName : null;\n  }\n\n  function getID(internalInstance: InternalInstance): number {\n    if (typeof internalInstance !== 'object' || internalInstance === null) {\n      throw new Error('Invalid internal instance: ' + internalInstance);\n    }\n    if (!internalInstanceToIDMap.has(internalInstance)) {\n      const id = getUID();\n      internalInstanceToIDMap.set(internalInstance, id);\n      idToInternalInstanceMap.set(id, internalInstance);\n    }\n    return ((internalInstanceToIDMap.get(internalInstance): any): number);\n  }\n\n  function areEqualArrays(a: Array<any>, b: Array<any>) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // This is shared mutable state that lets us keep track of where we are.\n  let parentIDStack = [];\n\n  let oldReconcilerMethods = null;\n  if (renderer.Reconciler) {\n    // React 15\n    oldReconcilerMethods = decorateMany(renderer.Reconciler, {\n      mountComponent(fn, args) {\n        const internalInstance = args[0];\n        const hostContainerInfo = args[3];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n        if (hostContainerInfo._topLevelWrapper === undefined) {\n          // SSR\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        // Push the operation.\n        const parentID =\n          parentIDStack.length > 0\n            ? parentIDStack[parentIDStack.length - 1]\n            : 0;\n        recordMount(internalInstance, id, parentID);\n        parentIDStack.push(id);\n\n        // Remember the root.\n        internalInstanceToRootIDMap.set(\n          internalInstance,\n          getID(hostContainerInfo._topLevelWrapper),\n        );\n\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      performUpdateIfNecessary(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n\n        const prevChildren = getChildren(internalInstance);\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n\n          const nextChildren = getChildren(internalInstance);\n          if (!areEqualArrays(prevChildren, nextChildren)) {\n            // Push the operation\n            recordReorder(internalInstance, id, nextChildren);\n          }\n\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      receiveComponent(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n\n        const prevChildren = getChildren(internalInstance);\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n\n          const nextChildren = getChildren(internalInstance);\n          if (!areEqualArrays(prevChildren, nextChildren)) {\n            // Push the operation\n            recordReorder(internalInstance, id, nextChildren);\n          }\n\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      unmountComponent(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n          parentIDStack.pop();\n\n          // Push the operation.\n          recordUnmount(internalInstance, id);\n\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n    });\n  }\n\n  function cleanup() {\n    if (oldReconcilerMethods !== null) {\n      if (renderer.Component) {\n        restoreMany(renderer.Component.Mixin, oldReconcilerMethods);\n      } else {\n        restoreMany(renderer.Reconciler, oldReconcilerMethods);\n      }\n    }\n    oldReconcilerMethods = null;\n  }\n\n  function recordMount(\n    internalInstance: InternalInstance,\n    id: number,\n    parentID: number,\n  ) {\n    const isRoot = parentID === 0;\n\n    if (__DEBUG__) {\n      console.log(\n        '%crecordMount()',\n        'color: green; font-weight: bold;',\n        id,\n        getData(internalInstance).displayName,\n      );\n    }\n\n    if (isRoot) {\n      // TODO Is this right? For all versions?\n      const hasOwnerMetadata =\n        internalInstance._currentElement != null &&\n        internalInstance._currentElement._owner != null;\n\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(ElementTypeRoot);\n      pushOperation(0); // StrictMode compliant?\n      pushOperation(0); // Profiling flag\n      pushOperation(0); // StrictMode supported?\n      pushOperation(hasOwnerMetadata ? 1 : 0);\n\n      pushOperation(SUSPENSE_TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(parentID);\n      pushOperation(getStringID(null)); // name\n      pushOperation(0); // isSuspended\n      // TODO: Measure rect of root\n      pushOperation(-1);\n    } else {\n      const type = getElementType(internalInstance);\n      const {displayName, key} = getData(internalInstance);\n\n      const ownerID =\n        internalInstance._currentElement != null &&\n        internalInstance._currentElement._owner != null\n          ? getID(internalInstance._currentElement._owner)\n          : 0;\n\n      const displayNameStringID = getStringID(displayName);\n      const keyStringID = getStringID(key);\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(type);\n      pushOperation(parentID);\n      pushOperation(ownerID);\n      pushOperation(displayNameStringID);\n      pushOperation(keyStringID);\n      pushOperation(getStringID(null)); // name prop\n    }\n  }\n\n  function recordReorder(\n    internalInstance: InternalInstance,\n    id: number,\n    nextChildren: Array<InternalInstance>,\n  ) {\n    pushOperation(TREE_OPERATION_REORDER_CHILDREN);\n    pushOperation(id);\n    const nextChildIDs = nextChildren.map(getID);\n    pushOperation(nextChildIDs.length);\n    for (let i = 0; i < nextChildIDs.length; i++) {\n      pushOperation(nextChildIDs[i]);\n    }\n  }\n\n  function recordUnmount(internalInstance: InternalInstance, id: number) {\n    const isRoot = parentIDStack.length === 0;\n    if (isRoot) {\n      pendingUnmountedRootID = id;\n    } else {\n      pendingUnmountedIDs.push(id);\n    }\n    idToInternalInstanceMap.delete(id);\n  }\n\n  function crawlAndRecordInitialMounts(\n    id: number,\n    parentID: number,\n    rootID: number,\n  ) {\n    if (__DEBUG__) {\n      console.group('crawlAndRecordInitialMounts() id:', id);\n    }\n\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      internalInstanceToRootIDMap.set(internalInstance, rootID);\n      recordMount(internalInstance, id, parentID);\n      getChildren(internalInstance).forEach(child =>\n        crawlAndRecordInitialMounts(getID(child), id, rootID),\n      );\n    }\n\n    if (__DEBUG__) {\n      console.groupEnd();\n    }\n  }\n\n  function flushInitialOperations() {\n    // Crawl roots though and register any nodes that mounted before we were injected.\n\n    const roots =\n      renderer.Mount._instancesByReactRootID ||\n      renderer.Mount._instancesByContainerID;\n\n    for (const key in roots) {\n      const internalInstance = roots[key];\n      const id = getID(internalInstance);\n      crawlAndRecordInitialMounts(id, 0, id);\n      flushPendingEvents(id);\n    }\n  }\n\n  const pendingOperations: Array<number> = [];\n  const pendingStringTable: Map<string, number> = new Map();\n  let pendingUnmountedIDs: Array<number> = [];\n  let pendingStringTableLength: number = 0;\n  let pendingUnmountedRootID: number | null = null;\n\n  function flushPendingEvents(rootID: number) {\n    if (\n      pendingOperations.length === 0 &&\n      pendingUnmountedIDs.length === 0 &&\n      pendingUnmountedRootID === null\n    ) {\n      return;\n    }\n\n    const numUnmountIDs =\n      pendingUnmountedIDs.length + (pendingUnmountedRootID === null ? 0 : 1);\n\n    const operations = new Array<number>(\n      // Identify which renderer this update is coming from.\n      2 + // [rendererID, rootFiberID]\n        // How big is the string table?\n        1 + // [stringTableLength]\n        // Then goes the actual string table.\n        pendingStringTableLength +\n        // All unmounts are batched in a single message.\n        // [TREE_OPERATION_REMOVE, removedIDLength, ...ids]\n        (numUnmountIDs > 0 ? 2 + numUnmountIDs : 0) +\n        // [SUSPENSE_TREE_OPERATION_REMOVE, 1, pendingUnmountedRootID]\n        (pendingUnmountedRootID === null ? 0 : 3) +\n        // Mount operations\n        pendingOperations.length,\n    );\n\n    // Identify which renderer this update is coming from.\n    // This enables roots to be mapped to renderers,\n    // Which in turn enables fiber properations, states, and hooks to be inspected.\n    let i = 0;\n    operations[i++] = rendererID;\n    operations[i++] = rootID;\n\n    // Now fill in the string table.\n    // [stringTableLength, str1Length, ...str1, str2Length, ...str2, ...]\n    operations[i++] = pendingStringTableLength;\n    pendingStringTable.forEach((value, key) => {\n      operations[i++] = key.length;\n      const encodedKey = utfEncodeString(key);\n      for (let j = 0; j < encodedKey.length; j++) {\n        operations[i + j] = encodedKey[j];\n      }\n      i += key.length;\n    });\n\n    if (numUnmountIDs > 0) {\n      // All unmounts except roots are batched in a single message.\n      operations[i++] = TREE_OPERATION_REMOVE;\n      // The first number is how many unmounted IDs we're gonna send.\n      operations[i++] = numUnmountIDs;\n      // Fill in the unmounts\n      for (let j = 0; j < pendingUnmountedIDs.length; j++) {\n        operations[i++] = pendingUnmountedIDs[j];\n      }\n      // The root ID should always be unmounted last.\n      if (pendingUnmountedRootID !== null) {\n        operations[i] = pendingUnmountedRootID;\n        i++;\n\n        operations[i++] = SUSPENSE_TREE_OPERATION_REMOVE;\n        operations[i++] = 1;\n        operations[i++] = pendingUnmountedRootID;\n      }\n    }\n\n    // Fill in the rest of the operations.\n    for (let j = 0; j < pendingOperations.length; j++) {\n      operations[i + j] = pendingOperations[j];\n    }\n    i += pendingOperations.length;\n\n    if (__DEBUG__) {\n      printOperationsArray(operations);\n    }\n\n    // If we've already connected to the frontend, just pass the operations through.\n    hook.emit('operations', operations);\n\n    pendingOperations.length = 0;\n    pendingUnmountedIDs = [];\n    pendingUnmountedRootID = null;\n    pendingStringTable.clear();\n    pendingStringTableLength = 0;\n  }\n\n  function pushOperation(op: number): void {\n    if (__DEV__) {\n      if (!Number.isInteger(op)) {\n        console.error(\n          'pushOperation() was called but the value is not an integer.',\n          op,\n        );\n      }\n    }\n    pendingOperations.push(op);\n  }\n\n  function getStringID(str: string | null): number {\n    if (str === null) {\n      return 0;\n    }\n    const existingID = pendingStringTable.get(str);\n    if (existingID !== undefined) {\n      return existingID;\n    }\n    const stringID = pendingStringTable.size + 1;\n    pendingStringTable.set(str, stringID);\n    // The string table total length needs to account\n    // both for the string length, and for the array item\n    // that contains the length itself. Hence + 1.\n    pendingStringTableLength += str.length + 1;\n    return stringID;\n  }\n\n  let currentlyInspectedElementID: number | null = null;\n  let currentlyInspectedPaths: Object = {};\n\n  // Track the intersection of currently inspected paths,\n  // so that we can send their data along if the element is re-rendered.\n  function mergeInspectedPaths(path: Array<string | number>) {\n    let current = currentlyInspectedPaths;\n    path.forEach(key => {\n      if (!current[key]) {\n        current[key] = {};\n      }\n      current = current[key];\n    });\n  }\n\n  function createIsPathAllowed(key: string) {\n    // This function helps prevent previously-inspected paths from being dehydrated in updates.\n    // This is important to avoid a bad user experience where expanded toggles collapse on update.\n    return function isPathAllowed(path: Array<string | number>): boolean {\n      let current = currentlyInspectedPaths[key];\n      if (!current) {\n        return false;\n      }\n      for (let i = 0; i < path.length; i++) {\n        current = current[path[i]];\n        if (!current) {\n          return false;\n        }\n      }\n      return true;\n    };\n  }\n\n  // Fast path props lookup for React Native style editor.\n  function getInstanceAndStyle(id: number): InstanceAndStyle {\n    let instance = null;\n    let style = null;\n\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      instance = internalInstance._instance || null;\n\n      const element = internalInstance._currentElement;\n      if (element != null && element.props != null) {\n        style = element.props.style || null;\n      }\n    }\n\n    return {\n      instance,\n      style,\n    };\n  }\n\n  function updateSelectedElement(id: number): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance == null) {\n      console.warn(`Could not find instance with id \"${id}\"`);\n      return;\n    }\n\n    switch (getElementType(internalInstance)) {\n      case ElementTypeClass:\n        global.$r = internalInstance._instance;\n        break;\n      case ElementTypeFunction:\n        const element = internalInstance._currentElement;\n        if (element == null) {\n          console.warn(`Could not find element with id \"${id}\"`);\n          return;\n        }\n\n        global.$r = {\n          props: element.props,\n          type: element.type,\n        };\n        break;\n      default:\n        global.$r = null;\n        break;\n    }\n  }\n\n  function storeAsGlobal(\n    id: number,\n    path: Array<string | number>,\n    count: number,\n  ): void {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      const value = getInObject(inspectedElement, path);\n      const key = `$reactTemp${count}`;\n\n      window[key] = value;\n\n      console.log(key);\n      console.log(value);\n    }\n  }\n\n  function getSerializedElementValueByPath(\n    id: number,\n    path: Array<string | number>,\n  ): ?string {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      const valueToCopy = getInObject(inspectedElement, path);\n\n      return serializeToString(valueToCopy);\n    }\n  }\n\n  function inspectElement(\n    requestID: number,\n    id: number,\n    path: Array<string | number> | null,\n    forceFullData: boolean,\n  ): InspectedElementPayload {\n    if (forceFullData || currentlyInspectedElementID !== id) {\n      currentlyInspectedElementID = id;\n      currentlyInspectedPaths = {};\n    }\n\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement === null) {\n      return {\n        id,\n        responseID: requestID,\n        type: 'not-found',\n      };\n    }\n\n    if (path !== null) {\n      mergeInspectedPaths(path);\n    }\n\n    // Any time an inspected element has an update,\n    // we should update the selected $r value as wel.\n    // Do this before dehydration (cleanForBridge).\n    updateSelectedElement(id);\n\n    inspectedElement.context = cleanForBridge(\n      inspectedElement.context,\n      createIsPathAllowed('context'),\n    );\n    inspectedElement.props = cleanForBridge(\n      inspectedElement.props,\n      createIsPathAllowed('props'),\n    );\n    inspectedElement.state = cleanForBridge(\n      inspectedElement.state,\n      createIsPathAllowed('state'),\n    );\n    inspectedElement.suspendedBy = cleanForBridge(\n      inspectedElement.suspendedBy,\n      createIsPathAllowed('suspendedBy'),\n    );\n\n    return {\n      id,\n      responseID: requestID,\n      type: 'full-data',\n      value: inspectedElement,\n    };\n  }\n\n  function inspectElementRaw(id: number): InspectedElement | null {\n    const internalInstance = idToInternalInstanceMap.get(id);\n\n    if (internalInstance == null) {\n      return null;\n    }\n\n    const rootID = internalInstanceToRootIDMap.get(internalInstance);\n    if (rootID === undefined) {\n      throw new Error('Expected to find root ID.');\n    }\n    const isRoot = rootID === id;\n    return isRoot\n      ? inspectRootsRaw(rootID)\n      : inspectInternalInstanceRaw(id, internalInstance);\n  }\n\n  function inspectInternalInstanceRaw(\n    id: number,\n    internalInstance: InternalInstance,\n  ): InspectedElement | null {\n    const {key} = getData(internalInstance);\n    const type = getElementType(internalInstance);\n\n    let context = null;\n    let owners = null;\n    let props = null;\n    let state = null;\n\n    const element = internalInstance._currentElement;\n    if (element !== null) {\n      props = element.props;\n\n      let owner = element._owner;\n      if (owner) {\n        owners = ([]: Array<SerializedElement>);\n        while (owner != null) {\n          owners.push({\n            displayName: getData(owner).displayName || 'Unknown',\n            id: getID(owner),\n            key: element.key,\n            env: null,\n            stack: null,\n            type: getElementType(owner),\n          });\n          if (owner._currentElement) {\n            owner = owner._currentElement._owner;\n          }\n        }\n      }\n    }\n\n    const publicInstance = internalInstance._instance;\n    if (publicInstance != null) {\n      context = publicInstance.context || null;\n      state = publicInstance.state || null;\n    }\n\n    // Not implemented\n    const errors: Array<[string, number]> = [];\n    const warnings: Array<[string, number]> = [];\n\n    return {\n      id,\n\n      // Does the current renderer support editable hooks and function props?\n      canEditHooks: false,\n      canEditFunctionProps: false,\n\n      // Does the current renderer support advanced editing interface?\n      canEditHooksAndDeletePaths: false,\n      canEditHooksAndRenamePaths: false,\n      canEditFunctionPropsDeletePaths: false,\n      canEditFunctionPropsRenamePaths: false,\n\n      // Toggle error boundary did not exist in legacy versions\n      canToggleError: false,\n      isErrored: false,\n\n      // Suspense did not exist in legacy versions\n      canToggleSuspense: false,\n      isSuspended: null,\n\n      source: null,\n\n      stack: null,\n\n      // Only legacy context exists in legacy versions.\n      hasLegacyContext: true,\n\n      type: type,\n\n      key: key != null ? key : null,\n\n      // Inspectable properties.\n      context,\n      hooks: null,\n      props,\n      state,\n      errors,\n      warnings,\n\n      // Not supported in legacy renderers.\n      suspendedBy: [],\n      suspendedByRange: null,\n      unknownSuspenders: UNKNOWN_SUSPENDERS_NONE,\n\n      // List of owners\n      owners,\n\n      env: null,\n\n      rootType: null,\n      rendererPackageName: null,\n      rendererVersion: null,\n\n      plugins: {\n        stylex: null,\n      },\n\n      nativeTag: null,\n    };\n  }\n\n  function inspectRootsRaw(arbitraryRootID: number): InspectedElement | null {\n    const roots =\n      renderer.Mount._instancesByReactRootID ||\n      renderer.Mount._instancesByContainerID;\n\n    const inspectedRoots: InspectedElement = {\n      // invariants\n      id: arbitraryRootID,\n      type: ElementTypeRoot,\n      // Properties we merge\n      isErrored: false,\n      errors: [],\n      warnings: [],\n      suspendedBy: [],\n      suspendedByRange: null,\n      // TODO: How to merge these?\n      unknownSuspenders: UNKNOWN_SUSPENDERS_NONE,\n      // Properties where merging doesn't make sense so we ignore them entirely in the UI\n      rootType: null,\n      plugins: {stylex: null},\n      nativeTag: null,\n      env: null,\n      source: null,\n      stack: null,\n      // TODO: We could make the Frontend accept an array to display\n      // a list of unique renderers contributing to this Screen.\n      rendererPackageName: null,\n      rendererVersion: null,\n      // These don't make sense for a Root. They're just bottom values.\n      key: null,\n      canEditFunctionProps: false,\n      canEditHooks: false,\n      canEditFunctionPropsDeletePaths: false,\n      canEditFunctionPropsRenamePaths: false,\n      canEditHooksAndDeletePaths: false,\n      canEditHooksAndRenamePaths: false,\n      canToggleError: false,\n      canToggleSuspense: false,\n      isSuspended: false,\n      hasLegacyContext: false,\n      context: null,\n      hooks: null,\n      props: null,\n      state: null,\n      owners: null,\n    };\n\n    let minSuspendedByRange = Infinity;\n    let maxSuspendedByRange = -Infinity;\n\n    for (const rootKey in roots) {\n      const internalInstance = roots[rootKey];\n      const id = getID(internalInstance);\n      const inspectedRoot = inspectInternalInstanceRaw(id, internalInstance);\n\n      if (inspectedRoot === null) {\n        return null;\n      }\n\n      if (inspectedRoot.isErrored) {\n        inspectedRoots.isErrored = true;\n      }\n      for (let i = 0; i < inspectedRoot.errors.length; i++) {\n        inspectedRoots.errors.push(inspectedRoot.errors[i]);\n      }\n      for (let i = 0; i < inspectedRoot.warnings.length; i++) {\n        inspectedRoots.warnings.push(inspectedRoot.warnings[i]);\n      }\n      for (let i = 0; i < inspectedRoot.suspendedBy.length; i++) {\n        inspectedRoots.suspendedBy.push(inspectedRoot.suspendedBy[i]);\n      }\n      const suspendedByRange = inspectedRoot.suspendedByRange;\n      if (suspendedByRange !== null) {\n        if (suspendedByRange[0] < minSuspendedByRange) {\n          minSuspendedByRange = suspendedByRange[0];\n        }\n        if (suspendedByRange[1] > maxSuspendedByRange) {\n          maxSuspendedByRange = suspendedByRange[1];\n        }\n      }\n    }\n\n    if (minSuspendedByRange !== Infinity || maxSuspendedByRange !== -Infinity) {\n      inspectedRoots.suspendedByRange = [\n        minSuspendedByRange,\n        maxSuspendedByRange,\n      ];\n    }\n\n    return inspectedRoots;\n  }\n\n  function logElementToConsole(id: number): void {\n    const result = inspectElementRaw(id);\n    if (result === null) {\n      console.warn(`Could not find element with id \"${id}\"`);\n      return;\n    }\n\n    const displayName = getDisplayNameForElementID(id);\n\n    const supportsGroup = typeof console.groupCollapsed === 'function';\n    if (supportsGroup) {\n      console.groupCollapsed(\n        `[Click to expand] %c<${displayName || 'Component'} />`,\n        // --dom-tag-name-color is the CSS variable Chrome styles HTML elements with in the console.\n        'color: var(--dom-tag-name-color); font-weight: normal;',\n      );\n    }\n    if (result.props !== null) {\n      console.log('Props:', result.props);\n    }\n    if (result.state !== null) {\n      console.log('State:', result.state);\n    }\n    if (result.context !== null) {\n      console.log('Context:', result.context);\n    }\n    const hostInstance = findHostInstanceForInternalID(id);\n    if (hostInstance !== null) {\n      console.log('Node:', hostInstance);\n    }\n    if (window.chrome || /firefox/i.test(navigator.userAgent)) {\n      console.log(\n        'Right-click any value to save it as a global variable for further inspection.',\n      );\n    }\n    if (supportsGroup) {\n      console.groupEnd();\n    }\n  }\n\n  function getElementAttributeByPath(\n    id: number,\n    path: Array<string | number>,\n  ): mixed {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      return getInObject(inspectedElement, path);\n    }\n    return undefined;\n  }\n\n  function getElementSourceFunctionById(id: number): null | Function {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance == null) {\n      console.warn(`Could not find instance with id \"${id}\"`);\n      return null;\n    }\n\n    const element = internalInstance._currentElement;\n    if (element == null) {\n      console.warn(`Could not find element with id \"${id}\"`);\n      return null;\n    }\n\n    return element.type;\n  }\n\n  function deletePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            deletePathInObject(publicInstance.context, path);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithDelete(element.props, path),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            deletePathInObject(publicInstance.state, path);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  function renamePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    oldPath: Array<string | number>,\n    newPath: Array<string | number>,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            renamePathInObject(publicInstance.context, oldPath, newPath);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithRename(element.props, oldPath, newPath),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            renamePathInObject(publicInstance.state, oldPath, newPath);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  function overrideValueAtPath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n    value: any,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            setInObject(publicInstance.context, path, value);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithSet(element.props, path, value),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            setInObject(publicInstance.state, path, value);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  // v16+ only features\n  const getProfilingData = () => {\n    throw new Error('getProfilingData not supported by this renderer');\n  };\n  const handleCommitFiberRoot = () => {\n    throw new Error('handleCommitFiberRoot not supported by this renderer');\n  };\n  const handleCommitFiberUnmount = () => {\n    throw new Error('handleCommitFiberUnmount not supported by this renderer');\n  };\n  const handlePostCommitFiberRoot = () => {\n    throw new Error('handlePostCommitFiberRoot not supported by this renderer');\n  };\n  const overrideError = () => {\n    throw new Error('overrideError not supported by this renderer');\n  };\n  const overrideSuspense = () => {\n    throw new Error('overrideSuspense not supported by this renderer');\n  };\n  const overrideSuspenseMilestone = () => {\n    throw new Error('overrideSuspenseMilestone not supported by this renderer');\n  };\n  const startProfiling = () => {\n    // Do not throw, since this would break a multi-root scenario where v15 and v16 were both present.\n  };\n  const stopProfiling = () => {\n    // Do not throw, since this would break a multi-root scenario where v15 and v16 were both present.\n  };\n\n  function getBestMatchForTrackedPath(): PathMatch | null {\n    // Not implemented.\n    return null;\n  }\n\n  function getPathForElement(id: number): Array<PathFrame> | null {\n    // Not implemented.\n    return null;\n  }\n\n  function updateComponentFilters(componentFilters: Array<ComponentFilter>) {\n    // Not implemented.\n  }\n\n  function getEnvironmentNames(): Array<string> {\n    // No RSC support.\n    return [];\n  }\n\n  function setTraceUpdatesEnabled(enabled: boolean) {\n    // Not implemented.\n  }\n\n  function setTrackedPath(path: Array<PathFrame> | null) {\n    // Not implemented.\n  }\n\n  function getOwnersList(id: number): Array<SerializedElement> | null {\n    // Not implemented.\n    return null;\n  }\n\n  function clearErrorsAndWarnings() {\n    // Not implemented\n  }\n\n  function clearErrorsForElementID(id: number) {\n    // Not implemented\n  }\n\n  function clearWarningsForElementID(id: number) {\n    // Not implemented\n  }\n\n  function hasElementWithId(id: number): boolean {\n    return idToInternalInstanceMap.has(id);\n  }\n\n  return {\n    clearErrorsAndWarnings,\n    clearErrorsForElementID,\n    clearWarningsForElementID,\n    cleanup,\n    getSerializedElementValueByPath,\n    deletePath,\n    flushInitialOperations,\n    getBestMatchForTrackedPath,\n    getDisplayNameForElementID,\n    getNearestMountedDOMNode,\n    getElementIDForHostInstance,\n    getSuspenseNodeIDForHostInstance(id: number): null {\n      return null;\n    },\n    getInstanceAndStyle,\n    findHostInstancesForElementID: (id: number) => {\n      const hostInstance = findHostInstanceForInternalID(id);\n      return hostInstance == null ? null : [hostInstance];\n    },\n    findLastKnownRectsForID() {\n      return null;\n    },\n    getOwnersList,\n    getPathForElement,\n    getProfilingData,\n    handleCommitFiberRoot,\n    handleCommitFiberUnmount,\n    handlePostCommitFiberRoot,\n    hasElementWithId,\n    inspectElement,\n    logElementToConsole,\n    overrideError,\n    overrideSuspense,\n    overrideSuspenseMilestone,\n    overrideValueAtPath,\n    renamePath,\n    getElementAttributeByPath,\n    getElementSourceFunctionById,\n    renderer,\n    setTraceUpdatesEnabled,\n    setTrackedPath,\n    startProfiling,\n    stopProfiling,\n    storeAsGlobal,\n    supportsTogglingSuspense,\n    updateComponentFilters,\n    getEnvironmentNames,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {\n  ReactRenderer,\n  RendererInterface,\n  DevToolsHook,\n  RendererID,\n  ProfilingSettings,\n} from 'react-devtools-shared/src/backend/types';\n\nimport {attach as attachFlight} from 'react-devtools-shared/src/backend/flight/renderer';\nimport {attach as attachFiber} from 'react-devtools-shared/src/backend/fiber/renderer';\nimport {attach as attachLegacy} from 'react-devtools-shared/src/backend/legacy/renderer';\nimport {hasAssignedBackend} from 'react-devtools-shared/src/backend/utils';\n\n// this is the backend that is compatible with all older React versions\nfunction isMatchingRender(version: string): boolean {\n  return !hasAssignedBackend(version);\n}\n\nexport default function attachRenderer(\n  hook: DevToolsHook,\n  id: RendererID,\n  renderer: ReactRenderer,\n  global: Object,\n  shouldStartProfilingNow: boolean,\n  profilingSettings: ProfilingSettings,\n): RendererInterface | void {\n  // only attach if the renderer is compatible with the current version of the backend\n  if (!isMatchingRender(renderer.reconcilerVersion || renderer.version)) {\n    return;\n  }\n  let rendererInterface = hook.rendererInterfaces.get(id);\n\n  // Inject any not-yet-injected renderers (if we didn't reload-and-profile)\n  if (rendererInterface == null) {\n    if (typeof renderer.getCurrentComponentInfo === 'function') {\n      // react-flight/client\n      rendererInterface = attachFlight(hook, id, renderer, global);\n    } else if (\n      // v16-19\n      typeof renderer.findFiberByHostInstance === 'function' ||\n      // v16.8+\n      renderer.currentDispatcherRef != null\n    ) {\n      // react-reconciler v16+\n      rendererInterface = attachFiber(\n        hook,\n        id,\n        renderer,\n        global,\n        shouldStartProfilingNow,\n        profilingSettings,\n      );\n    } else if (renderer.ComponentTree) {\n      // react-dom v15\n      rendererInterface = attachLegacy(hook, id, renderer, global);\n    } else {\n      // Older react-dom or other unsupported renderer version\n    }\n  }\n\n  return rendererInterface;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// Do not add / import anything to this file.\n// This function could be used from multiple places, including hook.\n\n// Skips CSS and object arguments, inlines other in the first argument as a template string\nexport default function formatConsoleArguments(\n  maybeMessage: any,\n  ...inputArgs: $ReadOnlyArray<any>\n): $ReadOnlyArray<any> {\n  if (inputArgs.length === 0 || typeof maybeMessage !== 'string') {\n    return [maybeMessage, ...inputArgs];\n  }\n\n  const args = inputArgs.slice();\n\n  let template = '';\n  let argumentsPointer = 0;\n  for (let i = 0; i < maybeMessage.length; ++i) {\n    const currentChar = maybeMessage[i];\n    if (currentChar !== '%') {\n      template += currentChar;\n      continue;\n    }\n\n    const nextChar = maybeMessage[i + 1];\n    ++i;\n\n    // Only keep CSS and objects, inline other arguments\n    switch (nextChar) {\n      case 'c':\n      case 'O':\n      case 'o': {\n        ++argumentsPointer;\n        template += `%${nextChar}`;\n\n        break;\n      }\n      case 'd':\n      case 'i': {\n        const [arg] = args.splice(argumentsPointer, 1);\n        template += parseInt(arg, 10).toString();\n\n        break;\n      }\n      case 'f': {\n        const [arg] = args.splice(argumentsPointer, 1);\n        template += parseFloat(arg).toString();\n\n        break;\n      }\n      case 's': {\n        const [arg] = args.splice(argumentsPointer, 1);\n        template += String(arg);\n\n        break;\n      }\n\n      default:\n        template += `%${nextChar}`;\n    }\n  }\n\n  return [template, ...args];\n}\n","/**\n * Install the hook on window, which is an event emitter.\n * Note: this global hook __REACT_DEVTOOLS_GLOBAL_HOOK__ is a de facto public API.\n * It's especially important to avoid creating direct dependency on the DevTools Backend.\n * That's why we still inline the whole event emitter implementation,\n * the string format implementation, and part of the console implementation here.\n *\n * @flow\n */\n\nimport type {\n  DevToolsHook,\n  Handler,\n  ReactRenderer,\n  RendererID,\n  RendererInterface,\n  DevToolsBackend,\n  DevToolsHookSettings,\n  ProfilingSettings,\n} from './backend/types';\n\nimport {\n  FIREFOX_CONSOLE_DIMMING_COLOR,\n  ANSI_STYLE_DIMMING_TEMPLATE,\n  ANSI_STYLE_DIMMING_TEMPLATE_WITH_COMPONENT_STACK,\n} from 'react-devtools-shared/src/constants';\nimport attachRenderer from './attachRenderer';\nimport formatConsoleArguments from 'react-devtools-shared/src/backend/utils/formatConsoleArguments';\nimport formatWithStyles from 'react-devtools-shared/src/backend/utils/formatWithStyles';\n\n// React's custom built component stack strings match \"\\s{4}in\"\n// Chrome's prefix matches \"\\s{4}at\"\nconst PREFIX_REGEX = /\\s{4}(in|at)\\s{1}/;\n// Firefox and Safari have no prefix (\"\")\n// but we can fallback to looking for location info (e.g. \"foo.js:12:345\")\nconst ROW_COLUMN_NUMBER_REGEX = /:\\d+:\\d+(\\n|$)/;\n\nfunction isStringComponentStack(text: string): boolean {\n  return PREFIX_REGEX.test(text) || ROW_COLUMN_NUMBER_REGEX.test(text);\n}\n\n// We add a suffix to some frames that older versions of React didn't do.\n// To compare if it's equivalent we strip out the suffix to see if they're\n// still equivalent. Similarly, we sometimes use [] and sometimes () so we\n// strip them to for the comparison.\nconst frameDiffs = / \\(\\<anonymous\\>\\)$|\\@unknown\\:0\\:0$|\\(|\\)|\\[|\\]/gm;\nfunction areStackTracesEqual(a: string, b: string): boolean {\n  return a.replace(frameDiffs, '') === b.replace(frameDiffs, '');\n}\n\nconst targetConsole: Object = console;\n\nconst defaultProfilingSettings: ProfilingSettings = {\n  recordChangeDescriptions: false,\n  recordTimeline: false,\n};\n\nexport function installHook(\n  target: any,\n  maybeSettingsOrSettingsPromise?:\n    | DevToolsHookSettings\n    | Promise<DevToolsHookSettings>,\n  shouldStartProfilingNow: boolean = false,\n  profilingSettings: ProfilingSettings = defaultProfilingSettings,\n): DevToolsHook | null {\n  if (target.hasOwnProperty('__REACT_DEVTOOLS_GLOBAL_HOOK__')) {\n    return null;\n  }\n\n  function detectReactBuildType(renderer: ReactRenderer) {\n    try {\n      if (typeof renderer.version === 'string') {\n        // React DOM Fiber (16+)\n        if (renderer.bundleType > 0) {\n          // This is not a production build.\n          // We are currently only using 0 (PROD) and 1 (DEV)\n          // but might add 2 (PROFILE) in the future.\n          return 'development';\n        }\n\n        // React 16 uses flat bundles. If we report the bundle as production\n        // version, it means we also minified and envified it ourselves.\n        return 'production';\n        // Note: There is still a risk that the CommonJS entry point has not\n        // been envified or uglified. In this case the user would have *both*\n        // development and production bundle, but only the prod one would run.\n        // This would be really bad. We have a separate check for this because\n        // it happens *outside* of the renderer injection. See `checkDCE` below.\n      }\n\n      // $FlowFixMe[method-unbinding]\n      const toString = Function.prototype.toString;\n      if (renderer.Mount && renderer.Mount._renderNewRootComponent) {\n        // React DOM Stack\n        const renderRootCode = toString.call(\n          renderer.Mount._renderNewRootComponent,\n        );\n        // Filter out bad results (if that is even possible):\n        if (renderRootCode.indexOf('function') !== 0) {\n          // Hope for the best if we're not sure.\n          return 'production';\n        }\n        // Check for React DOM Stack < 15.1.0 in development.\n        // If it contains \"storedMeasure\" call, it's wrapped in ReactPerf (DEV only).\n        // This would be true even if it's minified, as method name still matches.\n        if (renderRootCode.indexOf('storedMeasure') !== -1) {\n          return 'development';\n        }\n        // For other versions (and configurations) it's not so easy.\n        // Let's quickly exclude proper production builds.\n        // If it contains a warning message, it's either a DEV build,\n        // or an PROD build without proper dead code elimination.\n        if (renderRootCode.indexOf('should be a pure function') !== -1) {\n          // Now how do we tell a DEV build from a bad PROD build?\n          // If we see NODE_ENV, we're going to assume this is a dev build\n          // because most likely it is referring to an empty shim.\n          if (renderRootCode.indexOf('NODE_ENV') !== -1) {\n            return 'development';\n          }\n          // If we see \"development\", we're dealing with an envified DEV build\n          // (such as the official React DEV UMD).\n          if (renderRootCode.indexOf('development') !== -1) {\n            return 'development';\n          }\n          // I've seen process.env.NODE_ENV !== 'production' being smartly\n          // replaced by `true` in DEV by Webpack. I don't know how that\n          // works but we can safely guard against it because `true` was\n          // never used in the function source since it was written.\n          if (renderRootCode.indexOf('true') !== -1) {\n            return 'development';\n          }\n          // By now either it is a production build that has not been minified,\n          // or (worse) this is a minified development build using non-standard\n          // environment (e.g. \"staging\"). We're going to look at whether\n          // the function argument name is mangled:\n          if (\n            // 0.13 to 15\n            renderRootCode.indexOf('nextElement') !== -1 ||\n            // 0.12\n            renderRootCode.indexOf('nextComponent') !== -1\n          ) {\n            // We can't be certain whether this is a development build or not,\n            // but it is definitely unminified.\n            return 'unminified';\n          } else {\n            // This is likely a minified development build.\n            return 'development';\n          }\n        }\n        // By now we know that it's envified and dead code elimination worked,\n        // but what if it's still not minified? (Is this even possible?)\n        // Let's check matches for the first argument name.\n        if (\n          // 0.13 to 15\n          renderRootCode.indexOf('nextElement') !== -1 ||\n          // 0.12\n          renderRootCode.indexOf('nextComponent') !== -1\n        ) {\n          return 'unminified';\n        }\n        // Seems like we're using the production version.\n        // However, the branch above is Stack-only so this is 15 or earlier.\n        return 'outdated';\n      }\n    } catch (err) {\n      // Weird environments may exist.\n      // This code needs a higher fault tolerance\n      // because it runs even with closed DevTools.\n      // TODO: should we catch errors in all injected code, and not just this part?\n    }\n    return 'production';\n  }\n\n  function checkDCE(fn: Function) {\n    // This runs for production versions of React.\n    // Needs to be super safe.\n    try {\n      // $FlowFixMe[method-unbinding]\n      const toString = Function.prototype.toString;\n      const code = toString.call(fn);\n\n      // This is a string embedded in the passed function under DEV-only\n      // condition. However the function executes only in PROD. Therefore,\n      // if we see it, dead code elimination did not work.\n      if (code.indexOf('^_^') > -1) {\n        // Remember to report during next injection.\n        hasDetectedBadDCE = true;\n\n        // Bonus: throw an exception hoping that it gets picked up by a reporting system.\n        // Not synchronously so that it doesn't break the calling code.\n        setTimeout(function () {\n          throw new Error(\n            'React is running in production mode, but dead code ' +\n              'elimination has not been applied. Read how to correctly ' +\n              'configure React for production: ' +\n              'https://react.dev/link/perf-use-production-build',\n          );\n        });\n      }\n    } catch (err) {}\n  }\n\n  // TODO: isProfiling should be stateful, and we should update it once profiling is finished\n  const isProfiling = shouldStartProfilingNow;\n  let uidCounter = 0;\n  function inject(renderer: ReactRenderer): number {\n    const id = ++uidCounter;\n    renderers.set(id, renderer);\n\n    const reactBuildType = hasDetectedBadDCE\n      ? 'deadcode'\n      : detectReactBuildType(renderer);\n\n    hook.emit('renderer', {\n      id,\n      renderer,\n      reactBuildType,\n    });\n\n    const rendererInterface = attachRenderer(\n      hook,\n      id,\n      renderer,\n      target,\n      isProfiling,\n      profilingSettings,\n    );\n    if (rendererInterface != null) {\n      hook.rendererInterfaces.set(id, rendererInterface);\n      hook.emit('renderer-attached', {id, rendererInterface});\n    } else {\n      hook.hasUnsupportedRendererAttached = true;\n      hook.emit('unsupported-renderer-version');\n    }\n\n    return id;\n  }\n\n  let hasDetectedBadDCE = false;\n\n  function sub(event: string, fn: Handler) {\n    hook.on(event, fn);\n    return () => hook.off(event, fn);\n  }\n\n  function on(event: string, fn: Handler) {\n    if (!listeners[event]) {\n      listeners[event] = [];\n    }\n    listeners[event].push(fn);\n  }\n\n  function off(event: string, fn: Handler) {\n    if (!listeners[event]) {\n      return;\n    }\n    const index = listeners[event].indexOf(fn);\n    if (index !== -1) {\n      listeners[event].splice(index, 1);\n    }\n    if (!listeners[event].length) {\n      delete listeners[event];\n    }\n  }\n\n  function emit(event: string, data: any) {\n    if (listeners[event]) {\n      listeners[event].map(fn => fn(data));\n    }\n  }\n\n  function getFiberRoots(rendererID: RendererID) {\n    const roots = fiberRoots;\n    if (!roots[rendererID]) {\n      roots[rendererID] = new Set();\n    }\n    return roots[rendererID];\n  }\n\n  function onCommitFiberUnmount(rendererID: RendererID, fiber: any) {\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handleCommitFiberUnmount(fiber);\n    }\n  }\n\n  function onCommitFiberRoot(\n    rendererID: RendererID,\n    root: any,\n    priorityLevel: void | number,\n  ) {\n    const mountedRoots = hook.getFiberRoots(rendererID);\n    const current = root.current;\n    const isKnownRoot = mountedRoots.has(root);\n    const isUnmounting =\n      current.memoizedState == null || current.memoizedState.element == null;\n\n    // Keep track of mounted roots so we can hydrate when DevTools connect.\n    if (!isKnownRoot && !isUnmounting) {\n      mountedRoots.add(root);\n    } else if (isKnownRoot && isUnmounting) {\n      mountedRoots.delete(root);\n    }\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handleCommitFiberRoot(root, priorityLevel);\n    }\n  }\n\n  function onPostCommitFiberRoot(rendererID: RendererID, root: any) {\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handlePostCommitFiberRoot(root);\n    }\n  }\n\n  let isRunningDuringStrictModeInvocation = false;\n  function setStrictMode(rendererID: RendererID, isStrictMode: boolean) {\n    isRunningDuringStrictModeInvocation = isStrictMode;\n\n    if (isStrictMode) {\n      patchConsoleForStrictMode();\n    } else {\n      unpatchConsoleForStrictMode();\n    }\n  }\n\n  const unpatchConsoleCallbacks = [];\n  // For StrictMode we patch console once we are running in StrictMode and unpatch right after it\n  // So patching could happen multiple times during the runtime\n  // Notice how we don't patch error or warn methods, because they are already patched in patchConsoleForErrorsAndWarnings\n  // This will only happen once, when hook is installed\n  function patchConsoleForStrictMode() {\n    // Don't patch console in case settings were not injected\n    if (!hook.settings) {\n      return;\n    }\n\n    // Don't patch twice\n    if (unpatchConsoleCallbacks.length > 0) {\n      return;\n    }\n\n    // At this point 'error', 'warn', and 'trace' methods are already patched\n    // by React DevTools hook to append component stacks and other possible features.\n    const consoleMethodsToOverrideForStrictMode = [\n      'group',\n      'groupCollapsed',\n      'info',\n      'log',\n    ];\n\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const method of consoleMethodsToOverrideForStrictMode) {\n      const originalMethod = targetConsole[method];\n      const overrideMethod: (...args: Array<any>) => void = (\n        ...args: any[]\n      ) => {\n        const settings = hook.settings;\n        // Something unexpected happened, fallback to just printing the console message.\n        if (settings == null) {\n          originalMethod(...args);\n          return;\n        }\n\n        if (settings.hideConsoleLogsInStrictMode) {\n          return;\n        }\n\n        // Dim the text color of the double logs if we're not hiding them.\n        // Firefox doesn't support ANSI escape sequences\n        if (__IS_FIREFOX__) {\n          originalMethod(\n            ...formatWithStyles(args, FIREFOX_CONSOLE_DIMMING_COLOR),\n          );\n        } else {\n          originalMethod(\n            ANSI_STYLE_DIMMING_TEMPLATE,\n            ...formatConsoleArguments(...args),\n          );\n        }\n      };\n\n      targetConsole[method] = overrideMethod;\n      unpatchConsoleCallbacks.push(() => {\n        targetConsole[method] = originalMethod;\n      });\n    }\n  }\n\n  function unpatchConsoleForStrictMode() {\n    unpatchConsoleCallbacks.forEach(callback => callback());\n    unpatchConsoleCallbacks.length = 0;\n  }\n\n  type StackFrameString = string;\n\n  const openModuleRangesStack: Array<StackFrameString> = [];\n  const moduleRanges: Array<[StackFrameString, StackFrameString]> = [];\n\n  function getTopStackFrameString(error: Error): StackFrameString | null {\n    const frames = error.stack.split('\\n');\n    const frame = frames.length > 1 ? frames[1] : null;\n    return frame;\n  }\n\n  function getInternalModuleRanges(): Array<\n    [StackFrameString, StackFrameString],\n  > {\n    return moduleRanges;\n  }\n\n  function registerInternalModuleStart(error: Error) {\n    const startStackFrame = getTopStackFrameString(error);\n    if (startStackFrame !== null) {\n      openModuleRangesStack.push(startStackFrame);\n    }\n  }\n\n  function registerInternalModuleStop(error: Error) {\n    if (openModuleRangesStack.length > 0) {\n      const startStackFrame = openModuleRangesStack.pop();\n      const stopStackFrame = getTopStackFrameString(error);\n      if (stopStackFrame !== null) {\n        // $FlowFixMe[incompatible-call]\n        moduleRanges.push([startStackFrame, stopStackFrame]);\n      }\n    }\n  }\n\n  // For Errors and Warnings we only patch console once\n  function patchConsoleForErrorsAndWarnings() {\n    // Don't patch console in case settings were not injected\n    if (!hook.settings) {\n      return;\n    }\n\n    const consoleMethodsToOverrideForErrorsAndWarnings = [\n      'error',\n      'trace',\n      'warn',\n    ];\n\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const method of consoleMethodsToOverrideForErrorsAndWarnings) {\n      const originalMethod = targetConsole[method];\n      const overrideMethod: (...args: Array<any>) => void = (...args) => {\n        const settings = hook.settings;\n        // Something unexpected happened, fallback to just printing the console message.\n        if (settings == null) {\n          originalMethod(...args);\n          return;\n        }\n\n        if (\n          isRunningDuringStrictModeInvocation &&\n          settings.hideConsoleLogsInStrictMode\n        ) {\n          return;\n        }\n\n        let injectedComponentStackAsFakeError = false;\n        let alreadyHasComponentStack = false;\n        if (settings.appendComponentStack) {\n          const lastArg = args.length > 0 ? args[args.length - 1] : null;\n          alreadyHasComponentStack =\n            typeof lastArg === 'string' && isStringComponentStack(lastArg); // The last argument should be a component stack.\n        }\n\n        const shouldShowInlineWarningsAndErrors =\n          settings.showInlineWarningsAndErrors &&\n          (method === 'error' || method === 'warn');\n\n        // Search for the first renderer that has a current Fiber.\n        // We don't handle the edge case of stacks for more than one (e.g. interleaved renderers?)\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const rendererInterface of hook.rendererInterfaces.values()) {\n          const {onErrorOrWarning, getComponentStack} = rendererInterface;\n          try {\n            if (shouldShowInlineWarningsAndErrors) {\n              // patch() is called by two places: (1) the hook and (2) the renderer backend.\n              // The backend is what implements a message queue, so it's the only one that injects onErrorOrWarning.\n              if (onErrorOrWarning != null) {\n                onErrorOrWarning(\n                  ((method: any): 'error' | 'warn'),\n                  args.slice(),\n                );\n              }\n            }\n          } catch (error) {\n            // Don't let a DevTools or React internal error interfere with logging.\n            setTimeout(() => {\n              throw error;\n            }, 0);\n          }\n\n          try {\n            if (settings.appendComponentStack && getComponentStack != null) {\n              // This needs to be directly in the wrapper so we can pop exactly one frame.\n              const topFrame = Error('react-stack-top-frame');\n              const match = getComponentStack(topFrame);\n              if (match !== null) {\n                const {enableOwnerStacks, componentStack} = match;\n                // Empty string means we have a match but no component stack.\n                // We don't need to look in other renderers but we also don't add anything.\n                if (componentStack !== '') {\n                  // Create a fake Error so that when we print it we get native source maps. Every\n                  // browser will print the .stack property of the error and then parse it back for source\n                  // mapping. Rather than print the internal slot. So it doesn't matter that the internal\n                  // slot doesn't line up.\n                  const fakeError = new Error('');\n                  // In Chromium, only the stack property is printed but in Firefox the <name>:<message>\n                  // gets printed so to make the colon make sense, we name it so we print Stack:\n                  // and similarly Safari leave an expandable slot.\n                  if (__IS_CHROME__ || __IS_EDGE__) {\n                    // Before sending the stack to Chrome DevTools for formatting,\n                    // V8 will reconstruct this according to the template <name>: <message><stack-frames>\n                    // https://source.chromium.org/chromium/chromium/src/+/main:v8/src/inspector/value-mirror.cc;l=252-311;drc=bdc48d1b1312cc40c00282efb1c9c5f41dcdca9a\n                    // It has to start with ^[\\w.]*Error\\b to trigger stack formatting.\n                    fakeError.name = enableOwnerStacks\n                      ? 'Error Stack'\n                      : 'Error Component Stack'; // This gets printed\n                  } else {\n                    fakeError.name = enableOwnerStacks\n                      ? 'Stack'\n                      : 'Component Stack'; // This gets printed\n                  }\n                  // In Chromium, the stack property needs to start with ^[\\w.]*Error\\b to trigger stack\n                  // formatting. Otherwise it is left alone. So we prefix it. Otherwise we just override it\n                  // to our own stack.\n                  fakeError.stack =\n                    __IS_CHROME__ || __IS_EDGE__ || __IS_NATIVE__\n                      ? (enableOwnerStacks\n                          ? 'Error Stack:'\n                          : 'Error Component Stack:') + componentStack\n                      : componentStack;\n\n                  if (alreadyHasComponentStack) {\n                    // Only modify the component stack if it matches what we would've added anyway.\n                    // Otherwise we assume it was a non-React stack.\n                    if (\n                      areStackTracesEqual(args[args.length - 1], componentStack)\n                    ) {\n                      const firstArg = args[0];\n                      if (\n                        args.length > 1 &&\n                        typeof firstArg === 'string' &&\n                        firstArg.endsWith('%s')\n                      ) {\n                        args[0] = firstArg.slice(0, firstArg.length - 2); // Strip the %s param\n                      }\n                      args[args.length - 1] = fakeError;\n                      injectedComponentStackAsFakeError = true;\n                    }\n                  } else {\n                    args.push(fakeError);\n                    injectedComponentStackAsFakeError = true;\n                  }\n                }\n\n                // Don't add stacks from other renderers.\n                break;\n              }\n            }\n          } catch (error) {\n            // Don't let a DevTools or React internal error interfere with logging.\n            setTimeout(() => {\n              throw error;\n            }, 0);\n          }\n        }\n\n        if (settings.breakOnConsoleErrors) {\n          // --- Welcome to debugging with React DevTools ---\n          // This debugger statement means that you've enabled the \"break on warnings\" feature.\n          // Use the browser's Call Stack panel to step out of this override function\n          // to where the original warning or error was logged.\n          // eslint-disable-next-line no-debugger\n          debugger;\n        }\n\n        if (isRunningDuringStrictModeInvocation) {\n          // Dim the text color of the double logs if we're not hiding them.\n          // Firefox doesn't support ANSI escape sequences\n          if (__IS_FIREFOX__) {\n            let argsWithCSSStyles = formatWithStyles(\n              args,\n              FIREFOX_CONSOLE_DIMMING_COLOR,\n            );\n\n            if (injectedComponentStackAsFakeError) {\n              argsWithCSSStyles = [\n                `${argsWithCSSStyles[0]} %o`,\n                ...argsWithCSSStyles.slice(1),\n              ];\n            }\n\n            originalMethod(...argsWithCSSStyles);\n          } else {\n            originalMethod(\n              injectedComponentStackAsFakeError\n                ? ANSI_STYLE_DIMMING_TEMPLATE_WITH_COMPONENT_STACK\n                : ANSI_STYLE_DIMMING_TEMPLATE,\n              ...formatConsoleArguments(...args),\n            );\n          }\n        } else {\n          originalMethod(...args);\n        }\n      };\n\n      targetConsole[method] = overrideMethod;\n    }\n  }\n\n  // TODO: More meaningful names for \"rendererInterfaces\" and \"renderers\".\n  const fiberRoots: {[RendererID]: Set<mixed>} = {};\n  const rendererInterfaces = new Map<RendererID, RendererInterface>();\n  const listeners: {[string]: Array<Handler>} = {};\n  const renderers = new Map<RendererID, ReactRenderer>();\n  const backends = new Map<string, DevToolsBackend>();\n\n  const hook: DevToolsHook = {\n    rendererInterfaces,\n    listeners,\n\n    backends,\n\n    // Fast Refresh for web relies on this.\n    renderers,\n    hasUnsupportedRendererAttached: false,\n\n    emit,\n    getFiberRoots,\n    inject,\n    on,\n    off,\n    sub,\n\n    // This is a legacy flag.\n    // React v16 checks the hook for this to ensure DevTools is new enough.\n    supportsFiber: true,\n\n    // React Flight Client checks the hook for this to ensure DevTools is new enough.\n    supportsFlight: true,\n\n    // React calls these methods.\n    checkDCE,\n    onCommitFiberUnmount,\n    onCommitFiberRoot,\n    // React v18.0+\n    onPostCommitFiberRoot,\n    setStrictMode,\n\n    // Schedule Profiler runtime helpers.\n    // These internal React modules to report their own boundaries\n    // which in turn enables the profiler to dim or filter internal frames.\n    getInternalModuleRanges,\n    registerInternalModuleStart,\n    registerInternalModuleStop,\n  };\n\n  if (maybeSettingsOrSettingsPromise == null) {\n    // Set default settings\n    hook.settings = {\n      appendComponentStack: true,\n      breakOnConsoleErrors: false,\n      showInlineWarningsAndErrors: true,\n      hideConsoleLogsInStrictMode: false,\n    };\n    patchConsoleForErrorsAndWarnings();\n  } else {\n    Promise.resolve(maybeSettingsOrSettingsPromise)\n      .then(settings => {\n        hook.settings = settings;\n        hook.emit('settingsInitialized', settings);\n\n        patchConsoleForErrorsAndWarnings();\n      })\n      .catch(() => {\n        targetConsole.error(\n          \"React DevTools failed to get Console Patching settings. Console won't be patched and some console features will not work.\",\n        );\n      });\n  }\n\n  Object.defineProperty(\n    target,\n    '__REACT_DEVTOOLS_GLOBAL_HOOK__',\n    ({\n      // This property needs to be configurable for the test environment,\n      // else we won't be able to delete and recreate it between tests.\n      configurable: __DEV__,\n      enumerable: false,\n      get() {\n        return hook;\n      },\n    }: Object),\n  );\n\n  return hook;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from './agent';\n\nimport type {DevToolsHook, RendererID, RendererInterface} from './types';\n\nexport type InitBackend = typeof initBackend;\n\nexport function initBackend(\n  hook: DevToolsHook,\n  agent: Agent,\n  global: Object,\n  isReloadAndProfileSupported: boolean,\n): () => void {\n  if (hook == null) {\n    // DevTools didn't get injected into this page (maybe b'c of the contentType).\n    return () => {};\n  }\n\n  function registerRendererInterface(\n    id: RendererID,\n    rendererInterface: RendererInterface,\n  ) {\n    agent.registerRendererInterface(id, rendererInterface);\n\n    // Now that the Store and the renderer interface are connected,\n    // it's time to flush the pending operation codes to the frontend.\n    rendererInterface.flushInitialOperations();\n  }\n\n  const subs = [\n    hook.sub(\n      'renderer-attached',\n      ({\n        id,\n        rendererInterface,\n      }: {\n        id: number,\n        rendererInterface: RendererInterface,\n      }) => {\n        registerRendererInterface(id, rendererInterface);\n      },\n    ),\n    hook.sub('unsupported-renderer-version', () => {\n      agent.onUnsupportedRenderer();\n    }),\n\n    hook.sub('fastRefreshScheduled', agent.onFastRefreshScheduled),\n    hook.sub('operations', agent.onHookOperations),\n    hook.sub('traceUpdates', agent.onTraceUpdates),\n    hook.sub('settingsInitialized', agent.onHookSettings),\n\n    // TODO Add additional subscriptions required for profiling mode\n  ];\n\n  agent.addListener('getIfHasUnsupportedRendererVersion', () => {\n    if (hook.hasUnsupportedRendererAttached) {\n      agent.onUnsupportedRenderer();\n    }\n  });\n\n  hook.rendererInterfaces.forEach((rendererInterface, id) => {\n    registerRendererInterface(id, rendererInterface);\n  });\n\n  hook.emit('react-devtools', agent);\n  hook.reactDevtoolsAgent = agent;\n\n  const onAgentShutdown = () => {\n    subs.forEach(fn => fn());\n    hook.rendererInterfaces.forEach(rendererInterface => {\n      rendererInterface.cleanup();\n    });\n    hook.reactDevtoolsAgent = null;\n  };\n\n  // Agent's event listeners are cleaned up by Agent in `shutdown` implementation.\n  agent.addListener('shutdown', onAgentShutdown);\n  agent.addListener('updateHookSettings', settings => {\n    hook.settings = settings;\n  });\n  agent.addListener('getHookSettings', () => {\n    if (hook.settings != null) {\n      agent.onHookSettings(hook.settings);\n    }\n  });\n\n  if (isReloadAndProfileSupported) {\n    agent.onReloadAndProfileSupportedByHost();\n  }\n\n  return () => {\n    subs.forEach(fn => fn());\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {BoxStyle} from './types';\n\n/**\n * This mirrors react-native/Libraries/Inspector/resolveBoxStyle.js (but without RTL support).\n *\n * Resolve a style property into it's component parts, e.g.\n *\n * resolveBoxStyle('margin', {margin: 5, marginBottom: 10})\n * -> {top: 5, left: 5, right: 5, bottom: 10}\n */\nexport default function resolveBoxStyle(\n  prefix: string,\n  style: Object,\n): BoxStyle | null {\n  let hasParts = false;\n  const result = {\n    bottom: 0,\n    left: 0,\n    right: 0,\n    top: 0,\n  };\n\n  const styleForAll = style[prefix];\n  if (styleForAll != null) {\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const key of Object.keys(result)) {\n      result[key] = styleForAll;\n    }\n    hasParts = true;\n  }\n\n  const styleForHorizontal = style[prefix + 'Horizontal'];\n  if (styleForHorizontal != null) {\n    result.left = styleForHorizontal;\n    result.right = styleForHorizontal;\n    hasParts = true;\n  } else {\n    const styleForLeft = style[prefix + 'Left'];\n    if (styleForLeft != null) {\n      result.left = styleForLeft;\n      hasParts = true;\n    }\n\n    const styleForRight = style[prefix + 'Right'];\n    if (styleForRight != null) {\n      result.right = styleForRight;\n      hasParts = true;\n    }\n\n    const styleForEnd = style[prefix + 'End'];\n    if (styleForEnd != null) {\n      // TODO RTL support\n      result.right = styleForEnd;\n      hasParts = true;\n    }\n    const styleForStart = style[prefix + 'Start'];\n    if (styleForStart != null) {\n      // TODO RTL support\n      result.left = styleForStart;\n      hasParts = true;\n    }\n  }\n\n  const styleForVertical = style[prefix + 'Vertical'];\n  if (styleForVertical != null) {\n    result.bottom = styleForVertical;\n    result.top = styleForVertical;\n    hasParts = true;\n  } else {\n    const styleForBottom = style[prefix + 'Bottom'];\n    if (styleForBottom != null) {\n      result.bottom = styleForBottom;\n      hasParts = true;\n    }\n\n    const styleForTop = style[prefix + 'Top'];\n    if (styleForTop != null) {\n      result.top = styleForTop;\n      hasParts = true;\n    }\n  }\n\n  return hasParts ? result : null;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport resolveBoxStyle from './resolveBoxStyle';\nimport isArray from 'react-devtools-shared/src/isArray';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {RendererID} from '../types';\nimport type {StyleAndLayout} from './types';\n\nexport type ResolveNativeStyle = (stylesheetID: any) => ?Object;\nexport type SetupNativeStyleEditor = typeof setupNativeStyleEditor;\n\nexport default function setupNativeStyleEditor(\n  bridge: BackendBridge,\n  agent: Agent,\n  resolveNativeStyle: ResolveNativeStyle,\n  validAttributes?: $ReadOnlyArray<string> | null,\n) {\n  bridge.addListener(\n    'NativeStyleEditor_measure',\n    ({id, rendererID}: {id: number, rendererID: RendererID}) => {\n      measureStyle(agent, bridge, resolveNativeStyle, id, rendererID);\n    },\n  );\n\n  bridge.addListener(\n    'NativeStyleEditor_renameAttribute',\n    ({\n      id,\n      rendererID,\n      oldName,\n      newName,\n      value,\n    }: {\n      id: number,\n      rendererID: RendererID,\n      oldName: string,\n      newName: string,\n      value: string,\n    }) => {\n      renameStyle(agent, id, rendererID, oldName, newName, value);\n      setTimeout(() =>\n        measureStyle(agent, bridge, resolveNativeStyle, id, rendererID),\n      );\n    },\n  );\n\n  bridge.addListener(\n    'NativeStyleEditor_setValue',\n    ({\n      id,\n      rendererID,\n      name,\n      value,\n    }: {\n      id: number,\n      rendererID: number,\n      name: string,\n      value: string,\n    }) => {\n      setStyle(agent, id, rendererID, name, value);\n      setTimeout(() =>\n        measureStyle(agent, bridge, resolveNativeStyle, id, rendererID),\n      );\n    },\n  );\n\n  bridge.send('isNativeStyleEditorSupported', {\n    isSupported: true,\n    validAttributes,\n  });\n}\n\nconst EMPTY_BOX_STYLE = {\n  top: 0,\n  left: 0,\n  right: 0,\n  bottom: 0,\n};\n\nconst componentIDToStyleOverrides: Map<number, Object> = new Map();\n\nfunction measureStyle(\n  agent: Agent,\n  bridge: BackendBridge,\n  resolveNativeStyle: ResolveNativeStyle,\n  id: number,\n  rendererID: RendererID,\n) {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: null,\n        style: null,\n      }: StyleAndLayout),\n    );\n    return;\n  }\n\n  const {instance, style} = data;\n\n  let resolvedStyle = resolveNativeStyle(style);\n\n  // If it's a host component we edited before, amend styles.\n  const styleOverrides = componentIDToStyleOverrides.get(id);\n  if (styleOverrides != null) {\n    resolvedStyle = Object.assign({}, resolvedStyle, styleOverrides);\n  }\n\n  if (!instance || typeof instance.measure !== 'function') {\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: null,\n        style: resolvedStyle || null,\n      }: StyleAndLayout),\n    );\n    return;\n  }\n\n  instance.measure((x, y, width, height, left, top) => {\n    // RN Android sometimes returns undefined here. Don't send measurements in this case.\n    // https://github.com/jhen0409/react-native-debugger/issues/84#issuecomment-304611817\n    if (typeof x !== 'number') {\n      bridge.send(\n        'NativeStyleEditor_styleAndLayout',\n        ({\n          id,\n          layout: null,\n          style: resolvedStyle || null,\n        }: StyleAndLayout),\n      );\n      return;\n    }\n    const margin =\n      (resolvedStyle != null && resolveBoxStyle('margin', resolvedStyle)) ||\n      EMPTY_BOX_STYLE;\n    const padding =\n      (resolvedStyle != null && resolveBoxStyle('padding', resolvedStyle)) ||\n      EMPTY_BOX_STYLE;\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: {\n          x,\n          y,\n          width,\n          height,\n          left,\n          top,\n          margin,\n          padding,\n        },\n        style: resolvedStyle || null,\n      }: StyleAndLayout),\n    );\n  });\n}\n\nfunction shallowClone(object: Object): Object {\n  const cloned: {[string]: $FlowFixMe} = {};\n  for (const n in object) {\n    cloned[n] = object[n];\n  }\n  return cloned;\n}\n\nfunction renameStyle(\n  agent: Agent,\n  id: number,\n  rendererID: RendererID,\n  oldName: string,\n  newName: string,\n  value: string,\n): void {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    return;\n  }\n\n  const {instance, style} = data;\n\n  const newStyle = newName\n    ? {[oldName]: (undefined: string | void), [newName]: value}\n    : {[oldName]: undefined};\n\n  let customStyle;\n\n  // TODO It would be nice if the renderer interface abstracted this away somehow.\n  if (instance !== null && typeof instance.setNativeProps === 'function') {\n    // In the case of a host component, we need to use setNativeProps().\n    // Remember to \"correct\" resolved styles when we read them next time.\n    const styleOverrides = componentIDToStyleOverrides.get(id);\n    if (!styleOverrides) {\n      componentIDToStyleOverrides.set(id, newStyle);\n    } else {\n      Object.assign(styleOverrides, newStyle);\n    }\n    // TODO Fabric does not support setNativeProps; chat with Sebastian or Eli\n    instance.setNativeProps({style: newStyle});\n  } else if (isArray(style)) {\n    const lastIndex = style.length - 1;\n    if (typeof style[lastIndex] === 'object' && !isArray(style[lastIndex])) {\n      customStyle = shallowClone(style[lastIndex]);\n      delete customStyle[oldName];\n      if (newName) {\n        customStyle[newName] = value;\n      } else {\n        customStyle[oldName] = undefined;\n      }\n\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style', lastIndex],\n        value: customStyle,\n      });\n    } else {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style'],\n        value: style.concat([newStyle]),\n      });\n    }\n  } else if (typeof style === 'object') {\n    customStyle = shallowClone(style);\n    delete customStyle[oldName];\n    if (newName) {\n      customStyle[newName] = value;\n    } else {\n      customStyle[oldName] = undefined;\n    }\n\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: customStyle,\n    });\n  } else {\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: [style, newStyle],\n    });\n  }\n\n  agent.emit('hideNativeHighlight');\n}\n\nfunction setStyle(\n  agent: Agent,\n  id: number,\n  rendererID: RendererID,\n  name: string,\n  value: string,\n) {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    return;\n  }\n\n  const {instance, style} = data;\n  const newStyle = {[name]: value};\n\n  // TODO It would be nice if the renderer interface abstracted this away somehow.\n  if (instance !== null && typeof instance.setNativeProps === 'function') {\n    // In the case of a host component, we need to use setNativeProps().\n    // Remember to \"correct\" resolved styles when we read them next time.\n    const styleOverrides = componentIDToStyleOverrides.get(id);\n    if (!styleOverrides) {\n      componentIDToStyleOverrides.set(id, newStyle);\n    } else {\n      Object.assign(styleOverrides, newStyle);\n    }\n    // TODO Fabric does not support setNativeProps; chat with Sebastian or Eli\n    instance.setNativeProps({style: newStyle});\n  } else if (isArray(style)) {\n    const lastLength = style.length - 1;\n    if (typeof style[lastLength] === 'object' && !isArray(style[lastLength])) {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style', lastLength, name],\n        value,\n      });\n    } else {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style'],\n        value: style.concat([newStyle]),\n      });\n    }\n  } else {\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: [style, newStyle],\n    });\n  }\n\n  agent.emit('hideNativeHighlight');\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport Bridge from 'react-devtools-shared/src/bridge';\nimport {installHook} from 'react-devtools-shared/src/hook';\nimport {initBackend} from 'react-devtools-shared/src/backend';\nimport {__DEBUG__} from 'react-devtools-shared/src/constants';\nimport setupNativeStyleEditor from 'react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor';\nimport {\n  getDefaultComponentFilters,\n  getIsReloadAndProfileSupported,\n} from 'react-devtools-shared/src/utils';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {\n  ComponentFilter,\n  Wall,\n} from 'react-devtools-shared/src/frontend/types';\nimport type {\n  DevToolsHook,\n  DevToolsHookSettings,\n  ProfilingSettings,\n} from 'react-devtools-shared/src/backend/types';\nimport type {ResolveNativeStyle} from 'react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor';\n\ntype ConnectOptions = {\n  host?: string,\n  nativeStyleEditorValidAttributes?: $ReadOnlyArray<string>,\n  port?: number,\n  useHttps?: boolean,\n  resolveRNStyle?: ResolveNativeStyle,\n  retryConnectionDelay?: number,\n  isAppActive?: () => boolean,\n  websocket?: ?WebSocket,\n  onSettingsUpdated?: (settings: $ReadOnly<DevToolsHookSettings>) => void,\n  isReloadAndProfileSupported?: boolean,\n  isProfiling?: boolean,\n  onReloadAndProfile?: (recordChangeDescriptions: boolean) => void,\n  onReloadAndProfileFlagsReset?: () => void,\n};\n\nlet savedComponentFilters: Array<ComponentFilter> =\n  getDefaultComponentFilters();\n\nfunction debug(methodName: string, ...args: Array<mixed>) {\n  if (__DEBUG__) {\n    console.log(\n      `%c[core/backend] %c${methodName}`,\n      'color: teal; font-weight: bold;',\n      'font-weight: bold;',\n      ...args,\n    );\n  }\n}\n\nexport function initialize(\n  maybeSettingsOrSettingsPromise?:\n    | DevToolsHookSettings\n    | Promise<DevToolsHookSettings>,\n  shouldStartProfilingNow: boolean = false,\n  profilingSettings?: ProfilingSettings,\n) {\n  installHook(\n    window,\n    maybeSettingsOrSettingsPromise,\n    shouldStartProfilingNow,\n    profilingSettings,\n  );\n}\n\nexport function connectToDevTools(options: ?ConnectOptions) {\n  const hook: ?DevToolsHook = window.__REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (hook == null) {\n    // DevTools didn't get injected into this page (maybe b'c of the contentType).\n    return;\n  }\n\n  const {\n    host = 'localhost',\n    nativeStyleEditorValidAttributes,\n    useHttps = false,\n    port = 8097,\n    websocket,\n    resolveRNStyle = (null: $FlowFixMe),\n    retryConnectionDelay = 2000,\n    isAppActive = () => true,\n    onSettingsUpdated,\n    isReloadAndProfileSupported = getIsReloadAndProfileSupported(),\n    isProfiling,\n    onReloadAndProfile,\n    onReloadAndProfileFlagsReset,\n  } = options || {};\n\n  const protocol = useHttps ? 'wss' : 'ws';\n  let retryTimeoutID: TimeoutID | null = null;\n\n  function scheduleRetry() {\n    if (retryTimeoutID === null) {\n      // Two seconds because RN had issues with quick retries.\n      retryTimeoutID = setTimeout(\n        () => connectToDevTools(options),\n        retryConnectionDelay,\n      );\n    }\n  }\n\n  if (!isAppActive()) {\n    // If the app is in background, maybe retry later.\n    // Don't actually attempt to connect until we're in foreground.\n    scheduleRetry();\n    return;\n  }\n\n  let bridge: BackendBridge | null = null;\n\n  const messageListeners = [];\n  const uri = protocol + '://' + host + ':' + port;\n\n  // If existing websocket is passed, use it.\n  // This is necessary to support our custom integrations.\n  // See D6251744.\n  const ws = websocket ? websocket : new window.WebSocket(uri);\n  ws.onclose = handleClose;\n  ws.onerror = handleFailed;\n  ws.onmessage = handleMessage;\n  ws.onopen = function () {\n    bridge = new Bridge({\n      listen(fn) {\n        messageListeners.push(fn);\n        return () => {\n          const index = messageListeners.indexOf(fn);\n          if (index >= 0) {\n            messageListeners.splice(index, 1);\n          }\n        };\n      },\n      send(event: string, payload: any, transferable?: Array<any>) {\n        if (ws.readyState === ws.OPEN) {\n          if (__DEBUG__) {\n            debug('wall.send()', event, payload);\n          }\n\n          ws.send(JSON.stringify({event, payload}));\n        } else {\n          if (__DEBUG__) {\n            debug(\n              'wall.send()',\n              'Shutting down bridge because of closed WebSocket connection',\n            );\n          }\n\n          if (bridge !== null) {\n            bridge.shutdown();\n          }\n\n          scheduleRetry();\n        }\n      },\n    });\n    bridge.addListener(\n      'updateComponentFilters',\n      (componentFilters: Array<ComponentFilter>) => {\n        // Save filter changes in memory, in case DevTools is reloaded.\n        // In that case, the renderer will already be using the updated values.\n        // We'll lose these in between backend reloads but that can't be helped.\n        savedComponentFilters = componentFilters;\n      },\n    );\n\n    // The renderer interface doesn't read saved component filters directly,\n    // because they are generally stored in localStorage within the context of the extension.\n    // Because of this it relies on the extension to pass filters.\n    // In the case of the standalone DevTools being used with a website,\n    // saved filters are injected along with the backend script tag so we shouldn't override them here.\n    // This injection strategy doesn't work for React Native though.\n    // Ideally the backend would save the filters itself, but RN doesn't provide a sync storage solution.\n    // So for now we just fall back to using the default filters...\n    if (window.__REACT_DEVTOOLS_COMPONENT_FILTERS__ == null) {\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      bridge.send('overrideComponentFilters', savedComponentFilters);\n    }\n\n    // TODO (npm-packages) Warn if \"isBackendStorageAPISupported\"\n    // $FlowFixMe[incompatible-call] found when upgrading Flow\n    const agent = new Agent(bridge, isProfiling, onReloadAndProfile);\n    if (typeof onReloadAndProfileFlagsReset === 'function') {\n      onReloadAndProfileFlagsReset();\n    }\n\n    if (onSettingsUpdated != null) {\n      agent.addListener('updateHookSettings', onSettingsUpdated);\n    }\n    agent.addListener('shutdown', () => {\n      if (onSettingsUpdated != null) {\n        agent.removeListener('updateHookSettings', onSettingsUpdated);\n      }\n\n      // If we received 'shutdown' from `agent`, we assume the `bridge` is already shutting down,\n      // and that caused the 'shutdown' event on the `agent`, so we don't need to call `bridge.shutdown()` here.\n      hook.emit('shutdown');\n    });\n\n    initBackend(hook, agent, window, isReloadAndProfileSupported);\n\n    // Setup React Native style editor if the environment supports it.\n    if (resolveRNStyle != null || hook.resolveRNStyle != null) {\n      setupNativeStyleEditor(\n        // $FlowFixMe[incompatible-call] found when upgrading Flow\n        bridge,\n        agent,\n        ((resolveRNStyle || hook.resolveRNStyle: any): ResolveNativeStyle),\n        nativeStyleEditorValidAttributes ||\n          hook.nativeStyleEditorValidAttributes ||\n          null,\n      );\n    } else {\n      // Otherwise listen to detect if the environment later supports it.\n      // For example, Flipper does not eagerly inject these values.\n      // Instead it relies on the React Native Inspector to lazily inject them.\n      let lazyResolveRNStyle;\n      let lazyNativeStyleEditorValidAttributes;\n\n      const initAfterTick = () => {\n        if (bridge !== null) {\n          setupNativeStyleEditor(\n            bridge,\n            agent,\n            lazyResolveRNStyle,\n            lazyNativeStyleEditorValidAttributes,\n          );\n        }\n      };\n\n      if (!hook.hasOwnProperty('resolveRNStyle')) {\n        Object.defineProperty(\n          hook,\n          'resolveRNStyle',\n          ({\n            enumerable: false,\n            get() {\n              return lazyResolveRNStyle;\n            },\n            set(value: $FlowFixMe) {\n              lazyResolveRNStyle = value;\n              initAfterTick();\n            },\n          }: Object),\n        );\n      }\n      if (!hook.hasOwnProperty('nativeStyleEditorValidAttributes')) {\n        Object.defineProperty(\n          hook,\n          'nativeStyleEditorValidAttributes',\n          ({\n            enumerable: false,\n            get() {\n              return lazyNativeStyleEditorValidAttributes;\n            },\n            set(value: $FlowFixMe) {\n              lazyNativeStyleEditorValidAttributes = value;\n              initAfterTick();\n            },\n          }: Object),\n        );\n      }\n    }\n  };\n\n  function handleClose() {\n    if (__DEBUG__) {\n      debug('WebSocket.onclose');\n    }\n\n    if (bridge !== null) {\n      bridge.emit('shutdown');\n    }\n\n    scheduleRetry();\n  }\n\n  function handleFailed() {\n    if (__DEBUG__) {\n      debug('WebSocket.onerror');\n    }\n\n    scheduleRetry();\n  }\n\n  function handleMessage(event: MessageEvent) {\n    let data;\n    try {\n      if (typeof event.data === 'string') {\n        data = JSON.parse(event.data);\n        if (__DEBUG__) {\n          debug('WebSocket.onmessage', data);\n        }\n      } else {\n        throw Error();\n      }\n    } catch (e) {\n      console.error(\n        '[React DevTools] Failed to parse JSON: ' + (event.data: any),\n      );\n      return;\n    }\n    messageListeners.forEach(fn => {\n      try {\n        fn(data);\n      } catch (error) {\n        // jsc doesn't play so well with tracebacks that go into eval'd code,\n        // so the stack trace here will stop at the `eval()` call. Getting the\n        // message that caused the error is the best we can do for now.\n        console.log('[React DevTools] Error calling listener', data);\n        console.log('error:', error);\n        throw error;\n      }\n    });\n  }\n}\n\ntype ConnectWithCustomMessagingOptions = {\n  onSubscribe: (cb: Function) => void,\n  onUnsubscribe: (cb: Function) => void,\n  onMessage: (event: string, payload: any) => void,\n  nativeStyleEditorValidAttributes?: $ReadOnlyArray<string>,\n  resolveRNStyle?: ResolveNativeStyle,\n  onSettingsUpdated?: (settings: $ReadOnly<DevToolsHookSettings>) => void,\n  isReloadAndProfileSupported?: boolean,\n  isProfiling?: boolean,\n  onReloadAndProfile?: (recordChangeDescriptions: boolean) => void,\n  onReloadAndProfileFlagsReset?: () => void,\n};\n\nexport function connectWithCustomMessagingProtocol({\n  onSubscribe,\n  onUnsubscribe,\n  onMessage,\n  nativeStyleEditorValidAttributes,\n  resolveRNStyle,\n  onSettingsUpdated,\n  isReloadAndProfileSupported = getIsReloadAndProfileSupported(),\n  isProfiling,\n  onReloadAndProfile,\n  onReloadAndProfileFlagsReset,\n}: ConnectWithCustomMessagingOptions): Function {\n  const hook: ?DevToolsHook = window.__REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (hook == null) {\n    // DevTools didn't get injected into this page (maybe b'c of the contentType).\n    return;\n  }\n\n  const wall: Wall = {\n    listen(fn: Function) {\n      onSubscribe(fn);\n\n      return () => {\n        onUnsubscribe(fn);\n      };\n    },\n    send(event: string, payload: any) {\n      onMessage(event, payload);\n    },\n  };\n\n  const bridge: BackendBridge = new Bridge(wall);\n\n  bridge.addListener(\n    'updateComponentFilters',\n    (componentFilters: Array<ComponentFilter>) => {\n      // Save filter changes in memory, in case DevTools is reloaded.\n      // In that case, the renderer will already be using the updated values.\n      // We'll lose these in between backend reloads but that can't be helped.\n      savedComponentFilters = componentFilters;\n    },\n  );\n\n  if (window.__REACT_DEVTOOLS_COMPONENT_FILTERS__ == null) {\n    bridge.send('overrideComponentFilters', savedComponentFilters);\n  }\n\n  const agent = new Agent(bridge, isProfiling, onReloadAndProfile);\n  if (typeof onReloadAndProfileFlagsReset === 'function') {\n    onReloadAndProfileFlagsReset();\n  }\n\n  if (onSettingsUpdated != null) {\n    agent.addListener('updateHookSettings', onSettingsUpdated);\n  }\n  agent.addListener('shutdown', () => {\n    if (onSettingsUpdated != null) {\n      agent.removeListener('updateHookSettings', onSettingsUpdated);\n    }\n\n    // If we received 'shutdown' from `agent`, we assume the `bridge` is already shutting down,\n    // and that caused the 'shutdown' event on the `agent`, so we don't need to call `bridge.shutdown()` here.\n    hook.emit('shutdown');\n  });\n\n  const unsubscribeBackend = initBackend(\n    hook,\n    agent,\n    window,\n    isReloadAndProfileSupported,\n  );\n\n  const nativeStyleResolver: ResolveNativeStyle | void =\n    resolveRNStyle || hook.resolveRNStyle;\n\n  if (nativeStyleResolver != null) {\n    const validAttributes =\n      nativeStyleEditorValidAttributes ||\n      hook.nativeStyleEditorValidAttributes ||\n      null;\n\n    setupNativeStyleEditor(bridge, agent, nativeStyleResolver, validAttributes);\n  }\n\n  return unsubscribeBackend;\n}\n"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","ErrorStackParser","require","React","assign","Object","ReactSharedInternals","__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","REACT_CONTEXT_TYPE","for","REACT_MEMO_CACHE_SENTINEL","hasOwnProperty","hookLog","primitiveStackCache","getPrimitiveStackCache","cache","Map","Dispatcher","useContext","_currentValue","useState","useReducer","s","useRef","useCacheRefresh","useLayoutEffect","useInsertionEffect","useEffect","useImperativeHandle","useDebugValue","useCallback","useTransition","useSyncExternalStore","useDeferredValue","useMemo","useOptimistic","useFormState","useActionState","useHostTransitionStatus","useMemoCache","use","$$typeof","then","status","value","x","useId","useEffectEvent","readHookLog","i","length","hook","set","primitive","parse","stackError","currentFiber","currentHook","currentContextDependency","currentThenableIndex","currentThenableState","nextHook","next","readContext","context","Error","call","memoizedValue","SuspenseException","usable","fulfilledValue","push","displayName","debugInfo","_debugInfo","dispatcherHookName","reason","String","callback","memoizedState","create","ref","instance","current","nextCreate","reducer","initialArg","init","initialValue","initialState","formatterFn","stateHook","subscribe","getSnapshot","action","error","passthrough","size","fiber","updateQueue","memoCache","data","index","Array","DispatcherProxyHandler","get","target","prop","name","DispatcherProxy","Proxy","mostLikelyAncestorIndex","findSharedIndex","hookStack","rootStack","rootIndex","source","a","b","isReactWrapper","functionName","wrapperName","parseHookName","startIndex","lastIndexOf","slice","startsWith","buildTree","rootStack$jscomp$0","rootChildren","prevStack","levelChildren","nativeHookID","stackOfChildren","JSCompiler_inline_result","i$jscomp$0","pop","id","isStateEditable","subHooks","hookSource","lineNumber","columnNumber","fileName","processDebugValues","hooksTree","parentHooksNode","debugValueHooksNodes","hooksNode","splice","map","_ref","handleRenderFunctionError","wrapperError","cause","inspectHooks","renderFunction","props","currentDispatcher","previousDispatcher","H","ancestorStackError","restoreContexts","contextMap","forEach","exports","inspectHooksOfFiber","tag","thenableState","dependencies","_debugThenableState","thenables","isArray","firstContext","dependencies_old","dependencies_new","contextDependencies","first","type","memoizedProps","elementType","defaultProps","propName","_context","has","return","render","process","env","NODE_ENV","module","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_CONSUMER_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_ACTIVITY_TYPE","REACT_POSTPONE_TYPE","REACT_VIEW_TRANSITION_TYPE","MAYBE_ITERATOR_SYMBOL","getIteratorFn","maybeIterable","ReactNoopUpdateQueue","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","emptyObject","Component","updater","refs","isReactComponent","setState","partialState","forceUpdate","ComponentDummy","PureComponent","pureComponentPrototype","isPureReactComponent","isArrayImpl","noop","A","T","S","G","ReactElement","key","refProp","cloneAndReplaceKey","oldElement","newKey","isValidElement","object","escape","escaperLookup","replace","match","userProvidedKeyEscapeRegex","getElementKey","element","toString","resolveThenable","thenable","mapIntoArray","children","array","escapedPrefix","nameSoFar","invokeCallback","_init","_payload","c","nextNamePrefix","done","keys","join","mapChildren","func","result","count","child","lazyInitializer","payload","_status","ctor","_result","moduleObject","default","reportGlobalError","reportError","window","ErrorEvent","event","bubbles","cancelable","message","dispatchEvent","emit","console","startTransition","scope","prevTransition","currentTransition","types","gesture","returnValue","onStartTransitionFinish","addTransitionType","transition","transitionTypes","indexOf","bind","Children","forEachFunc","forEachContext","apply","arguments","n","toArray","only","Activity","Fragment","Profiler","StrictMode","Suspense","ViewTransition","__COMPILER_RUNTIME","__proto__","fn","cacheSignal","cloneElement","config","childArray","createContext","defaultValue","_currentValue2","_threadCount","Provider","Consumer","createElement","childrenLength","createRef","experimental_useOptimistic","forwardRef","lazy","memo","compare","unstable_Activity","unstable_SuspenseList","unstable_getCacheForType","resourceType","dispatcher","getCacheForType","unstable_postpone","unstable_startGestureTransition","provider","options","onStartGestureTransitionFinish","unstable_useCacheRefresh","permalink","deps","Context","getServerSnapshot","version","root","factory","define","amd","StackFrame","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","ErrorStackParser$$parse","stacktrace","parseOpera","stack","parseV8OrIE","parseFFOrSafari","extractLocation","ErrorStackParser$$extractLocation","urlLike","regExp","parts","exec","undefined","ErrorStackParser$$parseV8OrIE","filtered","split","filter","line","sanitizedLine","location","tokens","locationParts","ErrorStackParser$$parseFFOrSafari","functionNameRegex","matches","ErrorStackParser$$parseOpera","e","parseOpera9","parseOpera10","parseOpera11","ErrorStackParser$$parseOpera9","lineRE","lines","len","ErrorStackParser$$parseOpera10","ErrorStackParser$$parseOpera11","functionCall","shift","argsRaw","args","_classCallCheck","Constructor","TypeError","_defineProperties","descriptor","enumerable","configurable","writable","defineProperty","_toPropertyKey","_createClass","protoProps","staticProps","t","_toPrimitive","r","toPrimitive","Number","Yallist","MAX","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","UPDATE_AGE_ON_GET","naiveLength","LRUCache","max","Infinity","lc","stale","maxAge","dispose","noDisposeOnSet","updateAgeOnGet","reset","mL","trim","allowStale","mA","lC","_this","hit","rforEach","thisp","walker","tail","prev","forEachStep","head","k","values","_this2","dump","_this3","isStale","v","now","h","dumpLru","Date","del","node","item","Entry","unshift","peek","load","arr","l","expiresAt","prune","_this4","self","doUse","unshiftNode","diff","delete","removeNode","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","run","nextTick","Item","title","browser","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","_isNumber","isNaN","parseFloat","isFinite","_capitalize","str","charAt","toUpperCase","substring","_getter","p","booleanProps","numericProps","stringProps","arrayProps","obj","getArgs","setArgs","getEvalOrigin","evalOrigin","setEvalOrigin","getFileName","getLineNumber","getColumnNumber","getFunctionName","getIsEval","fromString","StackFrame$$fromString","argsStartIndex","argsEndIndex","locationString","Boolean","j","_regeneratorRuntime","asyncIterator","u","toStringTag","wrap","Generator","makeInvokeMethod","tryCatch","arg","f","y","GeneratorFunction","GeneratorFunctionPrototype","d","getPrototypeOf","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","resolve","__await","callInvokeWithMethodAndArg","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","isGeneratorFunction","mark","setPrototypeOf","awrap","async","Promise","reverse","stop","rval","handle","complete","finish","catch","_catch","delegateYield","_callee","_callee$","Node","list","pushNode","res","forEachReverse","getReverse","mapReverse","reduce","initial","acc","reduceReverse","toArrayReverse","from","to","ret","sliceReverse","start","deleteCount","insert","inserted","er","EventEmitter","_defineProperty","listener","listenersMap","_len","_key","didThrow","caughtError","clonedListeners","clear","CHROME_WEBSTORE_EXTENSION_ID","INTERNAL_EXTENSION_ID","LOCAL_EXTENSION_ID","__DEBUG__","__PERFORMANCE_PROFILE__","TREE_OPERATION_ADD","TREE_OPERATION_REMOVE","TREE_OPERATION_REORDER_CHILDREN","TREE_OPERATION_UPDATE_TREE_BASE_DURATION","TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS","TREE_OPERATION_REMOVE_ROOT","TREE_OPERATION_SET_SUBTREE_MODE","SUSPENSE_TREE_OPERATION_ADD","SUSPENSE_TREE_OPERATION_REMOVE","SUSPENSE_TREE_OPERATION_REORDER_CHILDREN","SUSPENSE_TREE_OPERATION_RESIZE","SUSPENSE_TREE_OPERATION_SUSPENDERS","PROFILING_FLAG_BASIC_SUPPORT","PROFILING_FLAG_TIMELINE_SUPPORT","PROFILING_FLAG_PERFORMANCE_TRACKS_SUPPORT","UNKNOWN_SUSPENDERS_NONE","UNKNOWN_SUSPENDERS_REASON_PRODUCTION","UNKNOWN_SUSPENDERS_REASON_OLD_VERSION","UNKNOWN_SUSPENDERS_REASON_THROWN_PROMISE","LOCAL_STORAGE_DEFAULT_TAB_KEY","LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY","SESSION_STORAGE_LAST_SELECTION_KEY","LOCAL_STORAGE_OPEN_IN_EDITOR_URL","LOCAL_STORAGE_OPEN_IN_EDITOR_URL_PRESET","LOCAL_STORAGE_ALWAYS_OPEN_IN_EDITOR","LOCAL_STORAGE_PARSE_HOOK_NAMES_KEY","SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY","SESSION_STORAGE_RECORD_TIMELINE_KEY","SESSION_STORAGE_RELOAD_AND_PROFILE_KEY","LOCAL_STORAGE_BROWSER_THEME","LOCAL_STORAGE_TRACE_UPDATES_ENABLED_KEY","LOCAL_STORAGE_SUPPORTS_PROFILING_KEY","PROFILER_EXPORT_VERSION","FIREFOX_CONSOLE_DIMMING_COLOR","ANSI_STYLE_DIMMING_TEMPLATE","ANSI_STYLE_DIMMING_TEMPLATE_WITH_COMPONENT_STACK","compareVersions","v1","v2","n1","validateAndParse","n2","p1","p2","compareSegments","validate","test","semver","operator","assertValidOperator","operatorResMap","includes","satisfies","range","m","op","_validateAndParse","_validateAndParse2","_slicedToArray","v3","vp","_validateAndParse3","_validateAndParse4","r1","r2","r3","rp","nonZero","findIndex","isWildcard","tryParse","parseInt","forceType","compareStrings","_forceType","_forceType2","ap","bp","Math","allowedOperators","enableHydrationLaneScheduling","disableSchedulerTimeoutInWorkLoop","enableSuspenseCallback","enableScopeAPI","enableCreateEventHandleAPI","enableLegacyFBSupport","enableYieldingBeforePassive","enableThrottledScheduling","enableLegacyCache","__EXPERIMENTAL__","enableAsyncIterableChildren","enableTaint","enablePostpone","enableHalt","enableViewTransition","enableGestureTransition","enableScrollEndPolyfill","enableSuspenseyImages","enableFizzBlockingRender","enableSrcObject","enableHydrationChangeEvent","enableDefaultTransitionIndicator","enableObjectFiber","enableTransitionTracing","enableLegacyHidden","enableSuspenseAvoidThisFallback","enableCPUSuspense","enableNoCloningMemoCache","enableUseEffectEventHook","enableFizzExternalRuntime","alwaysThrottleRetries","passChildrenWhenCloningPersistedNodes","enableEagerAlternateStateNodeCleanup","enableRetryLaneExpiration","retryLaneExpirationMs","syncLaneExpirationMs","transitionLaneExpirationMs","enableInfiniteRenderLoopDetection","enableFragmentRefs","enableFragmentRefsScrollIntoView","renameElementSymbol","enableHiddenSubtreeInsertionEffectCleanup","disableLegacyContext","disableLegacyContextForFunctionComponents","enableMoveBefore","disableClientCache","enableReactTestRendererWarning","disableLegacyMode","disableCommentsAsDOMContainers","enableTrustedTypesIntegration","disableInputAttributeSyncing","disableTextareaChildren","enableProfilerTimer","__PROFILE__","enableComponentPerformanceTrack","enableSchedulingProfiler","enableProfilerCommitHooks","enableProfilerNestedUpdatePhase","enableAsyncDebugInfo","enableUpdaterTracking","ownerStackLimit","REACT_LEGACY_ELEMENT_TYPE","REACT_SCOPE_TYPE","REACT_LEGACY_HIDDEN_TYPE","REACT_TRACING_MARKER_TYPE","FAUX_ITERATOR_SYMBOL","maybeIterator","ASYNC_ITERATOR","ElementTypeClass","ElementTypeContext","ElementTypeFunction","ElementTypeForwardRef","ElementTypeHostComponent","ElementTypeMemo","ElementTypeOtherOrUnknown","ElementTypeProfiler","ElementTypeRoot","ElementTypeSuspense","ElementTypeSuspenseList","ElementTypeTracingMarker","ElementTypeVirtual","ElementTypeViewTransition","ElementTypeActivity","ComponentFilterElementType","ComponentFilterDisplayName","ComponentFilterLocation","ComponentFilterHOC","ComponentFilterEnvironmentName","LRU","localStorageGetItem","localStorageSetItem","sessionStorageGetItem","sessionStorageRemoveItem","sessionStorageSetItem","meta","isSynchronousXHRSupported","cachedDisplayNames","WeakMap","encodedStringCache","LEGACY_REACT_PROVIDER_TYPE","alphaSortKeys","getAllEnumerableKeys","Set","_loop","currentKeys","_toConsumableArray","getOwnPropertySymbols","descriptors","getOwnPropertyDescriptors","add","getWrappedDisplayName","outerType","innerType","fallbackName","getDisplayName","nameFromCache","uidCounter","getUID","utfDecodeStringWithRanges","left","right","string","fromCodePoint","surrogatePairToCodePoint","charCode1","charCode2","utfEncodeString","cached","encoded","charCode","charCodeAt","printOperationsArray","operations","rendererID","rootID","logs","stringTable","stringTableSize","stringTableEnd","nextLength","nextString","operation","parentID","displayNameStringID","removeLength","removeIndex","mode","numChildren","numErrors","numWarnings","fiberID","nameStringID","isSuspended","numRects","rects","rectIndex","offset","width","height","changeLength","changeIndex","hasUniqueSuspenders","environmentNamesLength","log","getDefaultComponentFilters","isEnabled","getSavedComponentFilters","raw","parsedFilters","JSON","filterOutLocationComponentFilters","setSavedComponentFilters","componentFilters","stringify","vscodeFilepath","getDefaultPreset","EDITOR_URL","getDefaultOpenInEditorURL","getOpenInEditorURL","rawPreset","getAlwaysOpenInEditor","parseElementDisplayNameFromBackend","formattedDisplayName","hocDisplayNames","compiledWithForget","displayNameWithoutForgetWrapper","_parseElementDisplayN","shallowDiffers","attribute","getInObject","path","reduced","attr","deletePathInObject","last","parent","renamePathInObject","oldPath","newPath","lastOld","lastNew","setInObject","isError","getDataType","HTMLElement","ArrayBuffer","isView","toStringValue","isPlainObject","typeOfWithLegacyElementSymbol","$$typeofType","getDisplayNameForReactElement","MAX_PREVIEW_STRING_LENGTH","truncateForDisplay","formatDataForPreview","showFormattedValue","preview_long","preview_short","tagName","toLowerCase","formatted","byteLength","buffer","shortName","entryOrEntries","resolvedConstructorName","sort","objectPrototype","objectParentPrototype","backendToFrontendSerializedElementMapper","_parseElementDisplayN2","_objectSpread","normalizeUrlIfValid","url","URL","_unused","getIsReloadAndProfileSupported","isBackendStorageAPISupported","localStorage","getItem","getIfReloadedAndProfiling","getProfilingSettings","recordChangeDescriptions","recordTimeline","onReloadAndProfile","onReloadAndProfileFlagsReset","unionOfTwoArrays","inspectable","inspected","readonly","unserializable","LEVEL_THRESHOLD","createDehydrated","cleaned","dehydrated","dehydrate","isPathAllowed","level","isPathAllowedCheck","unserializableValue","dehydrateKey","keyAsString","preview","fillInPath","unserializablePath","isMatch","upgradeUnserializable","hydrate","NaN","replaced","replacement","destination","defineProperties","formatWithStyles","formatConsoleArguments","FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER","hasAssignedBackend","gte","cleanForBridge","cleanedPaths","unserializablePaths","cleanedData","copyWithDelete","updated","copyWithRename","oldKey","copyWithSet","getEffectDurations","effectDuration","passiveEffectDuration","hostRoot","stateNode","serializeToString","safeToString","val","err","formatConsoleArgumentsToSingleString","maybeMessage","inputArgs","REGEXP","escaped","ptn","flag","document","featurePolicy","allowsFeature","gt","isReactNativeEnvironment","formatDurationToMicrosecondsGranularity","duration","round","getOwnerWindow","ownerDocument","defaultView","getOwnerIframe","nodeWindow","frameElement","getBoundingClientRectWithBorderOffset","dimensions","getElementDimensions","mergeRectOffsets","getBoundingClientRect","top","borderTop","borderLeft","bottom","borderBottom","borderRight","previousRect","rect","getNestedBoundingClientRect","boundaryWindow","ownerIframe","currentIframe","onlyOneMore","domElement","calculatedStyle","getComputedStyle","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","marginLeft","marginRight","marginTop","marginBottom","paddingLeft","paddingRight","paddingTop","paddingBottom","extractHOCNames","baseComponentName","hocNames","hocRegex","_match","_match2","hocName","inner","OverlayRect","doc","container","border","padding","content","style","borderColor","overlayStyles","backgroundColor","background","margin","pointerEvents","position","zIndex","appendChild","remove","parentNode","removeChild","update","box","dims","boxWrap","OverlayTip","tip","display","flexFlow","borderRadius","fontFamily","fontWeight","fontSize","whiteSpace","nameSpan","color","dimSpan","updateText","textContent","updatePosition","bounds","tipRect","tipPos","findTipPos","Overlay","agent","currentWindow","__REACT_DEVTOOLS_TARGET_WINDOW__","tipBoundsWindow","body","inspect","nodes","elements","nodeType","ELEMENT_NODE","outerBox","POSITIVE_INFINITY","NEGATIVE_INFINITY","min","nodeName","ownerName","getComponentNameForHostInstance","tipBounds","documentElement","scrollY","scrollX","innerHeight","innerWidth","tipSize","tipHeight","tipWidth","what","borderStyle","SHOW_DURATION","timeoutID","overlay","hideOverlayNative","hideOverlayWeb","hideOverlay","showOverlayNative","showOverlayWeb","componentName","hideAfterTimeout","showOverlay","Agent","iframesListeningTo","inspectOnlySuspenseNodes","setupHighlighter","bridge","clearHostInstanceHighlight","highlightHostInstance","highlightHostInstances","scrollToHostInstance","stopInspectingHost","startInspectingHost","onlySuspenseNodes","registerListenersOnWindow","addEventListener","onClick","onMouseEvent","onPointerDown","onPointerMove","onPointerUp","removeListenersOnWindow","frame","contentWindow","removeEventListener","openBuiltinElementsPanel","scrollIntoView","renderer","rendererInterfaces","warn","hasElementWithId","findHostInstancesForElementID","nodeRects","getClientRects","scrollDelayTimer","block","inline","__REACT_DEVTOOLS_GLOBAL_HOOK__","$0","send","_ref2","_elements$i","hostInstances","attemptScrollToHostInstance","behavior","_ref3","findLastKnownRectsForID","clientWidth","clientHeight","scrollTo","preventDefault","stopPropagation","selectElementForNode","getEventTarget","lastHoveredNode","iframe","getIDForHostInstance","getDisplayNameForElementID","composed","composedPath","COLORS","canvas","drawNative","nodeToData","nodesToDraw","iterateNodes","mergedNodes","groupAndSortNodes","drawWeb","initialize","dpr","devicePixelRatio","canvasFlow","getContext","scale","clearRect","group","drawGroupBorders","drawGroupLabel","hidePopover","showPopover","positionGroups","_positionGroups$get","groupA","groupB","maxCountA","maxCountB","beginPath","strokeStyle","stroke","mergedName","_ref4","drawLabel","draw","execute","colorIndex","expirationTime","lastMeasuredAt","text","font","textBaseline","textAlign","textHeight","metrics","measureText","backgroundWidth","backgroundHeight","labelX","labelY","fillStyle","fillRect","fillText","destroyNative","destroyWeb","destroy","setAttribute","cssText","insertBefore","firstChild","destroyCanvas","DISPLAY_DURATION","MAX_DISPLAY_DURATION","REMEASUREMENT_AFTER_DURATION","HOC_MARKERS","getCurrentTime","performance","drawAnimationFrameID","redrawTimeoutID","injectedAgent","traceUpdates","toggleEnabled","cancelAnimationFrame","measureNode","_extractHOCNames","markers","hoc","enhancedDisplayName","requestAnimationFrame","prepareToDraw","earliestExpiration","MAX_VALUE","BRIDGE_PROTOCOL","minNpmVersion","maxNpmVersion","currentBridgeProtocol","Bridge","_EventEmitter","wall","_callSuper","_messageQueue","_this$_wall","_wall","_scheduledFlush","wasForwarded","_wallUnlisten","listen","overrideValueAtPath","_inherits","_isShutdown","devtoolsJestTestScheduler","_flush","queueMicrotask","shutdown","wallUnlisten","localStorageRemoveItem","removeItem","setItem","sessionStorage","setupTraceUpdates","setTraceUpdatesEnabled","debug","methodName","_console","createEmptyInspectedScreen","arbitraryRootID","suspendedBy","isErrored","errors","warnings","suspendedByRange","unknownSuspenders","rootType","plugins","stylex","nativeTag","rendererPackageName","rendererVersion","canEditFunctionProps","canEditHooks","canEditFunctionPropsDeletePaths","canEditFunctionPropsRenamePaths","canEditHooksAndDeletePaths","canEditHooksAndRenamePaths","canToggleError","canToggleSuspense","hasLegacyContext","hooks","state","owners","mergeRoots","suspendedByOffset","leftSuspendedByRange","rightSuspendedByRange","leftSuspendedBy","leftSuspendedByData","rightSuspendedByData","isProfiling","_rendererInterfaces","clearErrorsAndWarnings","clearErrorsForElementID","clearWarningsForElementID","_ref5","getSerializedElementValueByPath","_bridge","_ref6","hookID","deletePath","DEVTOOLS_VERSION","_ref7","getProfilingData","_isProfiling","_ref8","getOwnersList","_ref9","forceFullData","requestID","inspectElement","_persistedSelectionMatch","_persistedSelection","setTrackedPath","_lastSelectedElementID","_lastSelectedRendererID","_persistSelectionTimerScheduled","_persistSelection","_ref10","screenPath","inspectedScreen","found","suspendedByPathIndex","rendererPath","secondaryCategory","suspendedByPathRendererIndex","rendererHasRequestedSuspendedByPath","getElementAttributeByPath","inspectedRootsPayload","inspectedRoots","dehydratedSuspendedBy","rootsSuspendedBy","responseID","_ref11","logElementToConsole","_ref12","forceError","overrideError","_ref13","forceFallback","overrideSuspense","_ref14","suspendedSet","supportsTogglingSuspense","overrideSuspenseMilestone","_ref15","_ref16","_ref17","_ref18","_ref19","_ref20","_onReloadAndProfile","_ref21","renamePath","traceUpdatesEnabled","_traceUpdatesEnabled","selectNode","_ref22","startProfiling","stopProfiling","selected","_ref23","storeAsGlobal","settings","rendererIDString","getPathForElement","updateComponentFilters","accumulatedNames","names","getEnvironmentNames","prevMatch","nextMatch","getBestMatchForTrackedPath","prevMatchID","nextMatchID","isFullMatch","persistedSelectionString","copyElementPath","getBackendVersion","getBridgeProtocol","getProfilingStatus","inspectScreen","reloadAndProfile","syncSelectionFromBuiltinElementsPanel","updateHookSettings","getHookSettings","getIfHasUnsupportedRendererVersion","overrideContext","overrideHookState","overrideProps","overrideState","getInstanceAndStyle","_ref24","getSuspenseNodeIDForHostInstance","getElementIDForHostInstance","bestMatch","bestRenderer","bestRendererID","nearestNode","getNearestMountedDOMNode","contains","registerRendererInterface","rendererInterface","devRenderer","bundleType","enableSuspenseTab","selection","onUnsupportedRenderer","disabledDepth","prevLog","prevInfo","prevWarn","prevError","prevGroup","prevGroupCollapsed","prevGroupEnd","disabledLog","__reactDisabledLog","disableLogs","info","groupCollapsed","groupEnd","reenableLogs","prefix","describeBuiltInComponentFrame","suffix","__IS_CHROME__","__IS_EDGE__","__IS_NATIVE__","__IS_FIREFOX__","describeDebugInfoFrame","reentry","componentFrameCache","__DEV__","PossiblyWeakMap","describeNativeComponentFrame","construct","currentDispatcherRef","previousPrepareStackTrace","prepareStackTrace","RunInRootFrame","DetermineComponentFrameRoot","control","Fake","Reflect","maybePromise","sample","namePropDescriptor","getOwnPropertyDescriptor","_RunInRootFrame$Deter","_RunInRootFrame$Deter2","sampleStack","controlStack","sampleLines","controlLines","syntheticFrame","describeClassComponentFrame","describeFunctionComponentFrame","formatOwnerStack","prevPrepareStackTrace","idx","getOwnerStackByComponentInfoInDev","componentInfo","owner","ownerStack","debugStack","componentInfoToComponentLogsMap","supportsConsoleTasks","debugTask","attach","global","getCurrentComponentInfo","getComponentStack","topFrame","enableOwnerStacks","componentStack","topStackFrames","onErrorOrWarning","format","componentLogsEntry","errorsCount","warningsCount","messageMap","cleanup","flushInitialOperations","handleCommitFiberRoot","handleCommitFiberUnmount","handlePostCommitFiberRoot","getElementSourceFunctionById","parseStackTraceFromChromeStack","skipFrames","frames","parsedFrames","parsed","chromeFrameRegExp","isAsync","filename","col","firefoxFrameRegExp","parseStackTraceFromFirefoxStack","CHROME_STACK_REGEXP","parseStackTraceFromString","framesToSkip","collectedStackTrace","identifierRegExp","getMethodCallName","callSite","typeName","getTypeName","getMethodName","endsWith","collectStackTrace","structuredStackTrace","isNative","isConstructor","isToplevel","getScriptNameOrSourceURL","isEval","origin","enclosingLine","getEnclosingLineNumber","enclosingCol","getEnclosingColumnNumber","stackTraceCache","parseStackTrace","existing","previousPrepare","extractLocationFromOwnerStack","stackTrace","_stackTrace$i","encLine","encCol","extractLocationFromComponentStack","_stackTrace$i2","CONCURRENT_MODE_NUMBER","CONCURRENT_MODE_SYMBOL_STRING","CONTEXT_NUMBER","CONTEXT_SYMBOL_STRING","SERVER_CONTEXT_SYMBOL_STRING","DEPRECATED_ASYNC_MODE_SYMBOL_STRING","ELEMENT_SYMBOL_STRING","LEGACY_ELEMENT_NUMBER","LEGACY_ELEMENT_SYMBOL_STRING","DEBUG_TRACING_MODE_NUMBER","DEBUG_TRACING_MODE_SYMBOL_STRING","FORWARD_REF_NUMBER","FORWARD_REF_SYMBOL_STRING","FRAGMENT_NUMBER","FRAGMENT_SYMBOL_STRING","LAZY_NUMBER","LAZY_SYMBOL_STRING","MEMO_NUMBER","MEMO_SYMBOL_STRING","PORTAL_NUMBER","PORTAL_SYMBOL_STRING","PROFILER_NUMBER","PROFILER_SYMBOL_STRING","PROVIDER_NUMBER","PROVIDER_SYMBOL_STRING","CONSUMER_SYMBOL_STRING","SCOPE_NUMBER","SCOPE_SYMBOL_STRING","STRICT_MODE_NUMBER","STRICT_MODE_SYMBOL_STRING","SUSPENSE_NUMBER","SUSPENSE_SYMBOL_STRING","SUSPENSE_LIST_NUMBER","SUSPENSE_LIST_SYMBOL_STRING","SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED_SYMBOL_STRING","enableLogger","enableStyleXFeatures","isInternalFacebookBuild","is","objectIs","getIODescription","href","src","currentSrc","command","request","response","describeFiber","workTagMap","workInProgress","HostHoistable","HostSingleton","HostComponent","LazyComponent","SuspenseComponent","SuspenseListComponent","FunctionComponent","IndeterminateComponent","SimpleMemoComponent","ForwardRef","ClassComponent","ViewTransitionComponent","ActivityComponent","getStackByFiberInDevAndProd","entry","getSourceLocationByFiber","_debugTask","supportsOwnerStacks","_debugStack","getOwnerStackByFiberInDev","HostText","_debugOwner","cachedStyleNameToValueMap","getStyleXData","sources","resolvedStyles","crawlData","crawlObjectProperties","fromEntries","entries","propertyValue","getPropertyValueForStyleName","nestedStyle","styleName","styleSheetIndex","styleSheets","styleSheet","rules","cssRules","_e","ruleIndex","CSSStyleRule","rule","selectorText","property","getPropertyValue","CHANGE_LOG_URL","UNSUPPORTED_VERSION_URL","REACT_DEVTOOLS_WORKPLACE_URL","THEME_STYLES","light","dark","compact","comfortable","COMFORTABLE_LINE_HEIGHT","COMPACT_LINE_HEIGHT","REACT_TOTAL_NUM_LANES","SCHEDULING_PROFILER_VERSION","SNAPSHOT_MAX_HEIGHT","TIME_OFFSET","performanceTarget","supportsUserTiming","clearMarks","supportsUserTimingV3","CHECK_V3_MARK","markOptions","setPerformanceMock_ONLY_FOR_TESTING","performanceMock","createProfilingHooks","getDisplayNameForFiber","getIsProfiling","getLaneLabelMap","reactVersion","currentBatchUID","currentReactComponentMeasure","currentReactMeasuresStack","currentTimelineData","currentFiberStacks","nextRenderShouldStartNewBatch","getRelativeTime","currentTime","startTime","getInternalModuleRanges","ranges","getTimelineData","laneToLanesArray","lanes","lanesArray","lane","laneToLabelMap","markMetadata","markAndClear","_ranges$i","startStackFrame","stopStackFrame","labels","markName","recordReactMeasureStarted","depth","reactMeasure","batchUID","timestamp","_currentTimelineData","batchUIDToMeasuresMap","laneToReactMeasureMap","reactMeasures","recordReactMeasureCompleted","markCommitStarted","markCommitStopped","markComponentRenderStarted","warning","markComponentRenderStopped","componentMeasures","markComponentLayoutEffectMountStarted","markComponentLayoutEffectMountStopped","markComponentLayoutEffectUnmountStarted","markComponentLayoutEffectUnmountStopped","markComponentPassiveEffectMountStarted","markComponentPassiveEffectMountStopped","markComponentPassiveEffectUnmountStarted","markComponentPassiveEffectUnmountStopped","markComponentErrored","thrownValue","phase","alternate","thrownErrors","wakeableIDs","wakeableID","getWakeableID","wakeable","markComponentSuspended","eventType","suspenseEvent","promiseName","resolution","suspenseEvents","markLayoutEffectsStarted","markLayoutEffectsStopped","markPassiveEffectsStarted","markPassiveEffectsStopped","markRenderStarted","markRenderYielded","markRenderStopped","markRenderScheduled","schedulingEvents","markForceUpdateScheduled","getParentFibers","parents","markStateUpdateScheduled","toggleProfilingStatus","internalModuleSourceToRanges","_ranges$i2","flamechart","nativeEvents","networkMeasures","otherUserTimingMarks","snapshots","snapshotHeight","fiberStack","trace","profilingHooks","FIBER_INSTANCE","VIRTUAL_INSTANCE","FILTERED_FIBER_INSTANCE","createFiberInstance","kind","nextSibling","logCount","treeBaseDuration","suspenseNode","createFilteredFiberInstance","createVirtualInstance","debugEntry","NoUpdate","ShouldResetChildren","ShouldResetSuspenseChildren","ShouldResetParentSuspenseChildren","createSuspenseNode","environments","hasUnknownSuspenders","getDispatcherRef","injectedRef","getFiberFlags","flags","effectTag","getInternalReactConstants","ReactPriorityLevels","ImmediatePriority","UserBlockingPriority","NormalPriority","LowPriority","IdlePriority","NoPriority","StrictModeBits","SuspenseyImagesMode","ReactTypeOfWork","CacheComponent","ContextConsumer","ContextProvider","CoroutineComponent","CoroutineHandlerPhase","DehydratedSuspenseComponent","HostPortal","HostRoot","IncompleteClassComponent","IncompleteFunctionComponent","LegacyHiddenComponent","MemoComponent","Mode","OffscreenComponent","ScopeComponent","TracingMarkerComponent","YieldComponent","Throw","getTypeSymbol","symbolOrNumber","_ReactTypeOfWork","resolveFiberType","typeSymbol","_fiber$updateQueue","_fiber$memoizedState","_fiber$memoizedState$","_fiber$memoizedState2","shouldSkipForgetCheck","resolvedType","resolvedContext","fiberRoot","_debugRootType","knownEnvironmentNames","rootToFiberInstanceMap","idToDevToolsInstanceMap","idToSuspenseNodeMap","publicInstanceToDevToolsInstanceMap","hostResourceToDevToolsInstanceMap","getPublicInstance","canonical","publicInstance","_nativeTag","getNativeTag","aquireHostInstance","nearestInstance","hostInstance","releaseHostInstance","aquireHostResource","resource","resourceInstances","releaseHostResource","_iterator","_createForOfIteratorHelper","_step","firstInstance","shouldStartProfilingNow","profilingSettings","reconcilerVersion","_getInternalReactCons","injectProfilingHooks","overrideHookStateDeletePath","overrideHookStateRenamePath","overridePropsDeletePath","overridePropsRenamePath","scheduleRefresh","setErrorHandler","setSuspenseHandler","scheduleUpdate","scheduleRetry","getCurrentFiber","supportsTogglingError","supportsPerformanceTracks","fiberToComponentLogsMap","needsToFlushComponentLogs","bruteForceFlushErrorsAndWarnings","hasChanges","_iterator2","_step2","devtoolsInstance","changed","recordConsoleLogs","updateMostRecentlyInspectedElementIfNecessary","flushPendingEvents","_iterator3","_step3","clearConsoleLogsHelper","instanceID","mostRecentlyInspectedElement","hasElementUpdatedSinceLastInspected","dispatcherRef","forceErrorForFibers","parentInstance","extraString","maybeID","parentDisplayName","maybeParentID","debugTree","indent","repeat","hideElementsWithDisplayNames","hideElementsWithPaths","hideElementsWithTypes","hideElementsWithEnvs","traceUpdatesForNodes","applyComponentFilters","componentFilter","isValid","RegExp","__REACT_DEVTOOLS_COMPONENT_FILTERS__","componentFiltersWithoutLocationBasedOnes","getFiberRoots","rootInstance","currentRoot","unmountInstanceRecursively","rootDisplayNameCounter","newRoot","trackedPath","mightBeOnTrackedPath","setRootPseudoKey","mountFiberRecursively","isFiberHydrated","rootState","isDehydrated","suspenseState","shouldFilterVirtual","secondaryEnv","_iterator4","_step4","displayNameRegExp","shouldFilterFiber","getElementTypeForFiber","_iterator5","_step5","untrackFiber","shouldErrorFiberAlwaysNull","forceFallbackForFibers","shouldSuspendFiberAlwaysFalse","sibling","getChangeDescription","prevFiber","nextFiber","didHooksChange","isFirstMount","getContextChanged","getChangedKeys","indices","getChangedHooksIndices","prevContext","nextContext","isHookThatCanScheduleUpdate","hookObject","boundHasOwnProperty","didStatefulHookChange","prevMemoizedState","nextMemoizedState","changedKeys","_iterator6","_step6","didFiberRender","PerformedWork","pendingOperations","pendingRealUnmountedIDs","pendingRealUnmountedSuspenseIDs","pendingSuspenderChanges","pendingOperationsQueue","pendingStringTable","pendingStringTableLength","pendingUnmountedRootID","pushOperation","isInteger","shouldBailoutWithPendingOperations","currentCommitProfilingMetadata","durations","flushOrQueueOperations","totalCount","numUnmountIDs","numUnmountSuspenseIDs","numSuspenderChanges","stringKey","encodedString","fiberIdWithChanges","suspense","getStringID","measureHostInstance","scrollWidth","scrollHeight","win","createRange","selectNodeContents","unstable_getBoundingClientRect","measureInstance","findAllCurrentHostInstances","childResult","existingEntry","isInDisconnectedSubtree","recordMount","isRoot","fiberInstance","recordReconnect","isProfilingSupported","hasOwnerMetadata","profilingFlags","isProductionBuildOfRenderer","displayNamesByRootID","getDisplayNameForRoot","debugOwner","getUnfilteredOwner","ownerInstance","findNearestOwnerInstance","unfilteredParent","ownerID","keyString","keyStringID","nameProp","namePropString","namePropStringID","parentFiber","parentFiberInstance","recordProfilingDurations","recordVirtualMount","recordVirtualReconnect","recordSuspenseMount","suspenseInstance","parentSuspenseInstance","unfilteredParentInstance","recordUnmount","reconcilingParent","recordDisconnect","recordSuspenseUnmount","trackedPathMatchInstance","recordSuspenseResize","recordSuspenseSuspenders","reconcilingParentSuspenseNode","remainingReconcilingChildren","previouslyReconciledSibling","remainingReconcilingChildrenSuspenseNodes","previouslyReconciledSiblingSuspenseNode","ioExistsInSuspenseAncestor","ioInfo","ancestor","insertSuspendedBy","asyncInfo","parentSuspenseNode","suspenseNodeSuspendedBy","awaited","suspendedBySet","environmentCounts","getAwaitInSuspendedByFromIO","suspensedBy","unblockSuspendedBy","removePreviousSuspendedBy","previousSuspendedBy","nextSuspendedBy","changedEnvironment","alreadyRemovedIO","removedIOInfo","insertChild","moveChild","previousSibling","previousSuspenseSibling","isHiddenOffscreen","isSuspendedOffscreen","unmountRemainingChildren","unmountSuspenseChildrenRecursively","contentInstance","stashedSuspenseParent","stashedSuspensePrevious","stashedSuspenseRemaining","isChildOf","childInstance","grandParent","areEqualRects","aRect","bRect","measureUnchangedSuspenseNodesRecursively","isSuspendedSuspenseComponent","nextRects","prevRects","consumeSuspenseNodesOfExistingInstance","foundOne","previousSkippedSibling","nextRemainingSibling","mountVirtualInstanceRecursively","virtualInstance","lastChild","traceNearestHostComponentUpdate","virtualLevel","mightSiblingsBeOnTrackedPath","updateVirtualTrackedPathStateBeforeMount","stashedParent","stashedPrevious","stashedRemaining","mountVirtualChildrenRecursively","recordVirtualProfilingDurations","updateTrackedPathStateAfterMount","recordVirtualUnmount","recordVirtualDisconnect","getSecondaryEnvironmentName","trackDebugInfoFromLazyType","trackDebugInfoFromUsedThenables","usedThenables","hostAsyncInfoCache","trackDebugInfoFromHostResource","mayResourceSuspendCommit","media","matchMedia","end","byteSize","getEntriesByType","resourceEntries","resourceEntry","transferSize","sheet","promise","trackDebugInfoFromHostComponent","maySuspendCommit","onLoad","loading","fileSize","decodedBodySize","naturalWidth","naturalHeight","trackThrownPromisesFromRetryCache","retryCache","previousVirtualInstance","previousVirtualInstanceFirstFiber","mountChildrenRecursively","mountSuspenseChildrenRecursively","contentFiber","fallbackFiber","shouldIncludeInTree","newInstance","newSuspenseNode","isTimedOut","hydrated","updateTrackedPathStateBeforeMount","shouldPopSuspenseNode","stashedDisconnected","primaryChildFragment","fallbackChildFragment","fallbackChild","primaryChild","contentFiberInstance","actualDuration","convertedTreeBaseDuration","floor","selfDuration","metadata","maxActualDuration","changeDescription","changeDescriptions","updaters","memoizedUpdaters","instanceToSerializedElement","previousTreeBaseDuration","addUnfilteredChildrenIDs","nextChildren","recordResetChildren","addUnfilteredSuspenseChildrenIDs","recordResetSuspenseChildren","updateVirtualInstanceRecursively","nextFirstChild","nextLastChild","prevFirstChild","updateFlags","updateVirtualChildrenRecursively","nextChild","prevChildAtSameIndex","previousVirtualInstanceWasMount","previousVirtualInstanceNextFirstFiber","previousVirtualInstancePrevFirstFiber","previousSiblingOfBestMatch","newVirtualInstance","prevChild","previousSiblingOfExistingInstance","existingInstance","updateFiberRecursively","updateChildrenRecursively","updateSuspenseChildrenRecursively","nextContentFiber","prevContentFiber","prevFallbackFiber","nextFallbackFiber","shouldMeasureSuspenseNode","isLegacySuspense","prevDidTimeout","nextDidTimeOut","prevWasHidden","nextIsHidden","prevWasSuspended","nextIsSuspended","nextFiberChild","nextFallbackChildSet","prevFiberChild","prevFallbackChildSet","childrenUpdateFlags","nextPrimaryChildSet","disconnectChildrenRecursively","reconnectChildrenRecursively","previousHydrated","nextHydrated","rootSupportsProfiling","memoizedInteractions","localPendingOperationsQueue","commitTime","profilingStartTime","priorityLevel","_getEffectDurations","formatPriorityLevel","nextIsMounted","prevWasMounted","removeRootPseudoKey","commitProfilingMetadata","rootToCommitProfilingMetadataMap","getResourceInstance","appendHostInstancesByDevToolsInstance","appendHostInstancesByFiber","getNearestSuspenseNode","domNode","isMostRecentlyInspectedElement","getOwnersListFromInstance","ownerFiber","ownerInfo","originalConsoleMethods","getSuspendedByOfSuspenseNode","filterByChildInstance","hooksCacheKey","hooksCache","streamEntries","_iterator7","_step7","newIO","streamPromise","existingIO","serializeAsyncInfo","getSuspendedByOfInstance","foundIOEntries","getSuspendedByOfInstanceSubtree","suspenseParentInstance","FALLBACK_THROTTLE_MS","getSuspendedByRange","_","parentMax","throttleTime","getAwaitStackFromHooks","matchedStack","ioOwnerInstance","awaitStack","awaitOwnerInstance","resolvedValue","description","isErrorBoundary","getDerivedStateFromError","componentDidCatch","inspectElementRaw","inspectVirtualInstanceRaw","inspectRootsRaw","inspectFiberInstanceRaw","usesHooks","showState","canViewSource","shouldHideContext","contextTypes","contextType","consumerResolvedContext","currentType","currentTypeSymbol","providerResolvedContext","hasErrorBoundary","hasSuspenseBoundary","temp","DidCapture","xstyle","getSourceForFiberInstance","getSourceForInstance","nearestFiber","getNearestFiber","currentlyInspectedPaths","isMostRecentlyInspectedElementCurrent","mergeInspectedPaths","createIsPathAllowed","updateSelectedElement","inspectedElement","$r","valueToCopy","errorType","cleanedInspectedElement","roots","minSuspendedByRange","maxSuspendedByRange","inspectedRoot","supportsGroup","chrome","navigator","userAgent","pendingProps","initialTreeBaseDurationsMap","dataForRoots","commitData","initialTreeBaseDurations","commitProfilingData","commitIndex","fiberActualDurations","fiberSelfDurations","timelineData","rest","_objectWithoutProperties","_excluded","batchUIDToMeasuresKeyValueArray","laneToLabelKeyValueArray","laneToReactMeasureKeyValueArray","snapshotTreeBaseDurations","shouldRecordChangeDescriptions","shouldRecordTimeline","inst","shouldErrorFiberAccordingToMap","shouldSuspendFiberAccordingToSet","unsuspendedSet","resuspended","trackedPathMatchFiber","trackedPathMatchDepth","returnFiber","returnAlternate","actualFrame","getPathFrame","expectedFrame","getVirtualPathFrame","rootPseudoKeys","counter","pseudoKey","preferredDisplayName","fallbackDisplayName","keyPath","ownerSource","stackFrame","unresolvedSource","debugLocation","lastLine","internalMcpFunctions","__IS_INTERNAL_MCP_BUILD__","__internal_only_getComponentTree","treeString","buildTreeString","isLastChild","childPrefix","childCount","tempChild","currentChildIndex","isLastSibling","rootInstances","isLast","decorate","old","decorateMany","fns","olds","restoreMany","getData","internalInstance","_currentElement","getElementType","getChildren","_renderedComponent","_renderedChildren","renderedChildren","idToInternalInstanceMap","internalInstanceToIDMap","internalInstanceToRootIDMap","findHostInstanceForInternalID","ComponentTree","getClosestInstanceFromNode","getNodeFromInstance","Mount","getID","getNode","areEqualArrays","parentIDStack","oldReconcilerMethods","Reconciler","mountComponent","hostContainerInfo","_topLevelWrapper","performUpdateIfNecessary","prevChildren","recordReorder","receiveComponent","unmountComponent","Mixin","_owner","_getData","nextChildIDs","pendingUnmountedIDs","crawlAndRecordInitialMounts","_instancesByReactRootID","_instancesByContainerID","encodedKey","existingID","stringID","currentlyInspectedElementID","_instance","inspectInternalInstanceRaw","_getData2","rootKey","enabled","attachFlight","attachFiber","attachLegacy","isMatchingRender","attachRenderer","findFiberByHostInstance","template","argumentsPointer","currentChar","nextChar","_args$splice","_args$splice2","_args$splice3","_args$splice4","_args$splice5","_args$splice6","PREFIX_REGEX","ROW_COLUMN_NUMBER_REGEX","isStringComponentStack","frameDiffs","areStackTracesEqual","targetConsole","defaultProfilingSettings","installHook","maybeSettingsOrSettingsPromise","detectReactBuildType","Function","_renderNewRootComponent","renderRootCode","checkDCE","code","hasDetectedBadDCE","inject","renderers","reactBuildType","hasUnsupportedRendererAttached","sub","fiberRoots","onCommitFiberUnmount","onCommitFiberRoot","mountedRoots","isKnownRoot","isUnmounting","onPostCommitFiberRoot","isRunningDuringStrictModeInvocation","setStrictMode","isStrictMode","patchConsoleForStrictMode","unpatchConsoleForStrictMode","unpatchConsoleCallbacks","consoleMethodsToOverrideForStrictMode","_consoleMethodsToOver","_i","originalMethod","overrideMethod","hideConsoleLogsInStrictMode","openModuleRangesStack","moduleRanges","getTopStackFrameString","registerInternalModuleStart","registerInternalModuleStop","patchConsoleForErrorsAndWarnings","consoleMethodsToOverrideForErrorsAndWarnings","_loop2","_consoleMethodsToOver2","_i2","_len2","_key2","injectedComponentStackAsFakeError","alreadyHasComponentStack","appendComponentStack","lastArg","shouldShowInlineWarningsAndErrors","showInlineWarningsAndErrors","_loop3","fakeError","firstArg","breakOnConsoleErrors","argsWithCSSStyles","backends","supportsFiber","supportsFlight","initBackend","isReloadAndProfileSupported","subs","onFastRefreshScheduled","onHookOperations","onTraceUpdates","onHookSettings","reactDevtoolsAgent","onAgentShutdown","onReloadAndProfileSupportedByHost","resolveBoxStyle","hasParts","styleForAll","_Object$keys","styleForHorizontal","styleForLeft","styleForRight","styleForEnd","styleForStart","styleForVertical","styleForBottom","styleForTop","setupNativeStyleEditor","resolveNativeStyle","validAttributes","measureStyle","oldName","newName","renameStyle","setStyle","isSupported","EMPTY_BOX_STYLE","componentIDToStyleOverrides","layout","resolvedStyle","styleOverrides","measure","shallowClone","cloned","newStyle","customStyle","setNativeProps","lastIndex","lastLength","savedComponentFilters","connectToDevTools","_ref$host","host","nativeStyleEditorValidAttributes","_ref$useHttps","useHttps","_ref$port","port","websocket","_ref$resolveRNStyle","resolveRNStyle","_ref$retryConnectionD","retryConnectionDelay","_ref$isAppActive","isAppActive","onSettingsUpdated","_ref$isReloadAndProfi","protocol","retryTimeoutID","messageListeners","uri","ws","WebSocket","onclose","handleClose","onerror","handleFailed","onmessage","handleMessage","onopen","transferable","readyState","OPEN","lazyResolveRNStyle","lazyNativeStyleEditorValidAttributes","initAfterTick","connectWithCustomMessagingProtocol","onSubscribe","onUnsubscribe","onMessage","_ref2$isReloadAndProf","unsubscribeBackend","nativeStyleResolver"],"sourceRoot":""}